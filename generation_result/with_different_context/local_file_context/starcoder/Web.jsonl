{"instance_id": "112855ce32e1", "generation_result": [{"code": "handleOpenMarketplace = (): void => {\n\tconst {canOpenMarketplace, intl, post} = this.props;\nif (canOpenMarketplace) {\nconst dialog = {\nid: ModalIdentifiers.PLUGINS_MODAL,\ntype: 'marketplace',\nprops: {\nsource: 'actions_menu',\npost,\n},\n};\nthis.props.actions.openModal(dialog);\n} else {\nthis.props.actions.postEphemeralCallResponseForPost({\npostId: post.id,\nresponseType: AppCallResponseTypes.OK,\ntext: intl.formatMessage({\nid: 'marketplace_modal.marketplace_not_available',\ndefaultMessage: 'The Marketplace is not available to your license. Please contact your System Administrator.',\n}),\n});\n}\n}", "CodeBleu_score": 32.575427367656076}, {"code": "handleOpenMarketplace = (): void => {\n\t\n}", "CodeBleu_score": 3.1177671538345573}, {"code": "handleOpenMarketplace = (): void => {\n\t\tconst {canOpenMarketplace} = this.props;\n\tif (canOpenMarketplace) {\n\t\tthis.props.actions.openModal({\n\t\t\tmodalId: ModalIdentifiers.PLUGIN_MARKETPLACE,\n\t\t\tdialogType: MarketplaceModal,\n\t\t\tdialogProps: {\n\t\t\t\tsource: 'actions_menu',\n\t\t\t},\n\t\t});\n\t}\n}", "CodeBleu_score": 34.200796628257955}]}
{"instance_id": "421836df0bf0", "generation_result": [{"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst {\napp_id: appId,\ncall,\nform,\nlocation,\n} = binding;\n\nif (!appId || !call) {\nreturn;\n}\n\nconst {\nchannel_id: channelId,\npost_id: postId,\nroot_id: rootId,\nteam_id: teamId,\n} = this.props.post;\n\nif (!channelId || !teamId) {\nreturn;\n}\n\nconst context = createCallContext(\nappId,\nlocation,\nchannelId,\nteamId,\npostId,\nrootId,\nthis.props.intl,\n);\n\ntry {\nconst result = await call.method(context, form);\n\nif (result.type === AppCallResponseTypes.OK) {\nif (result.markdown) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, result.markdown);\n} else if (result.text) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, result.text);\n}\n} else if (result.type === AppCallResponseTypes.NAVIGATE) {\nUtils.switchChannel(result.url);\n} else if (result.type === AppCallResponseTypes.FORM) {\nthis.props.actions.openAppsModal(result.app_id, result.form);\n} else {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, {\ntype: 'error',\nmessage: 'apps.error.binding_unsupported_response',\n});\n}\n} catch (error) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, {\ntype: 'error',\nmessage: 'apps.error.binding_execute',\n});\n}\n}", "CodeBleu_score": 30.23519895776905}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst {post, teamId, actions} = this.props;\nconst context = createCallContext(binding.app_id, this.props.location, post.channel_id, teamId, post.id, post.root_id);\n\ntry {\nconst response = await this.props.actions.handleBindingClick(binding, context, this.props.intl);\n\nswitch (response.type) {\ncase AppCallResponseTypes.OK:\nif (response.markdown) {\nconst {postEphemeralCallResponseForPost} = this.props.actions;\npostEphemeralCallResponseForPost(post.id, response.markdown);\n}\nbreak;\n\ncase AppCallResponseTypes.NAVIGATE:\nUtils.browserHistory.push(response.url);\nbreak;\n\ncase AppCallResponseTypes.FORM:\nactions.openAppsModal(response);\nbreak;\n\ndefault:\nconsole.error('unsupported app call response type', response);\n\n}\n} catch (error) {\nconst {postEphemeralCallResponseForPost} = this.props.actions;\npostEphemeralCallResponseForPost(post.id, (\n<FormattedMessage\n\nid='post_dropdown.error.app_call_response'\n\ndefaultMessage='There was an error while processing the response from the app.'\n\n/>\n\n));\n\nconsole.error('error while processing app call response', error);\n\n}\n}", "CodeBleu_score": 36.679189079434394}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst {post, teamId, actions} = this.props;\n\nconst context = createCallContext(binding.app_id, this.props.location, post.channel_id, teamId, post.id, post.root_id);\n\ntry {\nconst result = await this.props.actions.handleBindingClick(binding, context, this.props.intl);\n\nif (result.error) {\nconst errorMessage = this.props.intl.formatMessage({\nid: 'apps.error.message',\ndefaultMessage: 'Error: {error}',\n}, {error: result.error});\n\nactions.postEphemeralCallResponseForPost(post.channel_id, post.id, {\ntype: AppCallResponseTypes.ERROR,\nmarkdown: errorMessage,\n});\n} else if (result.type === AppCallResponseTypes.OK) {\nactions.postEphemeralCallResponseForPost(post.channel_id, post.id, {\ntype: AppCallResponseTypes.OK,\nmarkdown: result.markdown,\n});\n} else if (result.type === AppCallResponseTypes.NAVIGATE) {\nUtils.browserHistory.push(result.url);\n} else if (result.type === AppCallResponseTypes.FORM) {\nactions.openAppsModal(result.form);\n} else {\nconst errorMessage = this.props.intl.formatMessage({\nid: 'apps.error.unsupported_response',\ndefaultMessage: 'Error: Unsupported response type',\n});\n\nactions.postEphemeralCallResponseForPost(post.channel_id, post.id, {\ntype: AppCallResponseTypes.ERROR,\nmarkdown: errorMessage,\n});\n}\n} catch (error) {\nconst errorMessage = this.props.intl.formatMessage({\nid: 'apps.error.message',\ndefaultMessage: 'Error: {error}',\n}, {error});\n\nactions.postEphemeralCallResponseForPost(post.channel_id, post.id, {\ntype: AppCallResponseTypes.ERROR,\nmarkdown: errorMessage,\n});\n}\n}", "CodeBleu_score": 47.048550574238746}]}
{"instance_id": "7b2d58ae93e2", "generation_result": [{"code": "handleDropdownOpened = (open: boolean) =>{\n\t\tif (this.props.handleDropdownOpened) {\n\t\tthis.props.handleDropdownOpened(open);\n\t}\n\n\tif (!open) {\n\t\treturn;\n\t}\n\n\tconst buttonRect = this.buttonRef.current.getBoundingClientRect();\n\tconst windowHeight = window.innerHeight;\n\tconst spaceBelow = windowHeight - buttonRect.bottom;\n\tconst spaceAbove = buttonRect.top;\n\tconst openUp = spaceAbove > spaceBelow;\n\n\tthis.setState({openUp});\n}", "CodeBleu_score": 34.77852004697847}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\t\tif (this.props.handleDropdownOpened) {\n\t\tthis.props.handleDropdownOpened(open);\n\t}\n\treturn !open;\n}", "CodeBleu_score": 4.342117017091759}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\tif (this.props.handleDropdownOpened) {\nthis.props.handleDropdownOpened(open);\n}\n\nif (open) {\nconst buttonRect = this.buttonRef.current!.getBoundingClientRect();\nconst windowHeight = window.innerHeight;\nconst windowWidth = window.innerWidth;\n\n\nconst spaceAbove = buttonRect.top;\n\n\nconst spaceBelow = windowHeight - buttonRect.bottom;\n\n\nthis.setState({openUp: spaceAbove > spaceBelow});\n}\n\nreturn !open;\n}", "CodeBleu_score": 30.24519266322678}]}
{"instance_id": "024f57c26061", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t\tconst post = ownProps.post;\n\tconst isMobile = getIsMobileView(state);\n\tconst isSystemMessagePost = isSystemMessage(post);\n\tconst isSystemAdminUser = isSystemAdmin(getCurrentUser(state));\n\tconst isCurrentTeamAdmin = haveICurrentTeamPermission(state, {permission: Permissions.MANAGE_SYSTEM});\n\tconst teamId = getCurrentTeamId(state);\n\tconst appsEnabledStatus = appsEnabled(state);\n\tconst postOptionBinding = getPostOptionBinding(state, post);\n\tconst postEphemeralCallResponseForPost = bindActionCreators(postEphemeralCallResponseForPost, dispatch);\n\tconst handleBindingClick = bindActionCreators(handleBindingClick, dispatch);\n\tconst openAppsModal = bindActionCreators(openAppsModal, dispatch);\n\tconst openModal = bindActionCreators(openModal, dispatch);\n\n\treturn {\n\t\tappBindings: isSystemMessagePost ? emptyBindings : postOptionBinding.bindings,\n\t\tappsEnabled: appsEnabledStatus,\n\t\tisCurrentUserAdmin: isSystemAdminUser || isCurrentTeamAdmin,\n\t\tteamId,\n\t\tisMobile,\n\t\tisMarketplaceEnabled: isMarketplaceEnabled(state),\n\t\thandleCardClick: ownProps.handleCardClick,\n\t\thandleDropdownOpened: ownProps.handleDropdownOpened,\n\t\tisMenuOpen: ownProps.isMenuOpen,\n\t\tlocation: ownProps.location,\n\t\tpostEphemeralCallResponseForPost,\n\t\thandleBindingClick,\n\t\topenAppsModal,\n\t\topenModal,\n\t};\n}", "CodeBleu_score": 38.36139006704045}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t\tconst {post} = ownProps;\n\tconst isSystemMessage = isSystemMessage(post);\n\tconst isMobile = getIsMobileView(state);\n\tconst appsEnabled = appsEnabled(state);\n\tconst isMarketplaceEnabled = isMarketplaceEnabled(state);\n\tconst currentUser = getCurrentUser(state);\n\tconst currentTeamId = getCurrentTeamId(state);\n\tconst haveICurrentTeamPermission = haveICurrentTeamPermission(state, {permission: Permissions.MANAGE_SYSTEM});\n\tconst postOptionBinding = getPostOptionBinding(state, post);\n\tconst bindings = postOptionBinding.bindings || emptyBindings;\n\n\treturn {\n\t\tpost,\n\t\tappsEnabled,\n\t\tisMarketplaceEnabled,\n\t\tcurrentUser,\n\t\tcurrentTeamId,\n\t\thaveICurrentTeamPermission,\n\t\tbindings,\n\t\tisSystemMessage,\n\t\tisMobile,\n\t};\n}", "CodeBleu_score": 46.436322213410115}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t\tconst {post} = ownProps;\n\tconst {id, type, props} = post;\n\tconst isSystemMessage = isSystemMessageHelper(post);\n\tconst currentUser = getCurrentUser(state);\n\tconst teamId = getCurrentTeamId(state);\n\tconst isMobileView = getIsMobileView(state);\n\tconst appsEnabled = appsEnabledSelector(state);\n\tconst isMarketplaceEnabled = isMarketplaceEnabledSelector(state);\n\tconst haveICurrentTeamPermission = haveICurrentTeamPermissionSelector(state);\n\tconst bindings = getPostOptionBindings(state, post);\n\n\treturn {\n\t\tpost,\n\t\tisSystemMessage,\n\t\tcurrentUser,\n\t\tteamId,\n\t\tisMobileView,\n\t\tappsEnabled,\n\t\tisMarketplaceEnabled,\n\t\thaveICurrentTeamPermission,\n\t\tbindings,\n\t};\n}", "CodeBleu_score": 35.95595708636059}]}
{"instance_id": "ae0a07f4dbea", "generation_result": [{"code": "export default function DeviceIcon(props: Props){\n\t\n    const {devicePicture, deviceTitle} = props;\n    const {formatMessage} = useIntl();\n\n    const title = isMessageDescriptor(deviceTitle) ? formatMessage(deviceTitle) : deviceTitle;\n\n    return (\n\n        <div className={devicePicture} title={title}/>\n\n    );\n\n}", "CodeBleu_score": 27.747155419427543}, {"code": "export default function DeviceIcon(props: Props){\n\t\tconst {devicePicture, deviceTitle} = props;\n\tconst {formatMessage} = useIntl();\n\n\tconst title = isMessageDescriptor(deviceTitle) ? formatMessage(deviceTitle) : deviceTitle;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={'device-icon ' + devicePicture}\n\t\t\ttitle={title}\n\t\t/>\n\t);\n}", "CodeBleu_score": 27.21889808795362}, {"code": "export default function DeviceIcon(props: Props){\n\t\n    const {formatMessage} = useIntl();\n    const {devicePicture, deviceTitle} = props;\n    const iconClass = devicePicture ? `icon icon--device ${devicePicture}` : 'icon icon--device icon--device-none';\n    const iconTitle = isMessageDescriptor(deviceTitle) ? formatMessage(deviceTitle) : deviceTitle;\n    return <i className={iconClass} title={iconTitle}/>;\n}", "CodeBleu_score": 32.71584498847891}]}
{"instance_id": "e0a805402908", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\t\nconst currentChannel = getCurrentChannel(state) || {};\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, currentChannel.id);\nconst searchTerm = state.views.search.modalSearch || '';\n\nlet filteredGroups = groupsNotAssociatedToChannel;\nif (searchTerm) {\nfilteredGroups = filteredGroups.filter((group) => group.display_name.toLowerCase().startsWith(searchTerm.toLowerCase()));\n}\n\nreturn {\n    currentChannel,\n    groupsNotAssociatedToChannel,\n    searchTerm,\n    filteredGroups,\n};\n}", "CodeBleu_score": 36.65690287353453}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\tconst {channel, excludeGroups} = ownProps;\nconst {currentChannelId} = state.entities.channels;\nconst searchTerm = state.views.search.modalSearch;\nconst groupsNotAssociated = selectGroupsNotAssociatedToChannel(state, currentChannelId, searchTerm);\nconst channelIsArchived = channel.delete_at !== 0;\n\nreturn {\n    channel,\n    excludeGroups,\n    groupsNotAssociated,\n    channelIsArchived,\n};\n}", "CodeBleu_score": 30.508972438894986}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\tconst {channel, skipCommit, excludeGroups} = ownProps;\nconst currentChannel = getCurrentChannel(state);\nconst searchTerm = state.views.search.modalSearch;\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, currentChannel.id);\n\nif (searchTerm) {\nconst filteredGroups = groupsNotAssociatedToChannel.filter((group) => group.display_name.toLowerCase().includes(searchTerm.toLowerCase()));\nreturn {\ncurrentChannel,\nsearchTerm,\nfilteredGroups,\n};\n}\n\nreturn {\ncurrentChannel,\nsearchTerm,\ngroupsNotAssociatedToChannel,\n};\n}", "CodeBleu_score": 42.71682182925297}]}
{"instance_id": "a3412b1c0762", "generation_result": [{"code": "componentDidUpdate(prevProps: Props){\n\t\tif (prevProps.searchTerm !== this.props.searchTerm) {\n\t\tclearTimeout(this.searchTimeoutId);\n\t\tthis.searchTimeoutId = window.setTimeout(this.setGroupsLoadingState, 500, true);\n\t}\n}", "CodeBleu_score": 12.73244433993907}, {"code": "componentDidUpdate(prevProps: Props){\n\t\tif (prevProps.searchTerm !== this.props.searchTerm) {\n\t\tclearTimeout(this.searchTimeoutId);\n\t\tthis.searchTimeoutId = window.setTimeout(() => {\n\t\t\tthis.setGroupsLoadingState(true);\n\t\t\tthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, this.props.searchTerm, 0, GROUPS_PER_PAGE + 1, true).then(() => {\n\t\t\t\tthis.setGroupsLoadingState(false);\n\t\t\t});\n\t\t}, Constants.SEARCH_TIMEOUT_MILLISECONDS);\n\t}\n}", "CodeBleu_score": 28.1251110912206}, {"code": "componentDidUpdate(prevProps: Props){\n\t\tif (this.props.searchTerm !== prevProps.searchTerm) {\n\t\tclearTimeout(this.searchTimeoutId);\n\t\tthis.searchTimeoutId = window.setTimeout(this.setGroupsLoadingState, Constants.SEARCH_TIMEOUT_MILLISECONDS, true);\n\t}\n}", "CodeBleu_score": 19.216036347970167}]}
{"instance_id": "0f47faf97411", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\tconst {channel, skipCommit, excludeGroups} = ownProps;\nconst currentChannel = getCurrentChannel(state) || {};\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, currentChannel.id);\nconst searchTerm = state.views.search.modalSearch;\nlet filteredGroups;\n\nif (groupsNotAssociatedToChannel.length > 0) {\nfilteredGroups = groupsNotAssociatedToChannel.filter((group) => {\nreturn group.display_name.toLowerCase().includes(searchTerm.toLowerCase());\n});\n} else {\nfilteredGroups = groupsNotAssociatedToChannel;\n}\n\nreturn {\ncurrentChannel,\nfilteredGroups,\nsearchTerm,\nexcludeGroups,\n};\n}", "CodeBleu_score": 39.1416611208808}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\t\n    const {channel, excludeGroups} = ownProps;\n    const currentChannel = getCurrentChannel(state);\n    const groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, currentChannel.id);\n    const searchTerm = state.views.search.modalSearch;\n    const filteredGroups = searchTerm ? groupsNotAssociatedToChannel.filter((group) => group.display_name.toLowerCase().includes(searchTerm.toLowerCase())) : groupsNotAssociatedToChannel;\n\n    return {\n        currentChannel,\n        excludeGroups,\n        groupsNotAssociatedToChannel,\n        filteredGroups,\n        searchTerm,\n    };\n}", "CodeBleu_score": 43.51459893125952}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\tconst currentChannel = getCurrentChannel(state, ownProps.channel.id) || {};\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, currentChannel.id);\nconst searchTerm = state.views.search.modalSearch;\nconst filteredGroups = searchTerm ? groupsNotAssociatedToChannel.filter((group) => group.display_name.toLowerCase().includes(searchTerm.toLowerCase())) : groupsNotAssociatedToChannel;\n\nreturn {\n    currentChannel,\n    excludeGroups: ownProps.excludeGroups,\n    filteredGroups,\n    searchTerm,\n    team: state.entities.teams.byId[currentChannel.team_id],\n};\n}", "CodeBleu_score": 46.24405822948518}]}
{"instance_id": "923c0c472c01", "generation_result": [{"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\n/**\n * If the page number is greater than the previous, set the loading state to true.\n */\nif (page > prevPage) {\nthis.setUsersLoadingState(true);\n\n}\n\n/**\n * Fetch the user profiles.\n */\nif (this.props.groupId) {\nthis.props.actions.getProfilesNotInGroup(this.props.groupId, page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n} else {\nthis.props.actions.getProfiles(page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n}\n}", "CodeBleu_score": 72.99734673755563}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\n}", "CodeBleu_score": 10.193291359723888}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\tif (page > prevPage) {\n\t\tthis.setUsersLoadingState(true);\n\t\tif (this.props.groupId) {\n\t\t\tthis.props.actions.getProfilesNotInGroup(this.props.groupId, page, USERS_PER_PAGE).then(() => {\n\t\t\t\tthis.setUsersLoadingState(false);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.props.actions.getProfiles(page, USERS_PER_PAGE).then(() => {\n\t\t\t\tthis.setUsersLoadingState(false);\n\t\t\t});\n\t\t}\n\t}\n}", "CodeBleu_score": 74.86891141845592}]}
{"instance_id": "4614bb3319bb", "generation_result": [{"code": "public search = (searchTerm: string): void => {\n\tconst trimmedSearchTerm = searchTerm.trim();\nif (this.searchTimeoutId) {\nclearTimeout(this.searchTimeoutId);\n}\n\nthis.setState({term: trimmedSearchTerm});\nif (trimmedSearchTerm) {\nthis.setUsersLoadingState(true);\n}\n\nthis.searchTimeoutId = setTimeout(async () => {\nif (trimmedSearchTerm) {\nconst {data} = await this.props.actions.searchProfiles(trimmedSearchTerm, this.props.searchOptions);\nthis.props.actions.loadStatusesForProfilesList(data.profiles);\nthis.setState({values: data.profiles});\n}\n\n\nthis.setUsersLoadingState(false);\n}, Constants.SEARCH_TIMEOUT_MILLISECONDS);\n}", "CodeBleu_score": 57.09394531323837}, {"code": "public search = (searchTerm: string): void => {\n\t\tclearTimeout(this.searchTimeoutId);\n\n\tthis.setState({\n\n\t\tterm: searchTerm.trim(),\n\n\t\tloadingUsers: searchTerm.trim() !== '',\n\n\t});\n\n\tif (searchTerm.trim() !== '') {\n\n\t\tthis.searchTimeoutId = setTimeout(async () => {\n\n\t\t\tconst {data} = await this.props.actions.searchProfiles(searchTerm.trim(), this.props.searchOptions);\n\n\t\t\tif (data) {\n\n\t\t\t\tthis.props.actions.loadStatusesForProfilesList(data);\n\n\t\t\t}\n\n\t\t\tthis.setUsersLoadingState(false);\n\n\t\t}, Constants.SEARCH_TIMEOUT_MILLISECONDS);\n\n\t}\n\n}", "CodeBleu_score": 46.602989193503966}, {"code": "public search = (searchTerm: string): void => {\n\tthis.clearSearchTimeout();\nthis.setState({term: searchTerm.trim()});\nif (this.state.term !== '') {\nthis.setUsersLoadingState(true);\nthis.searchTimeoutId = setTimeout(() => {\nthis.props.actions.searchProfiles(this.state.term, this.props.searchOptions).then(() => {\nthis.setUsersLoadingState(false);\n});\n}, Constants.SEARCH_TIMEOUT_MILLISECONDS);\n}\n}", "CodeBleu_score": 29.198812840152954}]}
{"instance_id": "aeafe2d0ee11", "generation_result": [{"code": "visibleSections = () =>{\n\t\tconst visibleSections = new Set<string>();\n\tconst sections = Object.keys(this.props.adminDefinition);\n\tfor (const section of sections) {\n\t\tconst subsections = Object.keys(this.props.adminDefinition[section]);\n\t\tfor (const subsection of subsections) {\n\t\t\tconst items = this.props.adminDefinition[section][subsection];\n\t\t\tfor (const item of items) {\n\t\t\t\tif (item.schema && item.title && !item.hidden && this.checkIfVisible(item)) {\n\t\t\t\t\tvisibleSections.add(section);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn visibleSections;\n}", "CodeBleu_score": 25.799501365978877}, {"code": "visibleSections = () =>{\n\t", "CodeBleu_score": 0.39278204779788817}, {"code": "visibleSections = () =>{\n\t", "CodeBleu_score": 0.39278204779788817}]}
{"instance_id": "e869682a1b2c", "generation_result": [{"code": "handleImageChange = () =>{\n\tif (this.fileInputRef.current && this.fileInputRef.current.files && this.fileInputRef.current.files[0]) {\nthis.props.setSaveNeeded();\nthis.setState({\nbrandImage: this.fileInputRef.current.files[0],\ndeleteBrandImage: false,\nerror: '',\n});\n}\n}", "CodeBleu_score": 24.00991942466493}, {"code": "handleImageChange = () =>{\n\t\tconst {fileInputRef, props} = this;\n\tconst {setSaveNeeded} = props;\n\n\tif (fileInputRef.current && fileInputRef.current.files && fileInputRef.current.files.length) {\n\t\tsetSaveNeeded();\n\t\tthis.setState({\n\t\t\tbrandImage: fileInputRef.current.files[0],\n\t\t\tdeleteBrandImage: false,\n\t\t});\n\t}\n}", "CodeBleu_score": 26.905332898455303}, {"code": "handleImageChange = () =>{\n\tif (this.fileInputRef.current && this.fileInputRef.current.files && this.fileInputRef.current.files.length > 0) {\nthis.props.setSaveNeeded();\nthis.setState({\nbrandImage: this.fileInputRef.current.files[0],\ndeleteBrandImage: false,\nerror: '',\n});\n}\n}", "CodeBleu_score": 27.541409076355595}]}
{"instance_id": "8bc13681a6b2", "generation_result": [{"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tconst {channelsToRemove} = this.props;\nif (channelsToRemove[channel.id]) {\nreturn;\n}\nconst {page} = this.state;\nconst {startCount, endCount, total} = this.getPaginationProps();\nif (endCount === total && page > 0) {\nthis.previousPage();\n}\nthis.props.onRemoveCallback(channel);\nthis.setStatePage(page);\n}", "CodeBleu_score": 50.82279637963249}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tif (this.props.channelsToRemove[channel.id]) {\nreturn;\n}\nconst {page} = this.state;\nconst {startCount, endCount, total} = this.getPaginationProps();\n\nif (endCount === total) {\nreturn;\n}\n\nif (page !== 0 && startCount === endCount) {\nthis.setStatePage(page - 1);\n}\n\nthis.props.onRemoveCallback(channel);\n}", "CodeBleu_score": 41.45062170595731}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tconst {channelsToRemove} = this.props;\nif (channelsToRemove[channel.id]) {\nreturn;\n}\n\nthis.props.onRemoveCallback(channel);\n\nconst {page} = this.state;\nconst {endCount, total} = this.getPaginationProps();\nif (endCount === total && page > 0) {\nthis.previousPage();\n}\n}", "CodeBleu_score": 47.802490331970844}]}
{"instance_id": "ac41454927ac", "generation_result": [{"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id !== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 96.11459253784346}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id !== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 96.11459253784346}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id !== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 96.11459253784346}]}
{"instance_id": "bdc81f9a884e", "generation_result": [{"code": "private removeTeam = (team: Team) =>{\n\tif (this.props.teamsToRemove[team.id]) {\nreturn;\n}\n\nthis.props.actions.setTeamListSearch(this.props.searchTerm);\n\nconst {page} = this.state;\nconst {totalCount} = this.props;\nconst teamsToRemoveCount = Object.keys(this.props.teamsToRemove).length;\nconst teamsToAddCount = Object.keys(this.props.teamsToAdd).length;\n\nif (teamsToRemoveCount + teamsToAddCount >= totalCount) {\nthis.props.actions.setTeamListSearch('');\n}\n\nconst updatedPage = Math.ceil((totalCount - teamsToRemoveCount) / PAGE_SIZE) - 1;\nthis.setStatePage(updatedPage);\nthis.setStateLoading(true);\nthis.props.onRemoveCallback(team);\nthis.setStateLoading(false);\n}", "CodeBleu_score": 38.362933674648716}, {"code": "private removeTeam = (team: Team) =>{\n\tconst {teamsToRemove} = this.props;\nif (teamsToRemove[team.id]) {\nreturn;\n}\n\nthis.props.actions.setTeamListSearch('');\nthis.props.onRemoveCallback(team);\n\nconst {page} = this.state;\nconst total = this.getVisibleTotalCount();\nif (total <= PAGE_SIZE) {\nthis.setStatePage(0);\n} else if (page * PAGE_SIZE >= total) {\nthis.setStatePage(page - 1);\n}\nthis.setState({page});\n}", "CodeBleu_score": 47.69191123061353}, {"code": "private removeTeam = (team: Team) =>{\n\tthis.setState({page: this.state.page - 1});\nthis.props.onRemoveCallback(team);\nthis.setState({page: this.state.page + 1});\n}", "CodeBleu_score": 9.518973260003177}]}
{"instance_id": "e55dd105e5d2", "generation_result": [{"code": "async function loadListInPageNumber(page: number){\n\t\ttry {\n\t\tconst {data} = await client.get<PagedTeamSearchOpts>(`/teams/search`, {params: {page, per_page: TEAMS_PER_PAGE}});\n\t\tconst teamList = data.teams.map((team) => ({label: team.display_name, value: team.id}));\n\t\tsetList((prevList) => prevList.concat(teamList));\n\t} catch (error) {\n\t\tconsole.error(error);\n\t}\n\tsetPageNumber(page);\n}", "CodeBleu_score": 28.69187261210214}, {"code": "async function loadListInPageNumber(page: number){\n\t\ttry {\n\t\tconst {data} = await props.getTeamsPage(page, TEAMS_PER_PAGE, '', false);\n\t\tconst sortedTeams = data.teams.sort((a: Team, b: Team) => a.display_name.localeCompare(b.display_name));\n\t\tconst teamOptions = sortedTeams.map((team: Team) => ({label: team.display_name, value: team.id}));\n\t\tif (page === 0) {\n\t\t\tsetList(teamOptions);\n\t\t} else {\n\t\t\tsetList((prevList) => [...prevList, ...teamOptions]);\n\t\t}\n\t\tsetPageNumber(page);\n\t} catch (error) {\n\t\tconsole.error('Error fetching team list', error);\n\t}\n}", "CodeBleu_score": 43.6351188005302}, {"code": "async function loadListInPageNumber(page: number){\n\t\n}", "CodeBleu_score": 1.1353298048896276}]}
{"instance_id": "2de31ed13207", "generation_result": [{"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\ttry {\n\t\tconst response = await props.getTeams(0, TEAMS_PER_PAGE, true, term) as ActionResult<{teams: Team[]}>;\n\t\tif (response && response.data && response.data.teams && response.data.teams.length > 0) {\n\t\t\tconst list = response.data.teams.\n\t\t\t\tmap((team: Team) => (\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: team.id,\n\t\t\t\t\t\tlabel: team.display_name,\n\t\t\t\t\t}\n\t\t\t\t)).\n\t\t\t\tsort((a: TeamSelectOption, b: TeamSelectOption) => a.label.localeCompare(b.label));\n\n\t\t\tcallBack(list);\n\t\t} else {\n\t\t\tcallBack([]);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error); // eslint-disable-line no-console\n\t}\n}", "CodeBleu_score": 65.20102194222379}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\ttry {\n\t\tconst response = await props.getTeams(0, TEAMS_PER_PAGE, true, term) as ActionResult<{teams: Team[]}>;\n\t\tif (response && response.data && response.data.teams && response.data.teams.length > 0) {\n\t\t\tconst list = response.data.teams.\n\t\t\t\tmap((team: Team) => (\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: team.id,\n\t\t\t\t\t\tlabel: team.display_name,\n\t\t\t\t\t}\n\t\t\t\t)).\n\t\t\t\tsort((a: TeamSelectOption, b: TeamSelectOption) => a.label.localeCompare(b.label));\n\n\t\t\tcallBack(list);\n\t\t} else {\n\t\t\tcallBack([]);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error); // eslint-disable-line no-console\n\t}\n}", "CodeBleu_score": 65.20102194222379}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\ttry {\n\t\tconst response = await props.getTeams(pageNumber, TEAMS_PER_PAGE, true) as ActionResult<{teams: Team[]}>;\n\t\tif (response && response.data && response.data.teams && response.data.teams.length > 0) {\n\t\t\tconst list = response.data.teams.map((team: Team) => (\n\t\t\t\t{\n\t\t\t\t\tvalue: team.id,\n\t\t\t\t\tlabel: team.display_name,\n\t\t\t\t}\n\t\t\t)).sort((a: TeamSelectOption, b: TeamSelectOption) => a.label.localeCompare(b.label));\n\n\t\t\tif (page === 0) {\n\t\t\t\tsetList(list);\n\t\t\t} else {\n\t\t\t\tsetList((existingList) => [...existingList, ...list]);\n\t\t\t}\n\n\t\t\tsetPageNumber(page + 1);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error); // eslint-disable-line no-console\n\t}\n}", "CodeBleu_score": 60.05887571356181}]}
{"instance_id": "845d63ff0f74", "generation_result": [{"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {groupTeams, groupChannels, rolesToChange = {}} = this.state;\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nif (syncableType === SyncableType.Team) {\nconst newGroupTeams = groupTeams.map((gt) => {\nif (gt.team_id === id) {\ngt.scheme_admin = schemeAdmin;\n}\nreturn gt;\n});\nthis.setState({groupTeams: newGroupTeams});\n} else if (syncableType === SyncableType.Channel) {\nconst newGroupChannels = groupChannels.map((gc) => {\nif (gc.channel_id === id) {\ngc.scheme_admin = schemeAdmin;\n}\nreturn gc;\n});\nthis.setState({groupChannels: newGroupChannels});\n}\nrolesToChange[id] = schemeAdmin;\nthis.setState({rolesToChange});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 36.48450302114298}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {\ngroupTeams,\ngroupChannels,\nrolesToChange = {},\n} = this.state;\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nlet makeAPIRequest = true;\nif (syncableType === SyncableType.Channel) {\nrolesToChange[id] = schemeAdmin;\nif (!this.props.groupChannels.some((item) => item.channel_id === id)) {\nmakeAPIRequest = false;\n}\n} else if (syncableType === SyncableType.Team) {\nrolesToChange[id] = schemeAdmin;\nif (!this.props.groupTeams.some((item) => item.team_id === id)) {\nmakeAPIRequest = false;\n}\n}\nif (makeAPIRequest) {\nrolesToChange[id] = schemeAdmin;\n}\n\nif (syncableType === SyncableType.Team) {\nthis.setState({\nrolesToChange,\ngroupTeams: groupTeams.map((gt) =>\ngt.team_id === id ? {...gt, scheme_admin: schemeAdmin} : gt,\n),\n});\n} else {\nthis.setState({\nrolesToChange,\ngroupChannels: groupChannels.map((gc) =>\ngc.channel_id === id ? {...gc, scheme_admin: schemeAdmin} : gc,\n),\n});\n}\nthis.setState({saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 33.49949200185681}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {groupTeams, groupChannels, rolesToChange = {}, teamsToAdd, channelsToAdd} = this.state;\nconst syncableType = this.syncableTypeFromEntryType(type);\nlet newState: Partial<State> = {\nsaveNeeded: true,\nrolesToChange,\nserverError: undefined,\n};\n\nif (syncableType === SyncableType.Channel) {\nnewState.channelsToAdd = channelsToAdd?.filter((item) => item.channel_id !== id);\n} else if (syncableType === SyncableType.Team) {\nnewState.teamsToAdd = teamsToAdd?.filter((item) => item.team_id !== id);\n}\n\nif (syncableType === SyncableType.Team) {\nnewState.groupTeams = groupTeams?.map((item) => {\nif (item.team_id !== id) {\nreturn item;\n}\nreturn {\n...item,\nscheme_admin: schemeAdmin,\n};\n});\n} else {\nnewState.groupChannels = groupChannels?.map((item) => {\nif (item.channel_id !== id) {\nreturn item;\n}\nreturn {\n...item,\nscheme_admin: schemeAdmin,\n};\n});\n}\n\nthis.setState(newState as any);\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 36.32328249920802}]}
{"instance_id": "02b54f0774f3", "generation_result": [{"code": "handleRolesToUpdate = async () =>{\n\t", "CodeBleu_score": 0.2438987737246306}, {"code": "handleRolesToUpdate = async () =>{\n\tconst {rolesToChange = {}} = this.state;\nconst roleUpdates = [];\n\nfor (const [key, value] of Object.entries(rolesToChange)) {\nconst [id, type] = key.split('/');\nconst syncableType = this.syncableTypeFromEntryType(type);\nif (syncableType) {\nroleUpdates.push(\nthis.props.actions.updateGroupSyncableSchemeAdmin(\n\nid,\n\nsyncableType,\n\nvalue,\n\n),\n\n);\n}\n}\n\nconst results = await Promise.all(roleUpdates);\nconst hasErrors = results.some((result) => result.error);\n\nif (hasErrors) {\nconst error = results.find((result) => result.error)?.error;\nthis.setState({\nserverError: error.message,\n\n});\n} else {\nthis.setState({\nrolesToChange: {},\n\n});\n}\n\nreturn !hasErrors;\n}", "CodeBleu_score": 43.00377674717117}, {"code": "handleRolesToUpdate = async () =>{\n\t", "CodeBleu_score": 0.2438987737246306}]}
{"instance_id": "30463a7bcb15", "generation_result": [{"code": "nextPage = async () =>{\n\tconst page = this.state.page + 1;\nif (page * GROUP_MEMBERS_PAGE_SIZE >= this.props.total) {\nthis.setState({loading: false});\n} else {\nthis.setState({loading: true});\nthis.props.getMembers(this.props.groupID, page, GROUP_MEMBERS_PAGE_SIZE).then(() => {\nthis.setState({loading: false});\n});\n}\n}", "CodeBleu_score": 18.145668848665945}, {"code": "nextPage = async () =>{\n\tconst page = this.state.page + 1;\nif (page * GROUP_MEMBERS_PAGE_SIZE >= this.props.total) {\nreturn;\n}\nthis.setState({loading: true, page});\nconst result = await this.props.getMembers(this.props.groupID, page, GROUP_MEMBERS_PAGE_SIZE);\nthis.setState({loading: false});\n}", "CodeBleu_score": 24.38004707250269}, {"code": "nextPage = async () =>{\n\tif (this.state.page * GROUP_MEMBERS_PAGE_SIZE < this.props.total) {\nthis.setState({loading: true});\nconst {data} = await this.props.getMembers(\nthis.props.groupID,\nthis.state.page + 1,\nGROUP_MEMBERS_PAGE_SIZE,\n);\nthis.setState({loading: false, page: this.state.page + 1});\n}\n}", "CodeBleu_score": 17.02060133081452}]}
{"instance_id": "d6aba286f65f", "generation_result": [{"code": "public handleGroupSearchKeyUp(e: any){\n\tif (e.keyCode === 13) {\nthis.setState({page: 0}, () => {\nthis.searchGroups(0);\n});\n\nconst newState = {...this.state};\n\nlet {searchString} = this.state;\n\nObject.entries(FILTER_STATE_SEARCH_KEY_MAPPING).forEach(([key, value]) => {\nconst re = this.regex(value.filter);\nif (re.test(searchString)) {\n(newState as any)[key] = true;\nsearchString = searchString.replace(re, '');\n} else if ((this.state as any)[key]) {\nsearchString += ' ' + value.filter;\n}\n});\n\nnewState.searchString = searchString;\nnewState.showFilters = false;\n\nthis.setState(newState);\n}\n}", "CodeBleu_score": 37.83888760694012}, {"code": "public handleGroupSearchKeyUp(e: any){\n\te.preventDefault();\nif (e.keyCode === 13) {\nthis.setState({\npage: 0,\nloading: true,\nshowFilters: false,\n}, () => {\nthis.searchGroups(0);\n});\n} else {\nconst newState = {...this.state};\nObject.entries(FILTER_STATE_SEARCH_KEY_MAPPING).forEach(([key, value]) => {\nconst re = this.regex(value.filter);\nif (re.test(e.target.value)) {\n(newState as any)[key] = true;\n} else if ((this.state as any)[key]) {\nnewState.searchString += ' ' + value.filter;\n}\n});\nnewState.showFilters = false;\nthis.setState(newState);\n}\n}", "CodeBleu_score": 42.265952431634624}, {"code": "public handleGroupSearchKeyUp(e: any){\n\te.preventDefault();\nconst {page} = this.state;\nif (e.keyCode === 13) {\nthis.setState({page: 0}, () => {\nthis.searchGroups();\n});\nreturn;\n}\nconst newState = {...this.state};\nObject.entries(FILTER_STATE_SEARCH_KEY_MAPPING).forEach(([key, value]) => {\nconst re = this.regex(value.filter);\nif (re.test(this.state.searchString)) {\n(newState as any)[key] = true;\nnewState.searchString = newState.searchString.replace(re, '');\n} else if ((this.state as any)[key]) {\nnewState.searchString += ' ' + value.filter;\n}\n});\nthis.setState(newState);\n}", "CodeBleu_score": 42.9435814995864}]}
{"instance_id": "f0ab31c8ac4b", "generation_result": [{"code": "reloadPercentage = async () => {\n\t\n/**\n * If the upgrade percentage is greater than 0 and there is no interval, set an interval to recheck the status every 2 seconds.\n */\nif (this.state.upgradingPercentage > 0 && !this.interval) {\nthis.interval = setInterval(this.reloadPercentage, 2000);\n}\n\n/**\n * If the upgrade percentage is greater than 0 and there is an interval, clear the interval.\n */\nif (this.state.upgradingPercentage > 0 && this.interval) {\nclearInterval(this.interval);\nthis.interval = null;\n}\n\n/**\n * If the upgrade percentage is greater than 0, get the upgrade status.\n */\nif (this.state.upgradingPercentage > 0) {\nconst {error, percentage} = await this.props.actions.upgradeToE0Status();\nif (error) {\nthis.setState({upgradingPercentage: 0, upgradeError: error});\n} else if (percentage === 100) {\nthis.props.actions.restartServer();\n} else {\nthis.setState({upgradingPercentage: percentage});\n}\n}\n}", "CodeBleu_score": 52.44877632501469}, {"code": "reloadPercentage = async () => {\n\t", "CodeBleu_score": 0.37819154011777883}, {"code": "reloadPercentage = async () => {\n\t\tif (this.interval) {\n\t\tclearInterval(this.interval);\n\t}\n\n\tif (this.props.upgradedFromTE) {\n\t\treturn;\n\t}\n\n\tconst {percentage, error} = await this.props.actions.upgradeToE0Status();\n\tthis.setState({upgradingPercentage: percentage, upgradeError: error});\n\n\tif (percentage === 100) {\n\t\ttrackEvent('cloud_admin', 'upgrade_to_enterprise_complete');\n\t\tthis.props.actions.restartServer();\n\t} else if (error) {\n\t\ttrackEvent('cloud_admin', 'upgrade_to_enterprise_error');\n\t}\n\n\tif (percentage > 0 && !this.interval) {\n\t\tthis.interval = setInterval(this.reloadPercentage, 2000);\n\t}\n}", "CodeBleu_score": 62.88471918149337}]}
{"instance_id": "f91ab43e6fe1", "generation_result": [{"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\n\tif (fileObj !== null) {\n\t\tsetIsUploading(true);\n\t\tsetServerError(null);\n\t\ttry {\n\t\t\tawait dispatch(uploadLicense(fileObj));\n\t\t\tawait dispatch(getLicenseConfig());\n\t\t\tsetFileObj(null);\n\t\t\tsetServerError(null);\n\t\t\tsetIsUploading(false);\n\t\t\tsetUploadSuccessful(true);\n\t\t} catch (error) {\n\t\t\tsetFileObj(null);\n\t\t\tsetServerError(error.message);\n\t\t\tsetIsUploading(false);\n\t\t}\n\t}\n}", "CodeBleu_score": 59.883031198446865}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\t", "CodeBleu_score": 2.4314967846563276}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\t\te.preventDefault();\n\tif (fileObj === null) {\n\t\treturn;\n\t}\n\n\tsetIsUploading(true);\n\n\ttry {\n\t\tawait dispatch(uploadLicense(fileObj));\n\t\tawait dispatch(getLicenseConfig());\n\t\tsetUploadSuccessful(true);\n\t} catch (error) {\n\t\tsetFileObj(null);\n\t\tsetServerError(error.message);\n\t\tsetIsUploading(false);\n\t}\n}", "CodeBleu_score": 58.22365684452945}]}
{"instance_id": "840d965d4dcc", "generation_result": [{"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t", "CodeBleu_score": 1.912157034422969}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t", "CodeBleu_score": 1.912157034422969}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\tconst {config, patchConfig, setNavigationBlocked, schema, roles, license, isCurrentUserSystemAdmin, enterpriseReady} = this.props;\nconst {saveNeeded, saving, serverError, confirmNeededId, showConfirmId, clientWarning} = this.state;\n\nif (e) {\ne.preventDefault();\n}\n\nif (saveNeeded && !saving) {\n    if (confirmNeededId) {\n        this.setState({showConfirmId: confirmNeededId});\n        return;\n    }\n    this.setState({saving: true, serverError: null});\n}\n\nif (saveNeeded && saving) {\n    let error;\n    let newConfig;\n    let newPermissions;\n\n    try {\n        if (showConfirmId) {\n            switch (showConfirmId) {\n            case 'permissions':\n                newPermissions = await this.handlePermissionsSave(config, roles);\n                newConfig = config;\n                break;\n            case 'config':\n                newPermissions = roles;\n                newConfig = await this.handleConfigSave(config);\n                break;\n            default:\n                throw new Error('Unexpected confirmNeededId');\n            }\n        } else {\n            newPermissions = roles;\n            newConfig = await this.handleConfigSave(config);\n        }\n    } catch (e) {\n        error = e;\n    }\n\n    if (error) {\n        this.setState({serverError: error, saving: false});\n    } else {\n        this.setState({saveNeeded: false, saving: false, serverError: null});\n        setNavigationBlocked(false);\n        if (newConfig !== config) {\n            patchConfig(newConfig);\n        }\n        if (newPermissions !== roles) {\n            this.handleRolesSave(newPermissions);\n        }\n    }\n}\n\nfunction handleSave() {\n    return Promise.resolve({error: null});\n}\n\nreturn handleSave();\n}", "CodeBleu_score": 31.945600993873512}]}
{"instance_id": "86453b2860e5", "generation_result": [{"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\t\tconst openSalesLink = useOpenSalesLink();\n\n\tconst handleClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\tevent.preventDefault();\n\t\ttrackEvent(props.eventID || 'contact_us_button');\n\t\topenSalesLink();\n\t};\n\n\treturn (\n\t\t<button\n\t\t\ttype='button'\n\t\t\tclassName={'ContactUsButton ' + (props.customClass || '')}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t{props.buttonTextElement || <FormattedMessage defaultMessage='Contact Us'/>}\n\t\t</button>\n\t);\n}", "CodeBleu_score": 42.06499653938535}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tconst openSalesLink = useOpenSalesLink();\nconst {buttonTextElement, eventID, customClass} = props;\n\nconst handleClick = () => {\ntrackEvent(eventID || 'contact_us_button_clicked');\nopenSalesLink();\n};\n\nreturn (\n<button\nclassName={'ContactUsButton ' + (customClass || '')}\nonClick={handleClick}\ntype='button'\n>\n{buttonTextElement || <FormattedMessage defaultMessage='Contact Us'/>}\n</button>\n);\n}", "CodeBleu_score": 29.047037796776507}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tconst {buttonTextElement, eventID, customClass} = props;\nconst {openSalesLink} = useOpenSalesLink();\n\nconst handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\ne.preventDefault();\ntrackEvent(eventID || 'plugins_marketplace_contact_us');\nopenSalesLink();\n};\n\nreturn (\n<a\nhref='#'\nonClick={handleClick}\nclassName={'ContactUsButton ' + (customClass || '')}\n>\n{buttonTextElement || (\n<FormattedMessage\nid='contact_us.contact_us'\ndefaultMessage='Contact us'\n/>\n)}\n</a>\n);\n}", "CodeBleu_score": 34.94191293472545}]}
{"instance_id": "49713e95ae2e", "generation_result": [{"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\t\tconst {telemetryInfo, actions, isDisabled, customBtnText} = props;\n\tconst openSalesLink = useOpenSalesLink();\n\n\tconst handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n\t\te.preventDefault();\n\t\topenSalesLink();\n\t\tif (telemetryInfo) {\n\t\t\ttrackEvent(telemetryInfo.success);\n\t\t}\n\t};\n\n\treturn (\n\t\t<a\n\t\t\thref='#'\n\t\t\tclassName='RenewalLink'\n\t\t\tonClick={handleClick}\n\t\t\tdisabled={isDisabled}\n\t\t>\n\t\t\t{customBtnText || (\n\t\t\t\t<FormattedMessage\n\t\t\t\t\tid='admin.license.renewalLink'\n\t\t\t\t\tdefaultMessage='Renew your Mattermost Enterprise license'\n\t\t\t\t/>\n\t\t\t)}\n\t\t</a>\n\t);\n}", "CodeBleu_score": 45.219648649718536}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tconst {telemetryInfo, actions, isDisabled, customBtnText} = props;\nconst openSalesLink = useOpenSalesLink();\nconst handleClick = (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\ne.preventDefault();\nopenSalesLink();\n};\n\nreturn (\n<a\nhref='#'\nonClick={handleClick}\nclassName='RenewalLink'\ndisabled={isDisabled}\n>\n{customBtnText || (\n<FormattedMessage\nid='admin.license.renewalLink'\ndefaultMessage='Contact Sales'\n/>\n)}\n</a>\n);\n}", "CodeBleu_score": 44.89983024473004}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tconst {telemetryInfo, actions, isDisabled = false, customBtnText} = props;\nconst {openModal} = actions;\nconst openSalesLink = useOpenSalesLink();\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\ne.preventDefault();\nopenSalesLink(openModal, telemetryInfo);\n};\n\nconst btnText = customBtnText || (\n<FormattedMessage\nid='admin.license.renewalLink'\ndefaultMessage='Contact Sales'\n/>\n);\n\nreturn (\n<button\ntype='button'\nclassName='RenewalLink'\ndisabled={isDisabled}\nonClick={handleClick}\n>\n{btnText}\n</button>\n);\n}", "CodeBleu_score": 50.96410801840593}]}
{"instance_id": "23618eba67aa", "generation_result": [{"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\tif (formError) {\n\t\tthis.setState({formError});\n\t\treturn true;\n\t}\n\n\tconst {fieldErrors: currentFieldErrors} = this.state;\n\tif (fieldErrors) {\n\t\tconst newFieldErrors: {[x: string]: React.ReactNode} = {};\n\t\tObject.keys(fieldErrors).forEach((key) => {\n\t\t\tconst element = elements.find((e) => e.name === key);\n\t\t\tif (element) {\n\t\t\t\tnewFieldErrors[key] = (\n\t\t\t\t\t<Markdown\n\t\t\t\t\t\tid='apps_form.fieldError'\n\t\t\t\t\t\tdefaultMessage='{message}'\n\t\t\t\t\t\tvalues={{message: fieldErrors[key]}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tnewFieldErrors[key] = (\n\t\t\t\t\t<Markdown\n\t\t\t\t\t\tid='apps_form.unknownFieldError'\n\t\t\t\t\t\tdefaultMessage='{message}'\n\t\t\t\t\t\tvalues={{message: localizeMessage('apps_form.unknownFieldError', 'Unknown error')}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\tthis.setState({fieldErrors: newFieldErrors});\n\t\treturn true;\n\t}\n\n\tif (currentFieldErrors) {\n\t\tthis.setState({fieldErrors: {}});\n\t\treturn true;\n\t}\n\n\treturn false;\n}", "CodeBleu_score": 30.866205056053374}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\n/**\n * If the form has an error, set the state accordingly.\n */\nif (formError) {\nthis.setState({\nformError,\nfieldErrors: {},\n});\n\nreturn true;\n}\n\n/**\n * If there are no field errors, there is nothing to update.\n */\nif (!fieldErrors) {\nreturn false;\n}\n\n/**\n * Check if the field errors match the form elements.\n */\nconst errorsMatchElements = checkIfErrorsMatchElements(elements, fieldErrors);\n\n/**\n * If they do, convert them to Markdown components.\n */\nif (errorsMatchElements) {\nthis.setState({\nfieldErrors: fieldErrors,\nformError: null,\n});\n\nreturn true;\n}\n\n/**\n * If they don't, format them with a specific message.\n */\nconst unknownFieldErrors = filterEmptyOptions(Object.keys(fieldErrors).filter((key) => !elements.find((element) => element.name === key)));\nconst unknownFieldErrorsFormatted = unknownFieldErrors.map((error) => {\nreturn (\n<Markdown\nid='apps.form.unknown_field_error'\ndefaultMessage='{error}'\nvalues={{error}}\n/>\n);\n});\n\nthis.setState({\nfieldErrors: {},\nformError: localizeMessage('apps.form.unknown_field_error', 'There was an error with the following field(s): {error}', {error: unknownFieldErrorsFormatted}),\n});\n\nreturn true;\n}", "CodeBleu_score": 33.80785831046909}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\n/**\n * If there is a form error, update the state and return true.\n */\nif (formError) {\nthis.setState({formError});\nreturn true;\n}\n\n/**\n * If there are field errors, update the state and return true.\n */\nif (fieldErrors) {\nconst newFieldErrors: {[name: string]: React.ReactNode} = {};\n\nfor (const [name, error] of Object.entries(fieldErrors)) {\nconst element = elements.find((e) => e.name === name);\nif (element) {\nnewFieldErrors[name] = (\n<Markdown\nmessage={localizeMessage('apps.form.error.field', 'Error: {error}', {error})}\n/>\n);\n} else {\nnewFieldErrors[name] = (\n<Markdown\nmessage={localizeMessage('apps.form.error.unknown_field', 'Unknown field error: {error}', {error})}\n/>\n);\n}\n}\n\nthis.setState({fieldErrors: newFieldErrors});\nreturn true;\n}\n\n/**\n * If there are no errors, clear the state and return false.\n */\nthis.setState({formError: null, fieldErrors: {}});\nreturn false;\n}", "CodeBleu_score": 29.885288539170652}]}
{"instance_id": "10be7e79f7e0", "generation_result": [{"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\tconst channelsSearchResults: Channel[] = await this.props.actions.autocompleteChannels(userInput.toLowerCase());\n\nreturn channelsSearchResults.map((channel) => {\nconst label = `#${channel.display_name}`;\n\nreturn {...channel, label, value: channel.id, icon_data: imageURLForUser(channel.id)};\n});\n}", "CodeBleu_score": 43.7499566347515}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\t\tconst channelsSearchResults: Channel[] = await this.props.actions.autocompleteChannels(userInput.toLowerCase());\n\n\treturn channelsSearchResults.map((channel) => {\n\t\tconst label = channel.display_name || channel.name;\n\n\t\treturn {\n\t\t\t...channel,\n\t\t\tlabel,\n\t\t\tvalue: channel.id,\n\t\t\ticon_data: imageURLForUser(channel.id),\n\t\t};\n\t});\n}", "CodeBleu_score": 42.39509580151229}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\t\tconst channelsSearchResults: Channel[] = await this.props.actions.autocompleteChannels(userInput.toLowerCase());\n\n\treturn channelsSearchResults.map((channel) => {\n\t\tconst label = channel.display_name || channel.name;\n\n\t\treturn {\n\t\t\t...channel,\n\t\t\tlabel,\n\t\t\tvalue: channel.id,\n\t\t\ticon_data: null,\n\t\t};\n\t});\n}", "CodeBleu_score": 43.470141159653544}]}
{"instance_id": "b44d060ba306", "generation_result": [{"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t// @ts-ignore\n    const {actions, currentUserId, teamId, teamName} = this.props;\n    const {id, display_name: displayName} = channel;\n    let errorMessage;\n    let joinChannelResult;\n    try {\n        joinChannelResult = await actions.joinChannel(currentUserId, teamId, id);\n    } catch (error) {\n        errorMessage = error.message;\n    }\n    if (joinChannelResult.error) {\n        this.setState({serverError: errorMessage});\n    } else {\n        this.props.actions.getChannelsMemberCount([id]);\n        getHistory().push(getRelativeChannelURL(id, teamName));\n        this.props.actions.closeRightHandSide();\n        if (done) {\n            done();\n        }\n    }\n}", "CodeBleu_score": 62.00309399702791}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\tif (channel.type === Constants.GM_CHANNEL_TYPE) {\nreturn;\n}\n\nconst {currentUserId, teamId, teamName, myChannelMemberships, actions} = this.props;\nconst channelMember = myChannelMemberships[channel.id];\n\nif (channelMember && channelMember.roles.includes(Constants.PERMISSIONS_TEAM_ADMIN)) {\nreturn;\n}\n\nif (channelMember && channelMember.roles.includes(Constants.PERMISSIONS_CHANNEL_ADMIN)) {\nreturn;\n}\n\nif (channelMember && channelMember.roles.includes(Constants.PERMISSIONS_CHANNEL_USER)) {\nreturn;\n}\n\ntry {\nconst {data} = await actions.joinChannel(currentUserId, teamId, channel.id);\n\nif (data) {\nthis.props.actions.getChannelsMemberCount([channel.id]);\n\n// If the user is the only member of the channel, we need to leave the channel\n// and then re-join it so that the new user is a team member\nif (data.channel.total_msg_count === 1) {\nawait actions.leaveChannel(currentUserId, teamId, channel.id);\nawait actions.joinChannel(currentUserId, teamId, channel.id);\n}\n\ngetHistory().push(getRelativeChannelURL(channel.name, teamName));\nthis.props.actions.closeRightHandSide();\n}\n} catch (error) {\nthis.setState({serverError: error.message});\n}\n\nif (done) {\ndone();\n}\n}", "CodeBleu_score": 39.503924778670964}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t\tconst {\n\t\tactions,\n\t\tcurrentUserId,\n\t\tteamId,\n\t\tteamName,\n\t} = this.props;\n\n\tif (this.props.myChannelMemberships[channel.id]) {\n\t\treturn;\n\t}\n\n\tconst result = await actions.joinChannel(currentUserId, teamId, channel.id);\n\n\tif (result.error) {\n\t\tthis.setState({\n\t\t\tserverError: result.error.message,\n\t\t});\n\t} else {\n\t\tthis.props.actions.getChannelsMemberCount([channel.id]);\n\t\tgetHistory().push(getRelativeChannelURL(channel.name, teamName));\n\t\tthis.props.actions.closeRightHandSide();\n\t\tdone();\n\t}\n}", "CodeBleu_score": 57.092109617719714}]}
{"instance_id": "c6636f0c9c0b", "generation_result": [{"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\n    const { children, expanded, onClick } = props;\n\n    const className = classNames('Card__header', {'Card__header--expanded': expanded});\n\n    return (\n\n        <div\n\n            className={className}\n\n            onClick={onClick}\n\n        >\n\n            {children}\n\n            {expanded && <hr/>}\n\n        </div>\n\n    );\n\n}", "CodeBleu_score": 47.01066472921785}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\n    const {children, expanded, onClick} = props;\n\n    const className = classNames('Card__header', {'Card__header--expanded': expanded});\n\n    return (\n\n        <div className={className} onClick={onClick}>\n\n            {children}\n\n            {expanded && <hr/>}\n\n        </div>\n\n    );\n\n}", "CodeBleu_score": 47.9977929244207}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\nreturn (\n    <div\n        className={classNames('Card__header', {\n            'Card__header--expanded': props.expanded,\n        })}\n        onClick={props.onClick}\n    >\n        {props.children}\n        {props.expanded && <hr/>}\n    </div>\n);\n\n}", "CodeBleu_score": 65.90342570233396}]}
{"instance_id": "230cb3cd6dd5", "generation_result": [{"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\n    const button = props.buttonText && props.onClick && <button className='btn btn-link' onClick={props.onClick} disabled={props.isDisabled}>{props.buttonText}</button>;\n    return (\n        <div className='card__header'>\n            <div className='card__title'>{props.title}</div>\n            {props.subtitle && <div className='card__subtitle'>{props.subtitle}</div>}\n            {button}\n        </div>\n    );\n}", "CodeBleu_score": 43.59745134966444}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\n    const onClick = () => {\n        if (props.onClick) {\n            props.onClick();\n        }\n    };\n\n    return (\n        <div className='Card__header'>\n            <div className='Card__header-title'>{props.title}</div>\n            {props.subtitle && <div className='Card__header-subtitle'>{props.subtitle}</div>}\n            {props.buttonText && (\n                <button\n                    className='Card__header-button'\n                    onClick={onClick}\n                    disabled={props.isDisabled || false}\n                >\n                    {props.buttonText}\n                </button>\n            )}\n        </div>\n    );\n}", "CodeBleu_score": 48.303060601148175}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\n}", "CodeBleu_score": 5.748843255940981}]}
{"instance_id": "eb5c7946fd59", "generation_result": [{"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t", "CodeBleu_score": 0.9833424411998644}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t\n}", "CodeBleu_score": 1.015380683705094}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t", "CodeBleu_score": 0.9833424411998644}]}
{"instance_id": "e8c4d43e5232", "generation_result": [{"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tcheckCoreService();\n\tconst mount = toMountPoint(node, options);\n\treturn services.overlays.open(mount, options);\n}", "CodeBleu_score": 38.31062545655391}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tconst mount = toMountPoint(node, options);\n\tcheckCoreService();\n\tservices.overlays.open(mount, options);\n}", "CodeBleu_score": 35.586587132140714}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tconst checkCoreService = () => {\n\t\tif (!services.overlays) {\n\t\t\tthrow new TypeError('Could not show overlay as overlays service is not available.');\n\t\t}\n\t};\n\n\tcheckCoreService();\n\n\tconst mountNode = toMountPoint(node, options?.theme);\n\tconst flyout = services.overlays.openFlyout(mountNode, options);\n\n\treturn flyout;\n}", "CodeBleu_score": 35.13759878169135}]}
{"instance_id": "89d99efaa3c9", "generation_result": [{"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t", "CodeBleu_score": 5.734582449513209}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t\n/**\n * React's synthetic events are not typed, so we have to typecast here\n */\n    if (onClickCallback) {\n      onClickCallback(event);\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    if (event.target) {\n      event.target.removeAttribute('target');\n    }\n\n    event.preventDefault();\n    history.push(toLocationObject(to));\n  }", "CodeBleu_score": 65.30315572363699}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t\n*!*\n    if (onClickCallback) {\n      onClickCallback(event);\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    if (event.target) {\n      event.target.removeAttribute('target');\n    }\n\n    history.push(to);\n    event.preventDefault();\n*/!*\n  }", "CodeBleu_score": 62.98740598855531}]}
{"instance_id": "8d8e28c04bbd", "generation_result": [{"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\tconst {\n  services: { settings },\n} = useKibana();\n\nif (!settings) {\n  throw new TypeError('uiSettings service not available in kibana-react context.');\n}\n\nconst observable$ = useMemo(\n  () => settings!.globalClient.get$(key, defaultValue),\n  [key, defaultValue, settings]\n);\nconst value = useObservable<T>(observable$, settings!.globalClient.get(key, defaultValue));\nconst set = useCallback((newValue: T) => settings!.globalClient.set(key, newValue), [key]);\n\nreturn [value, set];\n}", "CodeBleu_score": 81.2166856128464}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t *   const {\n *     services: { settings },\n *   } = useKibana();\n *\n *   if (!settings) {\n *     throw new TypeError('uiSettings service not available in kibana-react context.');\n *   }\n *\n *   const observable$ = useMemo(\n *     () => settings!.globalClient.get$(key, defaultValue),\n *     [key, defaultValue, settings]\n *   );\n *   const value = useObservable<T>(observable$, settings!.globalClient.get(key, defaultValue));\n *   const set = useCallback((newValue: T) => settings!.globalClient.set(key, newValue), [key]);\n *\n *   return [value, set];\n * }", "CodeBleu_score": 68.70364073374192}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t *   const {\n *     services: { settings },\n *   } = useKibana();\n *\n *   if (!settings) {\n *     throw new TypeError('uiSettings service not available in kibana-react context.');\n *   }\n *\n *   const observable$ = useMemo(\n *     () => settings!.globalClient.get$(key, defaultValue),\n *     [key, defaultValue, settings]\n *   );\n *   const value = useObservable<T>(observable$, settings!.globalClient.get(key, defaultValue));\n *   const set = useCallback((newValue: T) => settings!.globalClient.set(key, newValue), [key]);\n *\n *   return [value, set];\n * }", "CodeBleu_score": 68.70364073374192}]}
{"instance_id": "7da631faf620", "generation_result": [{"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t\\tif (panels[id]) {\n\\t\\tconst panel = panels[id];\n\\t\\tif (panel.items.length > 4) {\n\\t\\t\\tconst visibleItems = panel.items.slice(0, 3);\n\\t\\t\\tconst submenuItems = panel.items.slice(3);\n\\t\\t\\tconst submenuId = `${id}__submenu`;\n\\t\\t\\tconst submenu: PanelDescriptor = {\n\\t\\t\\t\\tid: submenuId,\n\\t\\t\\t\\ttitle: txtMore,\n\\t\\t\\t\\ticon: 'arrowDown',\n\\t\\t\\t\\titems: submenuItems,\n\\t\\t\\t};\n\\t\\t\\tpanel.items = visibleItems;\n\\t\\t\\tpanel.items.push({\n\\t\\t\\t\\tid: `${id}__submenu-item`,\n\\t\\t\\t\\ttitle: txtMore,\n\\t\\t\\t\\ticon: 'arrowDown',\n\\t\\t\\t\\tdescription: '',\n\\t\\t\\t\\tonClick: (event) => {\n\\t\\t\\t\\t\\tevent.preventDefault();\n\\t\\t\\t\\t\\twindow.location.hash = `#${submenuId}`;\n\\t\\t\\t\\t},\n\\t\\t\\t});\n\\t\\t\\tpanel.items.push({\n\\t\\t\\t\\tid: submenuId,\n\\t\\t\\t\\ttitle: '',\n\\t\\t\\t\\ticon: '',\n\\t\\t\\t\\titems: submenuItems,\n\\t\\t\\t});\n\\t\\t\\tpanels[submenuId] = submenu;\n\\t\\t}\n\\t}\n}", "CodeBleu_score": 37.17541531499643}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t", "CodeBleu_score": 2.806704880912733}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t\n}", "CodeBleu_score": 5.065711148643971}]}
{"instance_id": "7a1a98211380", "generation_result": [{"code": "private scheduleFlush(){\n\t\nconst { batchingQueue, pendingTasks } = this;\n\nif (pendingTasks.size) {\n  setTimeout(() => this.scheduleFlush(), 0);\n} else {\n  const tasks = uniqBy([...batchingQueue, ...pendingTasks], (t) => t.action.id);\n  batchingQueue.length = 0;\n\n  if (tasks.length === 1 && tasks[0].alwaysShowPopup) {\n    const { action, context, trigger, defer } = tasks[0];\n    const menu = buildContextMenuForActions([action], { ...context, trigger });\n    openContextMenu(menu, { x: 0, y: 0 }, defer.promise);\n  } else if (tasks.length === 1) {\n    const { action, context, trigger, defer } = tasks[0];\n    try {\n      action.execute({ ...context, trigger }).then(defer.resolve, defer.reject);\n    } catch (e) {\n      defer.reject(e);\n    }\n  } else if (tasks.length > 1) {\n    const menu = buildContextMenuForActions(tasks.map((t) => t.action), {\n      ...tasks[0].context,\n      trigger: tasks[0].trigger,\n    });\n    openContextMenu(menu, { x: 0, y: 0 });\n  }\n}\n}", "CodeBleu_score": 42.09107809599907}, {"code": "private scheduleFlush(){\n\t  // eslint-disable-line no-use-before-define\n  if (this.pendingTasks.size === 0) {\n    const tasks = uniqBy(this.batchingQueue, (task) => task.action.id);\n    this.batchingQueue.length = 0;\n\n    if (tasks.length === 0) {\n      return;\n    }\n\n    if (tasks.length === 1 && tasks[0].alwaysShowPopup) {\n      const { action, context, trigger } = tasks[0];\n      const actions = [action];\n      const items = buildContextMenuForActions(actions, { context, trigger });\n      openContextMenu(items);\n    } else {\n      const actionIds = tasks.map(({ action }) => action.id);\n      const actionIdsString = actionIds.join(', ');\n      const message = `Multiple actions with ids [${actionIdsString}] have been executed.`;\n      console.warn(message);\n    }\n  }\n\n  if (this.pendingTasks.size === 0) {\n    this.flushTimeout = setTimeout(this.flush, 0);\n  }\n}", "CodeBleu_score": 50.97260836084276}, {"code": "private scheduleFlush(){\n\t\nconst pendingTasks = Array.from(this.pendingTasks);\nconst batchingQueue = uniqBy(this.batchingQueue, (task) => task.action.id);\nthis.batchingQueue.length = 0;\n\nif (pendingTasks.length) {\npendingTasks.forEach((task) => task.defer.resolve());\nreturn;\n}\n\nif (batchingQueue.length > 1) {\nconst actions = batchingQueue.map((task) => ({\n...task.action,\n...{ id: task.action.id, description: task.action.getDisplayName() },\n}));\n\nopenContextMenu(buildContextMenuForActions(actions), {\nx: 0,\ny: 0,\ncloseOnOutsideClick: true,\n});\n} else if (batchingQueue.length === 1) {\nconst task = batchingQueue[0];\ntry {\nawait task.action.execute({ ...task.context, trigger: task.trigger });\ntask.defer.resolve();\n} catch (e) {\ntask.defer.reject(e);\n}\n}\n}", "CodeBleu_score": 41.10750984985765}]}
{"instance_id": "702779fd9f4a", "generation_result": [{"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\tconst actions = await this.getActions(context);\nreturn await this.service.execution.execute(actions, context, this.trigger, alwaysShowPopup);\n}", "CodeBleu_score": 25.469366303881014}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\tconst actions = await this.service.findCompatibleActions(this.trigger, context);\nif (actions.length === 0) {\nreturn;\n}\n\nreturn await this.service.execute(actions, context, this.trigger, alwaysShowPopup);\n}", "CodeBleu_score": 36.01497405931756}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\tconst actions = await this.service.getCompatibleActions(this.trigger, context);\nconst promises = actions.map((action) => {\nreturn this.service.execute(action, context, this.trigger, alwaysShowPopup);\n});\nawait Promise.all(promises);\n}", "CodeBleu_score": 42.827748459227834}]}
{"instance_id": "16fd1e46a9be", "generation_result": [{"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\t\tconst images: Uint8Array[] = [];\n\tlet frame = 0;\n\tfor (const subChunk of chunk.subChunks) {\n\t\tif (subChunk.chunkId !== \\\"icon\\\") {\n\t\t\tthrow new Error(\n          `Expected chunkId \\\"icon\\\", got \\\"${subChunk.chunkId}\\\"`\n        );\n      }\n      images.push(subChunk.chunkData.data.slice(subChunk.chunkData.start, subChunk.chunkData.end));\n      frame += 1;\n      if (frame >= frameCount) {\n        break;\n      }\n    }\n    return images;\n  }", "CodeBleu_score": 40.96552752693882}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\tconst images: Uint8Array[] = [];\n\n// Iterate over sub-chunks, up to the specified frame count.\nfor (let i = 0; i < frameCount; i++) {\nconst imageChunk = chunk.subChunks[i];\n\n// Check that the sub-chunk is of type 'icon'.\nif (imageChunk.chunkId !== \\\"icon\\\") {\nthrow new Error(\\`Expected chunkId. Expected \\\"icon\\\", got \\\"${imageChunk.chunkId}\\\".\\`);\n}\n\n// Slice the chunk data to extract the image data.\nconst imageData = imageChunk.chunkData.slice(imageChunk.chunkData.start, imageChunk.chunkData.end);\nimages.push(imageData);\n}\n\nreturn images;\n}", "CodeBleu_score": 40.05239294970905}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\t\tconst images: Uint8Array[] = [];\n\tlet imageIndex = 0;\n\tfor (let i = 0; i < frameCount; i++) {\n\t\tconst frameChunk = chunk.subChunks[i];\n\t\tif (frameChunk.chunkId !== \\\"icon\\\") {\n\t\t\tthrow new Error(\n\t\t\t\t`Expected chunkId \\\"icon\\\", got \\\"${frameChunk.chunkId}\\\"`\n\t\t\t);\n\t\t}\n\t\timages.push(frameChunk.chunkData.slice(frameChunk.chunkData.start));\n\t}\n\treturn images;\n}", "CodeBleu_score": 40.203986114260395}]}
{"instance_id": "6b6f91239073", "generation_result": [{"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t\tconst ani = parseAni(contents);\n\n\tconst displayRate = ani.rate / 1000;\n\tconst totalDuration = ani.frames.length / displayRate;\n\n\tconst frames = ani.frames.map((frame) => {\n\t\tconst percents: number[] = [];\n\t\tlet elapsed = 0;\n\n\t\tfor (let i = 0; i < frame.delay; i++) {\n\t\t\tconst percent = elapsed / totalDuration;\n\t\t\tpercents.push(percent);\n\t\t\telapsed += displayRate;\n\t\t}\n\n\t\tconst url = `data:image/gif;base64,${frame.image}`;\n\n\t\treturn {\n\t\t\turl,\n\t\t\tpercents,\n\t\t};\n\t});\n\n\treturn {\n\t\tframes,\n\t\tduration: totalDuration * 1000,\n\t};\n}", "CodeBleu_score": 43.204469131471456}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t\tconst frames = parseAni(contents);\n\n\tconst displayRate = 1000 / frames.displayRate;\n\n\tconst totalDuration = frames.frames.reduce(\n\t\t(duration, frame) => duration + frame.duration,\n\t\t0\n\t);\n\n\tconst percentages = frames.frames.reduce(\n\t\t(percentages, frame, index) => {\n\t\t\tconst frameDuration = frame.duration;\n\t\t\tconst framePercent = 100 * frameDuration / totalDuration;\n\t\t\tconst frameDisplayRate = displayRate * frameDuration;\n\n\t\t\tconst percents = [...percentages];\n\t\t\tfor (let i = 0; i < frameDisplayRate; i++) {\n\t\t\t\tpercents[index] = framePercent;\n\t\t\t}\n\n\t\t\treturn percents;\n\t\t},\n\t\tnew Array(frames.frames.length).fill(0)\n\t);\n\n\treturn {\n\t\tframes: frames.frames.map((frame, index) => ({\n\t\t\turl: frame.url,\n\t\t\tpercents: percentages.slice(index, index + frame.duration),\n\t\t})),\n\t\tduration: totalDuration,\n\t};\n}", "CodeBleu_score": 34.73129923316678}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t\tconst cursor = parseAni(contents);\n\n\tconst displayRate = 1000 / cursor.rate;\n\tconst duration = cursor.frames.length * displayRate;\n\n\tconst frames = cursor.frames.map((frame) => {\n\t\tconst percents = new Array(frame.count).fill(0);\n\t\treturn {\n\t\t\turl: `data:image/gif;base64,${frame.data}`,\n\t\t\tpercents,\n\t\t};\n\t});\n\n\t// Calculate elapsed display percentages for each frame.\n\tlet elapsed = 0;\n\tfor (let i = 0; i < frames.length; i++) {\n\t\tconst frame = frames[i];\n\t\tconst frameDuration = frame.percents.length * displayRate;\n\n\t\tframe.percents[0] = elapsed;\n\t\tfor (let j = 1; j < frame.percents.length; j++) {\n\t\t\tframe.percents[j] = elapsed + displayRate * j;\n\t\t}\n\n\t\telapsed += frameDuration;\n\t}\n\n\treturn {\n\t\tduration,\n\t\tframes,\n\t};\n}", "CodeBleu_score": 38.58707793508383}]}
{"instance_id": "f059427111a8", "generation_result": [{"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t", "CodeBleu_score": 1.4926772784021654}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t", "CodeBleu_score": 1.4926772784021654}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t", "CodeBleu_score": 1.4926772784021654}]}
{"instance_id": "9d9b04763521", "generation_result": [{"code": "function useSkinKeyboardControls(){\n\t\n  const dispatch = useActionCreator(Actions.setSkinIndex);\n  const skinIndex = useSelector(Selectors.getSkinIndex);\n  const skinCount = useSelector(Selectors.getSkinCount);\n  const windowSize = useWindowSize();\n  const isPortrait = windowSize.width < windowSize.height;\n\n  const keyDown$ = fromEvent(window, \\\"keydown\\\");\n  const keyUp$ = fromEvent(window, \\\"keyup\\\");\n\n  const keyDownSubscription = keyDown$.subscribe((event) => {\n    if (event.key === \\\"ArrowRight\\\") {\n      dispatch(skinIndex + 1 >= skinCount ? 0 : skinIndex + 1);\n    }\n    if (event.key === \\\"ArrowLeft\\\") {\n      dispatch(skinIndex - 1 < 0 ? skinCount - 1 : skinIndex - 1);\n    }\n  });\n\n  const keyUpSubscription = keyUp$.subscribe(() => {});\n\n  useEffect(() => () => {\n    keyDownSubscription.unsubscribe();\n    keyUpSubscription.unsubscribe();\n  }, []);\n}", "CodeBleu_score": 31.995521731595545}, {"code": "function useSkinKeyboardControls(){\n\t", "CodeBleu_score": 1.4014229840871502}, {"code": "function useSkinKeyboardControls(){\n\t\tconst dispatch = useActionCreator(Actions.selectNextSkin);\n\tconst dispatch2 = useActionCreator(Actions.selectPreviousSkin);\n\tconst keyDown$ = fromEvent(document, \\\"keydown\\\");\n\n\tuseEffect(() => {\n\t\tconst keyDownSub = keyDown$.subscribe((event) => {\n\t\t\tconst { key } = event;\n\t\t\tif (key === \\\"ArrowRight\\\") {\n\t\t\t\tdispatch();\n\t\t\t} else if (key === \\\"ArrowLeft\\\") {\n\t\t\t\tdispatch2();\n\t\t\t}\n\t\t});\n\t\treturn () => {\n\t\t\tkeyDownSub.unsubscribe();\n\t\t};\n\t}, [dispatch, dispatch2, keyDown$]);\n}", "CodeBleu_score": 41.65076095975141}]}
{"instance_id": "c49e878d86ad", "generation_result": [{"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\treturn async (dispatch) => {\n\t\tconst fileReferences = await promptForFileReferences({ accept });\n\t\tif (fileReferences.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst firstFileReference = fileReferences[0];\n\t\tdispatch({\n\t\t\ttype: expectedType,\n\t\t\tfileReferences,\n\t\t\tfileCount: fileReferences.length,\n\t\t\tfirstFileName: firstFileReference.name,\n\t\t});\n\t\tdispatch(loadFilesFromReferences(fileReferences));\n\t};\n}", "CodeBleu_score": 72.59302284225714}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\treturn async (dispatch, getState) => {\nconst fileReferences = await promptForFileReferences(accept);\nif (!fileReferences) {\nreturn;\n}\nconst fileReference = fileReferences[0];\ndispatch({\ntype: expectedType,\nfileReferences,\nfileReference,\n});\ndispatch(loadFilesFromReferences(fileReferences));\n};\n}", "CodeBleu_score": 58.641311743204525}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\treturn (dispatch) => {\n\t\tpromptForFileReferences(accept)\n\t\t\t.then((fileReferences) => {\n\t\t\t\tif (fileReferences.length < 1) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (fileReferences.length === 1) {\n\t\t\t\t\tconst fileReference = fileReferences[0];\n\t\t\t\t\tif (expectedType === \"SKIN\") {\n\t\t\t\t\t\tdispatch(setSkinFromBlob(fileReference));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (expectedType === \"EQ\") {\n\t\t\t\t\t\tdispatch(setEqFromFileReference(fileReference));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ADD_TRACK_FROM_URL,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttype: expectedType,\n\t\t\t\t\t\tfileReferences,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t};\n}", "CodeBleu_score": 45.25012391467661}]}
{"instance_id": "afa715d20f88", "generation_result": [{"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\tconst files = e.dataTransfer.files;\n\tconst { handleTrackDropEvent } = window;\n\tif (handleTrackDropEvent && handleTrackDropEvent(e)) {\n\t\treturn (dispatch) => {\n\t\t\tconst tracks = handleTrackDropEvent(e);\n\t\t\tdispatch(loadMediaFiles(tracks, loadStyle, atIndex));\n\t\t};\n\t} else {\n\t\treturn loadFilesFromReferences(files, loadStyle, atIndex);\n\t}\n}", "CodeBleu_score": 50.33826135486049}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\tconst files = Array.from(e.dataTransfer.files);\n\tconst isTrackDropEvent = typeof handleTrackDropEvent === \"function\";\n\tconst tracks = files.map((file) => ({ blob: file, defaultName: file.name }));\n\tif (isTrackDropEvent) {\n\t\treturn handleTrackDropEvent(e, tracks, loadStyle, atIndex);\n\t} else {\n\t\treturn loadFilesFromReferences(tracks, loadStyle, atIndex);\n\t}\n}", "CodeBleu_score": 36.992203180200484}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\tconst files = Array.from(e.dataTransfer.files);\n\tconst trackDropEvent = handleTrackDropEvent(e);\n\tif (trackDropEvent) {\n\t\treturn (dispatch) => {\n\t\t\tdispatch(trackDropEvent);\n\t\t\tdispatch(loadMediaFiles(files, loadStyle, atIndex));\n\t\t};\n\t} else {\n\t\treturn loadFilesFromReferences(files, loadStyle, atIndex);\n\t}\n}", "CodeBleu_score": 45.046885559694935}]}
{"instance_id": "0faea0aa350c", "generation_result": [{"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\tif (!requireMusicMetadata) {\n\t\treturn;\n\t}\n\tdispatch({ type: FETCHING_MEDIA_TAGS, id });\n\tlet metadata;\n\ttry {\n\t\tmetadata = await requireMusicMetadata()(file);\n\t} catch (e) {\n\t\tdispatch({ type: FAILED_FETCHING_MEDIA_TAGS, id });\n\t\treturn;\n\t}\n\tconst { artist, title, album, picture } = metadata;\n\tdispatch({\n\t\ttype: SET_MEDIA_TAGS,\n\t\tartist,\n\t\ttitle,\n\t\talbum,\n\t\talbumArt: picture,\n\t\tid,\n\t});\n  }", "CodeBleu_score": 21.300284574245847}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\tif (!requireMusicMetadata) {\n\t  return;\n\t}\n\tdispatch({ type: FETCH_MEDIA_TAGS, id });\n\ttry {\n\t  const metadata = await requireMusicMetadata().parseBlob(file);\n\t  const { artist, title, album, artwork } = metadata;\n\t  dispatch({\n\t    type: SET_MEDIA_TAGS,\n\t    artist,\n\t    title,\n\t    album,\n\t    artwork,\n\t    id,\n\t  });\n\t} catch (e) {\n\t  dispatch({ type: FETCH_MEDIA_TAGS_FAILURE, id });\n\t}\n  }", "CodeBleu_score": 25.79979781598196}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\tif (!requireMusicMetadata) {\n\t\treturn;\n\t}\n\tdispatch({ type: SET_MEDIA_TAGS_REQUEST_STATUS, id, status: \"loading\" });\n\ttry {\n\t\tconst metadata = await requireMusicMetadata.parseFile(file);\n\t\tdispatch({\n\t\t\ttype: SET_MEDIA_TAGS,\n\t\t\tartist: metadata.common.artist,\n\t\t\ttitle: metadata.common.title,\n\t\t\talbum: metadata.common.album,\n\t\t\tsampleRate: metadata.format.sampleRate,\n\t\t\tbitrate: metadata.format.bitrate,\n\t\t\tnumberOfChannels: metadata.format.numberOfChannels,\n\t\t\tid,\n\t\t});\n\t} catch (e) {\n\t\tdispatch({ type: SET_MEDIA_TAGS_REQUEST_STATUS, id, status: \"failed\" });\n\t}\n  }", "CodeBleu_score": 24.213434822345288}]}
{"instance_id": "02174213852f", "generation_result": [{"code": "export function playTrack(id: number): Thunk {{\n\t\\treturn (dispatch: Dispatch, getState: GetState) => {{\n\\t\\tconst state = getState();\n\\t\\tconst currentTrack = Selectors.getCurrentTrack(state);\n\\t\\tconst mediaStatus = Selectors.getMediaStatus(state);\n\\t\\tif (mediaStatus === MEDIA_STATUS.STOPPED) {{\n\\t\\t\\tdispatch(bufferTrack(id));\n\\t\\t}} else if (currentTrack && currentTrack.id === id) {{\n\\t\\t\\tdispatch(pause());\n\\t\\t}} else {{\n\\t\\t\\tdispatch(playTrack(id));\n\\t\\t}}\n\\t}};\n\\t}", "CodeBleu_score": 37.70781722759441}, {"code": "export function playTrack(id: number): Thunk {{\n\t\treturn (dispatch: Dispatch, getState: GetState) => {\n\t\tconst state = getState();\n\t\tconst media = Selectors.getMedia(state);\n\t\tif (media.status === MEDIA_STATUS.STOPPED) {\n\t\t\tdispatch(bufferTrack(id));\n\t\t} else {\n\t\t\tdispatch(playTrack(id));\n\t\t}\n\t};\n}", "CodeBleu_score": 43.65057402250844}, {"code": "export function playTrack(id: number): Thunk {{\n\treturn (dispatch: Dispatch, getState: GetState) => {\nconst state = getState();\nconst mediaStatus = Selectors.getMediaStatus(state);\n\nif (mediaStatus === MEDIA_STATUS.STOPPED) {\ndispatch(bufferTrack(id));\n} else {\ndispatch(playTrack(id));\n}\n};\n}", "CodeBleu_score": 43.99367465890284}]}
{"instance_id": "643b829015d2", "generation_result": [{"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\treturn (dispatch, getState) => {\n\t\te.preventDefault();\n\t\tconst currentVolume = getState().media.volume;\n\t\tconst newVolume = currentVolume + e.deltaY;\n\t\tdispatch(setVolume(newVolume));\n\t};\n}", "CodeBleu_score": 70.2673636808574}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\treturn function (dispatch, getState) {\n\t\te.preventDefault();\n\t\tconst currentVolume = getState().media.volume;\n\t\tconst scrollDelta = e.deltaY;\n\t\tconst newVolume = clamp(currentVolume + scrollDelta, 0, 100);\n\t\tdispatch(setVolume(newVolume));\n\t};\n}", "CodeBleu_score": 60.33249687283493}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault();\n\treturn (dispatch, getState) => {\n\t\tconst currentVolume = getState().media.volume;\n\t\treturn dispatch(setVolume(currentVolume + e.deltaY));\n\t};\n}", "CodeBleu_score": 96.76454403011263}]}
{"instance_id": "d97c127090ce", "generation_result": [{"code": "function FullScreen(props: Props){\n\t\tconst { enabled, children, onChange } = props;\n\tconst node = useRef<HTMLDivElement>(null);\n\n\tuseLayoutEffect(() => {\n\t\tif (enabled) {\n\t\t\tenterFullScreen(node.current);\n\t\t} else {\n\t\t\tleaveFullScreen();\n\t\t}\n\t}, [enabled]);\n\n\tuseEffect(() => {\n\t\tfunction handleFullscreenChange() {\n\t\t\tonChange(fscreen.fullscreenElement !== null);\n\t\t}\n\n\t\tfscreen.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n\n\t\treturn () => {\n\t\t\tfscreen.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n\t\t};\n\t}, [onChange]);\n\n\treturn <div ref={node} className={enabled ? \"fullscreen\" : \"\"}>{children}</div>;\n}", "CodeBleu_score": 39.386295508300314}, {"code": "function FullScreen(props: Props){\n\t\tconst { enabled, children, onChange } = props;\n\tconst target = useRef<HTMLDivElement | null>(null);\n\n\tuseLayoutEffect(() => {\n\t\tif (enabled) {\n\t\t\tenterFullScreen(target.current!);\n\t\t} else {\n\t\t\tleaveFullScreen();\n\t\t}\n\t}, [enabled]);\n\n\tuseEffect(() => {\n\t\tfunction handleFullscreenChange() {\n\t\t\tonChange(fscreen.fullscreenElement !== null);\n\t\t}\n\n\t\tfscreen.addEventListener(\"fullscreenchange\", handleFullscreenChange);\n\n\t\treturn () => {\n\t\t\tfscreen.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\n\t\t};\n\t}, [onChange]);\n\n\treturn <div ref={target}>{children}</div>;\n}", "CodeBleu_score": 40.02648419014492}, {"code": "function FullScreen(props: Props){\n\t\tconst { enabled, children, onChange } = props;\n\tconst target = useRef<HTMLDivElement>(null);\n\n\tuseLayoutEffect(() => {\n\t\tif (enabled) {\n\t\t\tenterFullScreen(target.current!);\n\t\t} else {\n\t\t\tleaveFullScreen();\n\t\t}\n\t}, [enabled]);\n\n\tuseEffect(() => {\n\t\tconst onFullscreenChange = () => {\n\t\t\tconst isFullscreen = fscreen.fullscreenElement !== null;\n\t\t\tif (enabled !== isFullscreen) {\n\t\t\t\tonChange(isFullscreen);\n\t\t\t}\n\t\t};\n\n\t\tfscreen.addEventListener(\"fullscreenchange\", onFullscreenChange);\n\t\treturn () => {\n\t\t\tfscreen.removeEventListener(\"fullscreenchange\", onFullscreenChange);\n\t\t};\n\t}, [enabled]);\n\n\treturn <div ref={target}>{children}</div>;\n}", "CodeBleu_score": 41.19117504597189}]}
{"instance_id": "d333738337a8", "generation_result": [{"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\tfor (const [regionName, polygons] of Object.entries(skinRegion)) {\n\t\tif (polygons) {\n\t\t\tconst id = mapRegionNamesToIds[regionName];\n\t\t\tclipPaths[id] = polygons;\n\t\t}\n\t}\n\treturn clipPaths;\n}", "CodeBleu_score": 54.643120007503164}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\tfor (const [regionName, polygons] of Object.entries(skinRegion)) {\n\t\tif (polygons) {\n\t\t\tconst id = mapRegionNamesToIds[regionName];\n\t\t\tclipPaths[id] = polygons;\n\t\t}\n\t}\n\treturn clipPaths;\n}", "CodeBleu_score": 54.643120007503164}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\tObject.entries(skinRegion).forEach(([regionName, polygons]) => {\n\t\tif (polygons) {\n\t\t\tclipPaths[mapRegionNamesToIds[regionName]] = polygons;\n\t\t}\n\t});\n\treturn clipPaths;\n}", "CodeBleu_score": 28.414452529162432}]}
{"instance_id": "6d30b280ffbe", "generation_result": [{"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets = new Array(NUM_BARS);\n\tconst octaveStep = Math.pow(2, 1 / NUM_BARS);\n\tconst minHz = 27.5 * octaveStep;\n\tconst maxHz = 22050 / 2;\n\tconst stepSize = Math.pow(2, 1 / bufferLength);\n\tlet hz = minHz;\n\tfor (let i = 0; i < NUM_BARS; i++) {\n\t\toctaveBuckets[i] = Math.floor(hz / stepSize);\n\t\thz *= octaveStep;\n\t}\n\treturn octaveBuckets;\n}", "CodeBleu_score": 37.424796135020614}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets: number[] = new Array(NUM_BARS).fill(0);\n\n\tconst minHz = Selectors.getMinHz(useTypedSelector(state => state));\n\tconst maxHz = Selectors.getMaxHz(useTypedSelector(state => state));\n\tconst hzPerBar = maxHz / NUM_BARS;\n\tconst hzPerPixel = hzPerBar / bufferLength;\n\n\tfor (let i = 0; i < NUM_BARS; i++) {\n\t\tconst hz = minHz + i * hzPerBar;\n\t\tconst octave = Math.floor(hz / 1000);\n\t\tconst index = Math.floor(hz / hzPerPixel);\n\t\toctaveBuckets[i] = index;\n\t}\n\n\treturn octaveBuckets;\n}", "CodeBleu_score": 45.109066549827716}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets: number[] = [];\n\tconst minHz = 20;\n\tconst maxHz = 20000;\n\tconst step = Math.pow(2, 1 / NUM_BARS);\n\tlet hz = minHz;\n\tlet index = 0;\n\twhile (hz < maxHz) {\n\t\tconst octave = Math.log2(hz / minHz);\n\t\tconst bucket = Math.floor(octave / step);\n\t\toctaveBuckets[index] = bucket;\n\t\tindex++;\n\t\thz *= 2;\n\t}\n\treturn octaveBuckets;\n}", "CodeBleu_score": 28.651068419583364}]}
{"instance_id": "e7c399fb0db4", "generation_result": [{"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}]}
{"instance_id": "b858f410c3f3", "generation_result": [{"code": "const ClutterBar = memo(() =>{\n\t", "CodeBleu_score": 1.1151438765950388}, {"code": "const ClutterBar = memo(() =>{\n\t", "CodeBleu_score": 1.1151438765950388}, {"code": "const ClutterBar = memo(() =>{\n\t\tconst doubled = useTypedSelector(Selectors.getFocusDouble);\n\tconst setFocusDouble = useActionCreator(Actions.setFocus, \"double\");\n\tconst mouseUp = useActionCreator(Actions.toggleDoubleSizeMode);\n\tconst toggleDoubleSizeMode = useActionCreator(Actions.toggleDoubleSizeMode);\n\tconst unsetFocus = useActionCreator(Actions.unsetFocus);\n\n\treturn (\n\t\t<ContextMenuTarget onContextMenu={(e) => {\n\t\t\te.preventDefault();\n\t\t\treturn {\n\t\t\t\tmouseEventCoords: {\n\t\t\t\t\tx: e.clientX,\n\t\t\t\t\ty: e.clientY\n\t\t\t\t}\n\t\t\t};\n\t\t}}>\n\t\t\t<div className=\\\"clutter-bar\\\">\n\t\t\t\t<button\n\t\t\t\t\ttype=\\\"button\\\"\n\t\t\t\t\tclassName={classnames(\\\"button\\\", {\n\t\t\t\t\t\t\\\"is-active\\\": doubled\n\t\t\t\t\t})}\n\t\t\t\t\tonClick={setFocusDouble}\n\t\t\t\t>\n\t\t\t\t\tDouble\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\\\"button\\\"\n\t\t\t\t\tclassName=\\\"button\\\"\n\t\t\t\t\tonClick={mouseUp}\n\t\t\t\t>\n\t\t\t\t\tSingle\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\\\"button\\\"\n\t\t\t\t\tclassName=\\\"button\\\"\n\t\t\t\t\tonClick={toggleDoubleSizeMode}\n\t\t\t\t>\n\t\t\t\t\tToggle\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\ttype=\\\"button\\\"\n\t\t\t\t\tclassName=\\\"button\\\"\n\t\t\t\t\tonClick={unsetFocus}\n\t\t\t\t>\n\t\t\t\t\tUnset\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<OptionsContextMenu />\n\t\t</ContextMenuTarget>\n\t);\n}", "CodeBleu_score": 22.53529140688448}]}
{"instance_id": "5946b13d68ba", "generation_result": [{"code": "const PlaylistToggleButton = memo(() =>{\n\t\tconst isOpen = useTypedSelector(Selectors.getIsPlaylistOpen);\n\n\tconst handleClick = useActionCreator(togglePlaylist);\n\n\tconst className = classnames({\n\t\t\"playlist-toggle-button\": true,\n\t\t\"playlist-toggle-button--open\": isOpen,\n\t});\n\n\treturn (\n\t\t<WinampButton id=\"playlist-toggle-button\" className={className} onClick={handleClick} title=\"Playlist Editor\">\n\t\t\t<svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\">\n\t\t\t\t<path d=\"m15 15h70v70h-70z\" fill=\"#292929\" />\n\t\t\t\t<path d=\"m15 15h70v70h-70z\" stroke=\"#404040\" stroke-width=\"2\" />\n\t\t\t\t<path d=\"m25 25h40v40h-40z\" fill=\"#292929\" />\n\t\t\t\t<path d=\"m25 25h40v40h-40z\" stroke=\"#404040\" stroke-width=\"2\" />\n\t\t\t\t<path d=\"m35 35h20v20h-20z\" fill=\"#292929\" />\n\t\t\t\t<path d=\"m35 35h20v20h-20z\" stroke=\"#404040\" stroke-width=\"2\" />\n\t\t\t</svg>\n\t\t</WinampButton>\n\t);\n}", "CodeBleu_score": 33.61478937958437}, {"code": "const PlaylistToggleButton = memo(() =>{\n\tconst isPlaylistOpen = useTypedSelector(Selectors.getIsPlaylistOpen);\nconst togglePlaylist = useActionCreator(Actions.toggleWindow, \\\"playlist\\\");\n\nreturn (\n<WinampButton\n  id=\\\"playlist-toggle\\\"\n  className={classnames({\n    \\\"playlist-open\\\": isPlaylistOpen,\n    \\\"playlist-closed\\\": !isPlaylistOpen,\n  })}\n  onClick={togglePlaylist}\n  title=\\\"Playlist editor\\\"\n/>\n);\n}", "CodeBleu_score": 22.614911428099788}, {"code": "const PlaylistToggleButton = memo(() =>{\n\tconst isPlaylistOpen = useTypedSelector(Selectors.getIsPlaylistOpen);\nconst togglePlaylist = useActionCreator(Actions.toggleWindow, \\\"playlist\\\");\n\nreturn (\n  <WinampButton\n    id=\\\"playlist-toggle\\\"\n    className={classnames(\\\"playlist-toggle\\\", {\n      \\\"playlist-toggle-selected\\\": isPlaylistOpen,\n    })}\n    onClick={togglePlaylist}\n    title=\\\"Playlist Editor\\\"\n  />\n);\n}", "CodeBleu_score": 24.913810620929027}]}
{"instance_id": "39ecf0db7a99", "generation_result": [{"code": "const Desktop = React.memo(({ children }: Props) =>{\n\t\tconst [element, setElement] = React.useState<HTMLDivElement | null>(null);\n\n\tReact.useEffect(() => {\n\t\tsetElement(document.createElement('div'));\n\t\tdocument.body.appendChild(element);\n\t\treturn () => {\n\t\t\tdocument.body.removeChild(element);\n\t\t};\n\t}, []);\n\n\tif (element) {\n\t\treturn ReactDOM.createPortal(children, element);\n\t} else {\n\t\treturn null;\n\t}\n}", "CodeBleu_score": 37.601059121299606}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\t\\tconst desktopRef = React.useRef<HTMLDivElement>(null);\n\n\\tReact.useEffect(() => {\n\\t\\tif (!desktopRef.current) {\n\\t\\t\\tthrow new Error(\\\"Desktop ref is null\\\");\n\\t\\t}\n\\t\\tconst desktop = desktopRef.current;\n\\t\\tdesktop.classList.add(\\\"webamp-desktop\\\");\n\\t\\tconst body = document.body;\n\\t\\tbody.appendChild(desktop);\n\\t\\treturn () => body.removeChild(desktop);\n\\t}, [desktopRef]);\n\n\\treturn ReactDOM.createPortal(<div className=\\\"webamp-desktop\\\" ref={desktopRef}>{children}</div>, document.body);\n}", "CodeBleu_score": 25.338829170793076}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\t\tconst [element, setElement] = React.useState<HTMLDivElement | null>(null);\n\tReact.useEffect(() => {\n\t\tif (element) {\n\t\t\tdocument.body.appendChild(element);\n\t\t}\n\t}, [element]);\n\tReact.useEffect(() => {\n\t\tif (element) {\n\t\t\tdocument.body.removeChild(element);\n\t\t}\n\t}, [element]);\n\treturn element ? ReactDOM.createPortal(<div className=\"webamp-desktop\">{children}</div>, element) : null;\n}", "CodeBleu_score": 29.845838008330478}]}
{"instance_id": "41be320578a4", "generation_result": [{"code": "export default function PlaylistScrollBar(){\n\t", "CodeBleu_score": 0.4120699738468587}, {"code": "export default function PlaylistScrollBar(){\n\t\tconst playlistHeight = useTypedSelector(Selectors.getPlaylistHeight);\n\tconst scrollPosition = useTypedSelector(Selectors.getScrollPosition);\n\tconst visibleTracks = useTypedSelector(Selectors.getVisibleTracks);\n\tconst isVisible = visibleTracks.length !== 0;\n\tconst scrollBarRef = React.useRef();\n\tconst handleRef = React.useRef();\n\tconst handleClick = useActionCreator(Actions.updateScrollPosition);\n\n\tconst handleScroll = (e) => {\n\t\tconst scrollBar = scrollBarRef.current;\n\t\tconst handle = handleRef.current;\n\t\tconst scrollHeight = scrollBar.scrollHeight;\n\t\tconst scrollTop = scrollBar.scrollTop;\n\t\tconst scrollHeightPercentage = scrollTop / scrollHeight;\n\t\tconst handleHeightPercentage = handle.getBoundingClientRect().top / scrollHeight;\n\t\tconst handlePosition = scrollHeightPercentage * 100;\n\t\tconst handleHeight = handleHeightPercentage * 100;\n\n\t\tif (handleHeightPercentage < 0.01) {\n\t\t\thandleClick(0);\n\t\t} else if (handleHeightPercentage > 0.99) {\n\t\t\thandleClick(scrollHeight - scrollBar.clientHeight);\n\t\t} else {\n\t\t\thandleClick(handlePosition);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\\\"playlist-scrollbar-container\\\"\n\t\t\tstyle={{\n\t\t\t\theight: isVisible ? playlistHeight : 0,\n\t\t\t\tvisibility: isVisible ? \\\"visible\\\" : \\\"hidden\\\",\n\t\t\t}}\n\t\t>\n\t\t\t<VerticalSlider\n\t\t\t\tref={scrollBarRef}\n\t\t\t\tclassName=\\\"playlist-scrollbar\\\"\n\t\t\t\tonScroll={handleScroll}\n\t\t\t>\n\t\t\t\t<Handle ref={handleRef} />\n\t\t\t</VerticalSlider>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 36.54353080224993}, {"code": "export default function PlaylistScrollBar(){\n\t\tconst playlistHeight = useTypedSelector(Selectors.getPlaylistHeight);\n\tconst scrollPosition = useTypedSelector(Selectors.getScrollPosition);\n\tconst tracksVisible = useTypedSelector(Selectors.getTracksVisible);\n\tconst setScrollPosition = useActionCreator(Actions.setScrollPosition);\n\n\tconst disabled = tracksVisible;\n\n\treturn (\n\t\t<div className=\\\"playlist-scrollbar-container\\\">\n\t\t\t<VerticalSlider\n\t\t\t\tclassName=\\\"playlist-scrollbar\\\"\n\t\t\t\tdisabled={disabled}\n\t\t\t\tmax={playlistHeight - WINDOWS.MAIN.HEIGHT}\n\t\t\t\tmin={0}\n\t\t\t\tonChange={setScrollPosition}\n\t\t\t\torientation=\\\"vertical\\\"\n\t\t\t\tstep={1}\n\t\t\t\tvalue={scrollPosition}\n\t\t\t>\n\t\t\t\t<Handle />\n\t\t\t</VerticalSlider>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 41.000900455366484}]}
{"instance_id": "fccf51432007", "generation_result": [{"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\treturn new Promise((resolve, reject) => {\n\t\tconst audio = document.createElement(\\\"audio\\\");\n\t\taudio.crossOrigin = \\\"anonymous\\\";\n\t\taudio.preload = \\\"metadata\\\";\n\t\taudio.addEventListener(\\\"durationchange\\\", () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener(\\\"durationchange\\\", null);\n\t\t});\n\t\taudio.addEventListener(\\\"error\\\", () => {\n\t\t\treject(new Error(\\\"Error fetching media duration\\\"));\n\t\t\taudio.removeEventListener(\\\"error\\\", null);\n\t\t});\n\t\taudio.src = url;\n\t});\n}", "CodeBleu_score": 36.654980518176295}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\tconst audio = document.createElement(\\\"audio\\\");\n\taudio.crossOrigin = \\\"anonymous\\\";\n\taudio.preload = \\\"metadata\\\";\n\n\treturn new Promise((resolve, reject) => {\n\t\taudio.addEventListener(\\\"durationchange\\\", () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener(\\\"durationchange\\\", null);\n\t\t});\n\t\taudio.addEventListener(\\\"error\\\", (e) => {\n\t\t\treject(e);\n\t\t\taudio.removeEventListener(\\\"error\\\", null);\n\t\t});\n\n\t\taudio.src = url;\n\t});\n}", "CodeBleu_score": 40.682300380913574}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\treturn new Promise((resolve, reject) => {\n\t\tconst audio = document.createElement(\\\"audio\\\");\n\t\taudio.crossOrigin = \\\"anonymous\\\";\n\n\t\tconst onDurationChange = () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener(\\\"durationchange\\\", onDurationChange);\n\t\t};\n\n\t\tconst onError = () => {\n\t\t\treject(new Error(\\\"Error getting media duration\\\"));\n\t\t\taudio.removeEventListener(\\\"error\\\", onError);\n\t\t};\n\n\t\taudio.addEventListener(\\\"durationchange\\\", onDurationChange);\n\t\taudio.addEventListener(\\\"error\\\", onError);\n\n\t\taudio.src = url;\n\t});\n}", "CodeBleu_score": 47.77127891495986}]}
{"instance_id": "8055da9c9425", "generation_result": [{"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\treturn new Promise((resolve, reject) => {\n\t\tif (fileReference == null) {\n\t\t\treject(new Error(\"Attempted to get the contents of a null file reference\"));\n\t\t}\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event: any) => {\n\t\t\tresolve(event.target.result);\n\t\t};\n\t\treader.onerror = (event: any) => {\n\t\t\treject(event);\n\t\t};\n\t\treader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 61.518982657905205}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\tif (fileReference == null) {\n\t\tthrow new Error(\"Attempted to read a file reference that is null\");\n\t}\n\tconst reader = new FileReader();\n\treturn new Promise((resolve, reject) => {\n\t\treader.onload = (event) => {\n\t\t\tresolve(event.target.result);\n\t\t};\n\t\treader.onerror = (event) => {\n\t\t\treject(event.target.error);\n\t\t};\n\t\treader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 51.49387134312319}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\tinvariant(fileReference != null, \"Attempted to get the contents of a file without passing a file reference\");\n\tconst fileReader = new FileReader();\n\treturn new Promise((resolve, reject) => {\n\t\tfileReader.onload = () => {\n\t\t\tresolve(fileReader.result);\n\t\t};\n\t\tfileReader.onerror = () => {\n\t\t\treject(fileReader.error);\n\t\t};\n\t\tfileReader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 51.17552367049873}]}
{"instance_id": "b3dc12d7d309", "generation_result": [{"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\\tconst [value, setValue] = useState<T | null>(null);\n\\tconst isUnmountedRef = useUnmountedRef();\n\\tuseEffect(() => {\n\\t\\tconst updateValue = (newValue: T) => {\n\\t\\t\\tif (isUnmountedRef.current) {\n\\t\\t\\t\\treturn;\n\\t\\t\\t}\n\\t\\t\\tsetValue(newValue);\n\\t\\t};\n\\t\\tpropValue.then(updateValue);\n\\t\\treturn () => {\n\\t\\t\\tisUnmountedRef.current = true;\n\\t\\t};\n\\t}, [propValue]);\n\\treturn value;\n}", "CodeBleu_score": 41.20327018601309}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\tconst [value, setValue] = useState<T | null>(null);\nconst unmountedRef = useUnmountedRef();\nuseEffect(() => {\n  let isSubscribed = true;\n  setValue(null);\n  propValue.then((value) => {\n    if (isSubscribed) {\n      setValue(value);\n    }\n  });\n  return () => {\n    isSubscribed = false;\n  };\n}, [propValue]);\nreturn unmountedRef.current ? null : value;\n}", "CodeBleu_score": 60.498138908691736}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\tconst [resolvedValue, setResolvedValue] = useState<T | null>(null);\nconst isUnmountedRef = useUnmountedRef();\nuseEffect(\n  () => {\n    let isDisposed = false;\n    propValue\n      .then((resolvedValue) => {\n        if (!isDisposed) {\n          setResolvedValue(resolvedValue);\n        }\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n    return () => {\n      isDisposed = true;\n    };\n  },\n  [propValue],\n);\nreturn resolvedValue;\n}", "CodeBleu_score": 58.613561119982705}]}
{"instance_id": "7fc14a50df16", "generation_result": [{"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData: RegionData = {};\n\tconst sections = parseIni(regionStr);\n\tfor (let i = 0; i < sections.length; i++) {\n\t\tconst section = sections[i];\n\t\tconst points = pointPairs(section.points.split(\",\"));\n\t\tif (points.length < 3) {\n\t\t\tcontinue;\n\t\t}\n\t\tregionData[section.name] = points;\n\t}\n\treturn regionData;\n}", "CodeBleu_score": 13.259172119564317}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData: RegionData = {};\n\tconst sectionRegex = /\\\\[\\\\[(.*?)\\\\]\\\\]/g;\n\tconst pointsRegex = /\\\\[\\\\[(.*?)\\\\]\\\\]/g;\n\tlet match;\n\twhile ((match = sectionRegex.exec(regionStr))) {\n\t\tconst section = match[1];\n\t\tconst points = match[0].replace(section, \"\").split(\",\");\n\t\tconst validPoints = pointPairs(points.filter((point) => point.includes(\"=\")));\n\t\tif (validPoints.length > 0) {\n\t\t\tregionData[section] = validPoints;\n\t\t}\n\t}\n\treturn regionData;\n}", "CodeBleu_score": 19.671699128928992}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData: RegionData = {};\n\tconst parsedIni = parseIni(regionStr);\n\n\tfor (const section of Object.keys(parsedIni)) {\n\t\tconst sectionData = parsedIni[section];\n\t\tconst regionPoints: string[] = [];\n\n\t\tif (sectionData.points) {\n\t\t\tconst pointStr = sectionData.points;\n\t\t\tconst pointPairs = pointPairs(pointStr.split(\",\"));\n\n\t\t\tfor (const pointPair of pointPairs) {\n\t\t\t\tconst pointPairArr = pointPair.split(\",\");\n\t\t\t\tconst x = Number(pointPairArr[0]);\n\t\t\t\tconst y = Number(pointPairArr[1]);\n\n\t\t\t\tif (Number.isFinite(x) && Number.isFinite(y)) {\n\t\t\t\t\tregionPoints.push(`${x},${y}`);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (regionPoints.length > 0) {\n\t\t\tregionData[section] = regionPoints;\n\t\t}\n\t}\n\n\treturn regionData;\n}", "CodeBleu_score": 23.419544833755484}]}
{"instance_id": "6e97ec2706cf", "generation_result": [{"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tmedia: {\n\t\tstatus: {\n\t\t\teq: MEDIA_STATUS.PLAYING\n\t\t}\n\t},\n\tplaylist: {\n\t\tcurrentTrack: {\n\t\t\texists: true\n\t\t}\n\t},\n\ttracks: {\n\t\t[ {\n\t\t\tmedia: {\n\t\t\t\ttags: {\n\t\t\t\t\teq: MEDIA_TAG_INITIALIZED\n\t\t\t\t}\n\t\t\t}\n\t\t} ]: {\n\t\t\texists: false\n\t\t}\n\t}\n}", "CodeBleu_score": 8.728537272504793}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tgetMediaStatus,\n\tgetCurrentTrack,\n\tgetMediaIsPlaying,\n\t(mediaStatus, currentTrack, mediaIsPlaying) => {\n\t\tif (mediaIsPlaying && currentTrack && mediaStatus !== MEDIA_STATUS.LOADING) {\n\t\t\treturn currentTrack.id;\n\t\t}\n\t\treturn null;\n\t},\n}", "CodeBleu_score": 17.27524178031391}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tgetMediaStatus,\n\tgetCurrentTrackId,\n\tgetMediaTags,\n\t(mediaStatus, currentTrackId, mediaTags) => {\n\t\tif (mediaStatus !== MEDIA_STATUS.PLAYING) {\n\t\t\treturn null;\n\t\t}\n\t\tif (currentTrackId == null) {\n\t\t\treturn null;\n\t\t}\n\t\tconst currentTrackTags = mediaTags[currentTrackId];\n\t\tif (currentTrackTags == null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (currentTrackTags.initialized) {\n\t\t\treturn null;\n\t\t}\n\t\treturn currentTrackId;\n\t},\n}", "CodeBleu_score": 20.1286977740525}]}
{"instance_id": "5dbbdd07f829", "generation_result": [{"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t", "CodeBleu_score": 2.5019891902114106}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t", "CodeBleu_score": 2.5019891902114106}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t\n-    // TODO: This is a hack to make sure the store is initialized.\n-    // We should probably have a better way of doing this.\n-    await sleep(0);\n\n-    const store = this.store;\n+    const store = this.store;\n+    const { windowLayout } = store.getState().display;\n+    const { x, y, width, height } = windowLayout;\n+    const isMinimized = width === 0;\n+    const isMaximized = width === Infinity;\n+    const isCentered = x === undefined && y === undefined;\n+    const isNotRendered = this._disposable == null;\n+    const isNotClosed = this._disposable != null;\n+\n+    // TODO: This is a hack to make sure the store is initialized.\n+    // We should probably have a better way of doing this.\n+    await sleep(0);\n+\n+    if (isMinimized) {\n+      store.dispatch(Actions.setWindowLayout({ x: 0, y: 0, width: 400, height: 400 }));\n+    }\n+\n+    if (isMaximized) {\n+      store.dispatch(Actions.setWindowLayout({ x: 0, y: 0, width: Infinity, height: Infinity }));\n+    }\n+\n+    if (isCentered) {\n+      const { innerWidth, innerHeight } = window;\n+      store.dispatch(Actions.setWindowLayout({ x: innerWidth / 2 - 200, y: innerHeight / 2 - 200, width: 400, height: 400 }));\n+    }\n+\n+    if (isNotRendered) {\n+      this._disposable = this._render(node);\n+    }\n+\n+    if (isNotClosed) {\n+      this.close();\n+    }\n+\n+    return;\n+  }", "CodeBleu_score": 38.202919814196015}]}
{"instance_id": "2598a3bbc50d", "generation_result": [{"code": "handleContextMenu(e: any){\n\t", "CodeBleu_score": 0.995738382331795}, {"code": "handleContextMenu(e: any){\n\t", "CodeBleu_score": 0.995738382331795}, {"code": "handleContextMenu(e: any){\n\t", "CodeBleu_score": 0.995738382331795}]}
{"instance_id": "9a7475588195", "generation_result": [{"code": "handleChangeFontSize(fontSize: string): void{\n\t\tlet newFontSize = parseFloat(fontSize);\n\tif (isNaN(newFontSize)) {\n\t\tthis.errorMessage.set(appconst.ERROR_INVALID_FONT_SIZE);\n\t\treturn;\n\t}\n\tif (newFontSize !== GlobalModel.clientSettingsViewModel.terminalFontSize) {\n\t\tcommandRtnHandler(\n\t\t\tGlobalCommandRunner.runCommand(\n\t\t\t\t`setterm --font-size ${newFontSize}`,\n\t\t\t\t(err) => {\n\t\t\t\t\tthis.errorMessage.set(err);\n\t\t\t\t}\n\t\t\t),\n\t\t\t() => {\n\t\t\t\tGlobalModel.clientSettingsViewModel.terminalFontSize = newFontSize;\n\t\t\t}\n\t\t);\n\t}\n}", "CodeBleu_score": 36.10778229685857}, {"code": "handleChangeFontSize(fontSize: string): void{\n\t\tlet newFontSize = parseFloat(fontSize);\n\tif (isNaN(newFontSize) || newFontSize < 1 || newFontSize > 256) {\n\t\tthis.errorMessage.set(`Invalid font size: ${fontSize}`);\n\t\treturn;\n\t}\n\n\tif (newFontSize !== GlobalModel.clientSettingsViewModel.terminalFontSize) {\n\t\tcommandRtnHandler(GlobalCommandRunner.runCommand(`set term.fontsize ${newFontSize}`), this.errorMessage);\n\t}\n}", "CodeBleu_score": 30.74390478575046}, {"code": "handleChangeFontSize(fontSize: string): void{\n\t\tlet newFontSize = parseInt(fontSize);\n\tlet currentFontSize = this.model.terminal.getFontSize();\n\tif (currentFontSize !== newFontSize) {\n\t\tcommandRtnHandler(this.model.terminal.setFontSize(newFontSize), this.errorMessage);\n\t}\n}", "CodeBleu_score": 45.83656077853555}]}
{"instance_id": "d4d74a9c8035", "generation_result": [{"code": "handleChangeTermTheme(theme: string): void{\n\t\tconst currentTheme = GlobalModel.getTermTheme();\n\tif (currentTheme == theme) {\n\t\treturn;\n\t}\n\tconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\n\tcommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 67.08967485332283}, {"code": "handleChangeTermTheme(theme: string): void{\n\t\tconst currentTheme = GlobalModel.getTermTheme();\n\tif (currentTheme == theme) {\n\t\treturn;\n\t}\n\tconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\n\tcommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 67.08967485332283}, {"code": "handleChangeTermTheme(theme: string): void{\n\t\tconst currentTheme = GlobalModel.getTermTheme();\n\tif (currentTheme == theme) {\n\t\treturn;\n\t}\n\tconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\n\tcommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 67.08967485332283}]}
{"instance_id": "329444949255", "generation_result": [{"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\tconst modalHeaderId = uuidv4();\n\tconst headerId = uuidv4();\n\n\treturn (\n\t\t<div className=\\\"modal-header\\\" id={modalHeaderId}>\n\t\t\t<div className=\\\"modal-header-title\\\" id={headerId}>{title}</div>\n\t\t\t<If condition={keybindings && onClose}>\n\t\t\t\t<ModalKeybindings onClose={onClose} />\n\t\t\t</If>\n\t\t\t<If condition={onClose}>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\\\"modal-header-close-button\\\"\n\t\t\t\t\tonClick={onClose}\n\t\t\t\t\tid=\\\"modal-header-close-button\\\"\n\t\t\t\t\ttitle=\\\"Close modal\\\"\n\t\t\t\t>\n\t\t\t\t\t<svg\n\t\t\t\t\t\tclassName=\\\"modal-header-close-icon\\\"\n\t\t\t\t\t\txmlns=\\\"http://www.w3.org/2000/svg\\\"\n\t\t\t\t\t\twidth=\\\"16\\\"\n\t\t\t\t\t\theight=\\\"16\\\"\n\t\t\t\t\t\tfill=\\\"currentColor\\\"\n\t\t\t\t\t\tclassName=\\\"bi bi-x\\\"\n\t\t\t\t\t\tviewBox=\\\"0 0 16 16\\\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td=\\\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\\\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</Button>\n\t\t\t</If>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 41.63867607373092}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\tconst id = uuidv4();\n\tconst [modalIsOpen, setModalIsOpen] = React.useState(true);\n\n\tconst handleClose = () => {\n\t\tsetModalIsOpen(false);\n\t\tif (onClose) {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\treturn (\n\t\t<If condition={modalIsOpen}>\n\t\t\t<div className=\\\"modal-header\\\" id={id}>\n\t\t\t\t<div className=\\\"modal-header__title\\\">{title}</div>\n\t\t\t\t<If condition={onClose}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\\\"modal-header__close-button\\\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tariaLabel=\\\"Close\\\"\n\t\t\t\t\t\ttitle=\\\"Close\\\"\n\t\t\t\t\t\ttype=\\\"button\\\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<svg className=\\\"modal-header__close-icon\\\" viewBox=\\\"0 0 16 16\\\" fill=\\\"currentColor\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\n\t\t\t\t\t\t\t<path d=\\\"M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z\\\"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</Button>\n\t\t\t\t</If>\n\t\t\t\t<If condition={keybindings}>\n\t\t\t\t\t<ModalKeybindings id={id} />\n\t\t\t\t</If>\n\t\t\t</div>\n\t\t</If>\n\t);\n}", "CodeBleu_score": 32.17631432596891}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\treturn (\n\t\t<div className=\\\"modal-header\\\">\n\t\t\t<div className=\\\"modal-header__title\\\">{title}</div>\n\t\t\t<If condition={!!onClose}>\n\t\t\t\t<div className=\\\"modal-header__close-button\\\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ticon=\\\"close\\\"\n\t\t\t\t\t\tclassName=\\\"modal-header__close-button__button\\\"\n\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</If>\n\t\t\t<If condition={!!keybindings}>\n\t\t\t\t<ModalKeybindings />\n\t\t\t</If>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 38.094581033298844}]}
{"instance_id": "1da69d707d33", "generation_result": [{"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr == null || rptr.remoteid == null || rptr.remoteid.trim() == \\\"\\\") {\n\t\treturn \\\"\\\";\n\t}\n\n\\tconst remoteName = rnames[rptr.remoteid] || rptr.remoteid.substring(0, 8);\n\\tif (rptr.name != null && rptr.name.trim() != \\\"\\\") {\n\\t\\treturn sprintf(\\\"[%s: %s]\\\", remoteName, rptr.name);\n\\t}\n\\treturn sprintf(\\\"[%s]\\\", remoteName);\n}", "CodeBleu_score": 38.41480154939856}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr == null || isBlank(rptr.remoteid)) {\n\t\treturn \\\"\\\";\n\t}\n\n    let name = rnames[rptr.remoteid] || rptr.remoteid;\n    if (!isBlank(rptr.name)) {\n        name += \\\": \\\" + rptr.name;\n    }\n    return `[${name}]`;\n}", "CodeBleu_score": 50.046998994838276}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr == null || isBlank(rptr.remoteid)) {\n\t\treturn \\\"\\\";\n\t}\n\n    let rname = rnames[rptr.remoteid] || rptr.remoteid;\n    if (!isBlank(rptr.name)) {\n        rname += \\\": \\\" + rptr.name;\n    }\n    return `[${rname}]`;\n}", "CodeBleu_score": 52.170267286240104}]}
{"instance_id": "757ee5b9626f", "generation_result": [{"code": "adjustTextAreaHeight(){\n\t\tconst { termFontSize, chatWindowRef, textAreaRef } = this;\n\tconst { current } = textAreaRef;\n\tif (current) {\n\t\tconst { scrollHeight } = current;\n\t\tconst minLines = 1;\n\t\tconst maxLines = 5;\n\t\tconst lineHeight = Math.floor(scrollHeight / minLines);\n\t\tconst minHeight = lineHeight * minLines;\n\t\tconst maxHeight = lineHeight * maxLines;\n\t\tconst newHeight = Math.min(Math.max(minHeight, scrollHeight), maxHeight);\n\t\tcurrent.style.height = `${newHeight}px`;\n\t\tcurrent.style.fontSize = `${termFontSize}px`;\n\t}\n}", "CodeBleu_score": 36.02098683267418}, {"code": "adjustTextAreaHeight(){\n\t\tconst { textAreaRef, termFontSize, osInstance } = this;\n\tif (textAreaRef.current && osInstance) {\n\t\tconst { scrollHeight } = textAreaRef.current;\n\t\tconst lineHeight = Math.floor(termFontSize * 1.2);\n\t\tconst minLines = 3;\n\t\tconst maxLines = 10;\n\t\tconst lines = Math.floor(scrollHeight / lineHeight);\n\t\tconst newHeight = Math.min(Math.max(lines, minLines), maxLines) * lineHeight;\n\t\ttextAreaRef.current.style.height = `${newHeight}px`;\n\t\tosInstance.update();\n\t}\n}", "CodeBleu_score": 31.46256181742028}, {"code": "adjustTextAreaHeight(){\n\tconst { current: textArea } = this.textAreaRef;\nif (textArea == null) {\nreturn;\n}\nconst { current: chatWindow } = this.chatWindowRef;\nconst { current: sidebar } = this.sidebarRef;\n\nconst newHeight = Math.min(Math.max(textArea.scrollHeight, 1), this.termFontSize * 10);\ntextArea.style.height = `${newHeight}px`;\ntextArea.style.width = `${chatWindow.clientWidth - sidebar.clientWidth}px`;\n}", "CodeBleu_score": 35.45428445465583}]}
{"instance_id": "c0fa6e5d0067", "generation_result": [{"code": "onEnterKeyPressed(){\n\tconst { hasCmdAndOutput, getSelectedCodeBlockIndex } = GlobalModel.sidebarchatModel;\nconst { value } = this.value;\nconst { curLine } = GlobalModel.inputModel;\nif (hasCmdAndOutput) {\nconst newCmdAndOutput = GlobalModel.sidebarchatModel.getCmdAndOutput();\nconst newValue = this.formChatMessage(newCmdAndOutput);\nthis.value.set(newValue);\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n} else if (getSelectedCodeBlockIndex() != null) {\n// If a code block is selected, set the command input value\nconst selectedCodeBlockIndex = getSelectedCodeBlockIndex();\nconst cmd = GlobalModel.inputModel.getCodeBlockCmd(selectedCodeBlockIndex);\nthis.value.set(cmd);\n} else {\n// If no code block is selected, submit the chat message\nthis.submitChatMessage(value);\nthis.value.set(\\\"\\\");\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n}\nreturn true;\n}", "CodeBleu_score": 37.49563965256611}, {"code": "onEnterKeyPressed(){\n\t\tconst { inputModel, sidebarchatModel } = GlobalModel;\n\tconst selectedCodeBlockIndex = sidebarchatModel.getSelectedCodeBlockIndex();\n\tif (selectedCodeBlockIndex != null) {\n\t\tconst cmd = inputModel.getCmdForCodeBlock(selectedCodeBlockIndex);\n\t\tinputModel.setCmdInputValue(cmd);\n\t} else {\n\t\tconst messageStr = this.value.get();\n\t\tthis.submitChatMessage(messageStr);\n\t\tthis.value.set(\"\");\n\t\tsidebarchatModel.resetCmdAndOutput();\n\t}\n\treturn true;\n}", "CodeBleu_score": 52.17984793864516}, {"code": "onEnterKeyPressed(){\n\tconst { hasCmdAndOutput, selectedCodeBlockIndex } = GlobalModel.sidebarchatModel;\nif (selectedCodeBlockIndex != null) {\nconst cmdAndOutput = GlobalModel.sidebarchatModel.getCmdAndOutput();\nconst cmd = cmdAndOutput.cmd;\nconst output = cmdAndOutput.output;\nGlobalModel.inputModel.setCmdInputValue(cmd);\nGlobalModel.inputModel.setCmdOutput(output);\n} else {\nconst messageStr = this.value.get();\nthis.submitChatMessage(messageStr);\nthis.value.set(\"\");\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n}\nreturn true;\n}", "CodeBleu_score": 55.54914180368361}]}
{"instance_id": "a022487e54ff", "generation_result": [{"code": "function readAuthKey(): string{\n\t\tconst waveHome = getWaveHomeDir();\n\tconst authKeyFile = path.join(waveHome, AuthKeyFile);\n\tensureDir(waveHome);\n\tif (!fs.existsSync(authKeyFile)) {\n\t\tconst newAuthKey = uuidv4();\n\t\tfs.writeFileSync(authKeyFile, newAuthKey, { mode: 0o600 });\n\t\treturn newAuthKey;\n\t}\n\tconst authKey = fs.readFileSync(authKeyFile, { encoding: \\\"utf-8\\\" });\n\tif (!uuidRegex.test(authKey)) {\n\t\tthrow new Error(\\\"Invalid authorization key\\\");\n\t}\n\treturn authKey;\n}", "CodeBleu_score": 23.356556527909234}, {"code": "function readAuthKey(): string{\n\t\tconst waveHome = getWaveHomeDir();\n\tconst authKeyFile = path.join(waveHome, AuthKeyFile);\n\tif (fs.existsSync(authKeyFile)) {\n\t\tconst authKey = fs.readFileSync(authKeyFile, \\\"utf-8\\\");\n\t\tif (!authKey || authKey.length != 36) {\n\t\t\tthrow new Error(\\\"Invalid authorization key\\\");\n\t\t}\n\t\treturn authKey;\n\t}\n\tconst newAuthKey = uuidv4();\n\tfs.writeFileSync(authKeyFile, newAuthKey, { mode: 0o600 });\n\treturn newAuthKey;\n}", "CodeBleu_score": 30.95061922526644}, {"code": "function readAuthKey(): string{\n\t\tconst waveHome = getWaveHomeDir();\n\tconst authKeyFile = path.join(waveHome, AuthKeyFile);\n\tif (!fs.existsSync(authKeyFile)) {\n\t\tconst authKey = uuidv4();\n\t\tfs.writeFileSync(authKeyFile, authKey, { mode: 0o600 });\n\t\treturn authKey;\n\t} else {\n\t\tconst authKey = fs.readFileSync(authKeyFile, { encoding: \\\"utf-8\\\" });\n\t\tif (!isValidAuthKey(authKey)) {\n\t\t\tthrow new Error(\\\"Invalid authorization key\\\");\n\t\t}\n\t\treturn authKey;\n\t}\n}", "CodeBleu_score": 22.756782347744792}]}
{"instance_id": "9c3e2f93e1c1", "generation_result": [{"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t\n\tif (!this.isRunning()) {\n\t\treturn;\n\t}\n\tfor (let pos = 0; pos < data.length; pos += InputChunkSize) {\n\t\tlet dataChunk = data.slice(pos, pos + InputChunkSize);\n\t\tthis.handleInputChunk(dataChunk, renderer);\n\t}\n}", "CodeBleu_score": 86.86840857066116}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t  // eslint-disable-line @typescript-eslint/no-unused-vars\n    if (!this.isRunning()) {\n        return;\n    }\n    for (let pos = 0; pos < data.length; pos += InputChunkSize) {\n        let dataChunk = data.slice(pos, pos + InputChunkSize);\n        this.handleInputChunk(dataChunk);\n    }\n}", "CodeBleu_score": 99.8920088075933}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t\n\tif (!this.isRunning()) {\n\t\treturn;\n\t}\n\tfor (let pos = 0; pos < data.length; pos += InputChunkSize) {\n\t\tlet dataChunk = data.slice(pos, pos + InputChunkSize);\n\t\tthis.handleInputChunk(dataChunk, renderer);\n\t}\n}", "CodeBleu_score": 86.86840857066116}]}
{"instance_id": "37ad09d7b939", "generation_result": [{"code": "function checkValidServiceWorker(swUrl) {\n\t\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, { headers: { 'Service-Worker': 'script' } })\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}", "CodeBleu_score": 70.93102592813443}, {"code": "function checkValidServiceWorker(swUrl) {\n\t\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' }\n\t}).then(response => {\n\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\tconst contentType = response.headers.get('content-type');\n\t\tif (\n\t\t\tresponse.status === 404 ||\n\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t) {\n\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\t// Service worker found. Proceed as normal.\n\t\t\tregisterValidSW(swUrl);\n\t\t}\n\t}).catch(() => {\n\t\tconsole.log(\n\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t);\n\t});\n}", "CodeBleu_score": 69.1914353686749}, {"code": "function checkValidServiceWorker(swUrl) {\n\t\tfetch(swUrl, { headers: { 'Service-Worker': 'script' } })\n\t.then(response => {\n\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\tconst contentType = response.headers.get('content-type');\n\t\tif (\n\t\t\tresponse.status === 404 ||\n\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t) {\n\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\tunregister();\n\t\t\tlocation.reload();\n\t\t} else {\n\t\t\t// Service worker found. Proceed as normal.\n\t\t\tregisterValidSW(swUrl);\n\t\t}\n\t})\n\t.catch(() => {\n\t\t// No internet connection.\n\t\tconsole.log(\n\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t);\n\t});\n}", "CodeBleu_score": 57.92559338848534}]}
{"instance_id": "27dabe0c40aa", "generation_result": [{"code": "function areAllRequiredElementsHighlighted{\n\treturn highlightedElements.length === requiredElements.length ? CheckBoxStates.CHECKED : CheckBoxStates.UNCHECKED;\n}", "CodeBleu_score": 10.507070232190213}, {"code": "function areAllRequiredElementsHighlighted{\n\t\n}", "CodeBleu_score": 1.5887535724086645}, {"code": "function areAllRequiredElementsHighlighted{\n\t\n}", "CodeBleu_score": 1.5887535724086645}]}
{"instance_id": "c60e532809af", "generation_result": [{"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\t\tconst actionEvents = actionsFn(...handles);\n\tconst handlers = [];\n\tfor (const [key, value] of Object.entries(actionEvents)) {\n\t\tconst match = key.match(delegateEventSplitter);\n\t\tconst [, eventName, selector = ''] = match;\n\t\tconst handler = (event: any) => {\n\t\t\tif (selector) {\n\t\t\t\tif (typeof selector === 'string') {\n\t\t\t\t\tif (hasMatchInAncestry(event.target, selector)) {\n\t\t\t\t\t\tvalue(event);\n\t\t\t\t\t}\n\t\t\t\t} else if (selector.call(this, event.target, event)) {\n\t\t\t\t\tvalue(event);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue(event);\n\t\t\t}\n\t\t};\n\t\thandlers.push({ eventName, handler });\n\t}\n\treturn handlers;\n}", "CodeBleu_score": 41.41691687116447}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\tconst handlers = handles.reduce((acc, handle) => {\nconst { name, selector, options } = handle;\nconst action = actionsFn(name, options);\nif (selector) {\nconst handler = event => {\nif (event.target[matchesMethod](selector) || hasMatchInAncestry(event.target, selector)) {\naction(event);\n}\n};\nacc.push({ name, handler });\n} else {\nconst handler = event => action(event);\nacc.push({ name, handler });\n}\nreturn acc;\n}, []);\nreturn handlers;\n}", "CodeBleu_score": 38.27269363164236}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\t\tconst actionHandlers = actionsFn(...handles);\n\treturn Object.entries(actionHandlers).map(([key, action]) => {\n\t\tconst match = key.match(delegateEventSplitter);\n\t\tconst [, eventName, selector = ''] = match;\n\t\tconst handler = (event: any) => {\n\t\t\tif (selector && hasMatchInAncestry(event.target, selector)) {\n\t\t\t\treturn action(event);\n\t\t\t}\n\t\t\tif (!selector) {\n\t\t\t\treturn action(event);\n\t\t\t}\n\t\t};\n\t\treturn { eventName, handler };\n\t});\n}", "CodeBleu_score": 49.23992271754146}]}
{"instance_id": "8c81ca953249", "generation_result": [{"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t\tconst handlers = createHandlers(actionsFn, ...handles);\n\tuseEffect(() => {\n\t\tconst rootElement = document.getElementById('storybook-root');\n\t\tif (!rootElement) {\n\t\t\treturn;\n\t\t}\n\t\tconst addEventListener = rootElement.addEventListener;\n\t\tconst removeEventListener = rootElement.removeEventListener;\n\t\thandlers.forEach(({ eventName, handler }) => {\n\t\t\taddEventListener(eventName, handler);\n\t\t});\n\t\treturn () => {\n\t\t\thandlers.forEach(({ eventName, handler }) => {\n\t\t\t\tremoveEventListener(eventName, handler);\n\t\t\t});\n\t\t};\n\t}, [actionsFn, ...handles]);\n}", "CodeBleu_score": 52.742779833746035}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t\tconst handlers = createHandlers(actionsFn, ...handles);\n\n\treturn (StoryFn: any) => {\n\t\tconst BoundStoryFn = StoryFn.bind({});\n\t\tconst Wrapper = (props: any) => {\n\t\t\tconst element = document.getElementById('storybook-root');\n\n\t\t\tuseEffect(() => {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst boundHandlers = handlers.map(({ eventName, handler }) => {\n\t\t\t\t\telement.addEventListener(eventName, handler);\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\telement.removeEventListener(eventName, handler);\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn () => {\n\t\t\t\t\tboundHandlers.forEach((dispose: any) => dispose());\n\t\t\t\t};\n\t\t\t}, [element]);\n\n\t\t\treturn React.createElement(BoundStoryFn, props);\n\t\t};\n\t\treturn Wrapper;\n\t};\n}", "CodeBleu_score": 47.664275317250805}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t", "CodeBleu_score": 3.6633386134308714}]}
{"instance_id": "3b9dc9070ef1", "generation_result": [{"code": "addAction = (action: ActionDisplay) =>{\n\t\tconst { actions } = this.state;\n\n  // If the last action is the same, increment its count.\n  if (actions.length > 0 && safeDeepEqual(actions[actions.length - 1].action, action.action)) {\n    actions[actions.length - 1].count++;\n  } else {\n    // Otherwise, create a new action with a count of 1.\n    action.count = 1;\n    actions.push(action);\n  }\n\n  // Limit the number of actions, if specified.\n  if (action.options.limit && actions.length > action.options.limit) {\n    actions.shift();\n  }\n\n  // Update the component's state.\n  if (this.mounted) {\n    this.setState({\n      actions,\n    });\n  }\n}", "CodeBleu_score": 40.40886034232647}, {"code": "addAction = (action: ActionDisplay) =>{\n\t\tconst { actions } = this.state;\n\tconst lastAction = actions[actions.length - 1];\n\tconst newAction = { ...action };\n\n\tif (\n\t\tlastAction &&\n\t\tlastAction.name === action.name &&\n\t\tsafeDeepEqual(lastAction.args, action.args)\n\t) {\n\t\tnewAction.count = lastAction.count + 1;\n\t\tactions[actions.length - 1] = newAction;\n\t} else {\n\t\tnewAction.count = 1;\n\t\tactions.push(newAction);\n\t}\n\n\tif (action.options.limit) {\n\t\tactions.splice(0, actions.length - action.options.limit);\n\t}\n\n\tthis.setState({ actions });\n}", "CodeBleu_score": 36.36099030107726}, {"code": "addAction = (action: ActionDisplay) =>{\n\t\tconst { actions } = this.state;\n\tconst lastAction = actions[actions.length - 1];\n\tconst newAction = {\n\t\t...action,\n\t\tcount: action.count || 1,\n\t};\n\n\tif (\n\t\tlastAction &&\n\t\tlastAction.name === newAction.name &&\n\t\tsafeDeepEqual(lastAction.args, newAction.args)\n\t) {\n\t\tlastAction.count++;\n\t\treturn;\n\t}\n\n\tactions.push(newAction);\n\n\tif (actions.length > this.props.limit) {\n\t\tactions.shift();\n\t}\n\n\tthis.setState({ actions });\n}", "CodeBleu_score": 34.61447335917401}]}
{"instance_id": "c58b95bdb84e", "generation_result": [{"code": "export const addGridStyle = (selector: string, css: string) => {\n\t\tconst element = document.getElementById(selector);\n\tif (element) {\n\t\tif (element.textContent !== css) {\n\t\t\telement.textContent = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style');\n\t\tstyle.id = selector;\n\t\tstyle.textContent = css;\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 50.44934782578705}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\tconst element = document.getElementById(selector) as HTMLStyleElement;\nif (element) {\nif (element.textContent !== css) {\nelement.textContent = css;\n}\n} else {\nconst style = document.createElement('style');\nstyle.id = selector;\nstyle.textContent = css;\ndocument.head.appendChild(style);\n}\n}", "CodeBleu_score": 53.610105930569}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\t\tconst element = document.getElementById(selector) as HTMLElement;\n\tif (element) {\n\t\tif (element.textContent !== css) {\n\t\t\telement.textContent = css;\n\t\t}\n\t} else {\n\t\tconst styleElement = document.createElement('style');\n\t\tstyleElement.id = selector;\n\t\tstyleElement.textContent = css;\n\t\tdocument.head.appendChild(styleElement);\n\t}\n}", "CodeBleu_score": 52.82059733820039}]}
{"instance_id": "882d870a20b2", "generation_result": [{"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\t\tconst existingStyle = document.getElementById(selector) as HTMLElement;\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML !== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style') as HTMLElement;\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild(style);\n\t}\n\n\tconst gridStyleSelector = `#story--${storyId} .grid-container`;\n\tconst gridStyle = document.querySelector(gridStyleSelector) as HTMLElement;\n\tif (gridStyle) {\n\t\tgridStyle.insertAdjacentElement('beforebegin', style);\n\t} else {\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 67.23968245095524}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\t\tconst existingStyle = document.getElementById(selector) as HTMLElement;\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML !== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style') as HTMLElement;\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.innerHTML = css;\n\t\tconst existingGridStyle = document.getElementById(storyId) as HTMLElement;\n\t\tif (existingGridStyle) {\n\t\t\texistingGridStyle.insertAdjacentElement('beforebegin', style);\n\t\t} else {\n\t\t\tdocument.head.appendChild(style);\n\t\t}\n\t}\n}", "CodeBleu_score": 63.60260306638361}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\tconst existingStyle = document.getElementById(selector) as HTMLElement;\nif (existingStyle) {\nif (existingStyle.innerHTML !== css) {\nexistingStyle.innerHTML = css;\n}\n} else {\nconst style = document.createElement('style') as HTMLElement;\nstyle.setAttribute('id', selector);\nstyle.innerHTML = css;\nconst gridStyle = document.getElementById(storyId) as HTMLElement;\nif (gridStyle) {\ngridStyle.parentElement?.insertBefore(style, gridStyle);\n} else {\ndocument.head.appendChild(style);\n}\n}\n}", "CodeBleu_score": 63.76720696441023}]}
{"instance_id": "c17e647327b5", "generation_result": [{"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\t\tevent.preventDefault();\n\tif (saving || creating) return;\n\tsetErrorMessage(null);\n\tsetSaving(true);\n\ttry {\n\t\tawait createStory(storyName);\n\t\tresetArgs();\n\t} catch (err) {\n\t\tsetErrorMessage(err.message);\n\t}\n\tsetCreating(false);\n\tsetSaving(false);\n}", "CodeBleu_score": 43.36488244539181}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\t\tevent.preventDefault();\n\tif (creating || saving) return;\n\tsetErrorMessage(null);\n\tsetSaving(true);\n\ttry {\n\t\tawait createStory(storyName);\n\t} catch (err) {\n\t\tsetErrorMessage(err.message);\n\t}\n\tsetCreating(false);\n\tsetSaving(false);\n}", "CodeBleu_score": 42.106049012413784}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\t\tevent.preventDefault();\n\tif (saving || creating) return;\n\tsetErrorMessage(null);\n\tsetSaving(true);\n\ttry {\n\t\tawait createStory(storyName);\n\t} catch (err) {\n\t\tsetErrorMessage(err.message);\n\t}\n\tsetCreating(false);\n\tsetSaving(false);\n}", "CodeBleu_score": 41.915057875436744}]}
{"instance_id": "2d58c69eda27", "generation_result": [{"code": "function Title(){\n\t\tconst { updateArgs, args } = useArgTypes();\n\tconst controlsCount = Object.values(args).filter(arg => arg.control !== undefined && arg.control.disable === false).length;\n\n\treturn (\n\t\t<Spaced row={1} col={12}>\n\t\t\t<span>Controls</span>\n\t\t\t{controlsCount > 0 && <Badge status=\"success\">{controlsCount}</Badge>}\n\t\t</Spaced>\n\t);\n}", "CodeBleu_score": 29.111332606969736}, {"code": "function Title(){\n\t\tconst argTypes = useArgTypes();\n\tconst argTypesWithControls = Object.values(argTypes).filter(argType => argType.control);\n\tconst numberOfEnabledControls = argTypesWithControls.filter(argType => !argType.control.disabled).length;\n\tconst suffix = numberOfEnabledControls > 0 && React.createElement(Badge, {\n\t\tstatus: \"positive\",\n\t\ttitle: `${numberOfEnabledControls} enabled`\n\t});\n\treturn React.createElement(Spaced, {\n\t\trow: 1,\n\t\tcolumn: 1.5\n\t}, React.createElement(\"span\", null, \"Controls\"), suffix);\n}", "CodeBleu_score": 28.27298668382461}, {"code": "function Title(){\n\tconst argTypes = useArgTypes();\nconst count = Object.values(argTypes).filter(argType => argType.control && !argType.control.disable).length;\nconst suffix = count ? React.createElement(Badge, {\n  status: \\\"positive\\\",\n  style: {\n    background: color.secondary,\n    color: color.lightest,\n    marginRight: 4,\n    textTransform: 'uppercase',\n  },\n  text: count.toString(),\n}) : null;\nreturn React.createElement(Spaced, {\n  row: 2,\n}, 'Controls', suffix);\n}", "CodeBleu_score": 33.88032576662236}]}
{"instance_id": "b8fba20204d6", "generation_result": [{"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst { elements, color, style } = infos;\n\tconst selector = elements.join(', ');\n\n\t// Reset any existing highlights\n\tresetHighlight();\n\n\t// Ensure no duplicate selectors\n\tconst elementsSet = new Set(elements);\n\tif (elementsSet.size < elements.length) {\n\t\tthrow new Error('Duplicate selectors detected in highlight call');\n\t}\n\n\t// Create style element\n\tconst styleEl = document.createElement('style');\n\tstyleEl.id = HIGHLIGHT_STYLE_ID;\n\tstyleEl.type = 'text/css';\n\n\t// Create CSS rules\n\tconst cssRules = elements.map(\n\t\t(element) => `${element} { ${highlightStyle(color, style)} }`\n\t);\n\n\t// Set CSS rules\n\tif (cssRules.length) {\n\t\tstyleEl.innerHTML = cssRules.join('\n');\n\t}\n\n\t// Append style element to head\n\tdocument.head.appendChild(styleEl);\n\n\t// Send highlight event\n\tchannel.emit(HIGHLIGHT, { selector, color, style });\n}", "CodeBleu_score": 41.749378968502235}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst { elements, color, style } = infos;\n\tconst styleEl = document.getElementById(HIGHLIGHT_STYLE_ID);\n\tconst selectors = elements.filter((el, index) => elements.indexOf(el) === index);\n\tconst rules = selectors.map(el => `${el} { ${highlightStyle(color, style)} }`);\n\n\tif (styleEl) {\n\t\tstyleEl.innerHTML = rules.join('\n');\n\t} else {\n\t\tconst styleEl = document.createElement('style');\n\t\tstyleEl.id = HIGHLIGHT_STYLE_ID;\n\t\tstyleEl.innerHTML = rules.join('\n');\n\t\tdocument.head.appendChild(styleEl);\n\t}\n\n\tchannel.emit(HIGHLIGHT, { elements, color, style });\n}", "CodeBleu_score": 38.89405188050701}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst { elements, color, style } = infos;\n\tconst styleEl = document.getElementById(HIGHLIGHT_STYLE_ID);\n\tconst selectors = Array.from(new Set(elements)).join(',');\n\tconst newStyle = highlightStyle(color, style);\n\n\tif (styleEl) {\n\t\tstyleEl.innerHTML = newStyle;\n\t} else {\n\t\tconst styleEl = document.createElement('style');\n\t\tstyleEl.id = HIGHLIGHT_STYLE_ID;\n\t\tstyleEl.innerHTML = newStyle;\n\t\tdocument.head.appendChild(styleEl);\n\t}\n\n\tdocument.querySelectorAll(selectors).forEach(element => {\n\t\telement.style.outline = 'none';\n\t\telement.style.boxShadow = 'none';\n\t});\n}", "CodeBleu_score": 38.652173841828215}]}
{"instance_id": "08a3fb827e48", "generation_result": [{"code": "const resetHighlight = () =>{\n\t\tconst id = HIGHLIGHT_STYLE_ID;\n\tconst sheet = document.getElementById(id);\n\tif (sheet) {\n\t\tsheet.parentNode.removeChild(sheet);\n\t}\n}", "CodeBleu_score": 52.7791681030506}, {"code": "const resetHighlight = () =>{\n\t\tconst id = HIGHLIGHT_STYLE_ID;\n\tconst sheet = document.getElementById(id);\n\tif (sheet) {\n\t\tsheet.parentNode.removeChild(sheet);\n\t}\n}", "CodeBleu_score": 52.7791681030506}, {"code": "const resetHighlight = () =>{\n\tconst id = HIGHLIGHT_STYLE_ID;\nconst sheet = document.getElementById(id);\nif (sheet) {\nsheet.parentNode?.removeChild(sheet);\n}\n}", "CodeBleu_score": 66.32319284279058}]}
{"instance_id": "1287df4e99b3", "generation_result": [{"code": "function parseQuery(queryString: string){\n\t\tconst params: Record<string, string> = {};\n\n\tif (queryString) {\n\t\tconst query = queryString.replace(/^\\?/, '');\n\t\tconst pairs = query.split('&');\n\n\t\tfor (let i = 0; i < pairs.length; i++) {\n\t\t\tconst pair = pairs[i].split('=');\n\t\t\tconst key = decodeURIComponent(pair[0]);\n\t\t\tconst value = decodeURIComponent(pair[1]);\n\n\t\t\tif (typeof params[key] === 'undefined') {\n\t\t\t\tparams[key] = value;\n\t\t\t} else if (Array.isArray(params[key])) {\n\t\t\t\tparams[key].push(value);\n\t\t\t} else {\n\t\t\t\tparams[key] = [params[key], value];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn params;\n}", "CodeBleu_score": 55.70321166035188}, {"code": "function parseQuery(queryString: string){\n\t\tconst query = {};\n\tconst pairs = (queryString[0] === '?' ? queryString.substr(1) : queryString).split('&');\n\tfor (let i = 0; i < pairs.length; ++i) {\n\t\tconst pair = pairs[i].split('=');\n\t\tquery[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');\n\t}\n\treturn query;\n}", "CodeBleu_score": 68.87420585360964}, {"code": "function parseQuery(queryString: string){\n\t\tconst params = {};\n\tconst queries = queryString.length ? queryString.substr(1).split('&') : [];\n\tfor (let i = 0; i < queries.length; i += 1) {\n\t\tconst query = queries[i].split('=');\n\t\tconst key = decodeURIComponent(query[0]);\n\t\tconst value = query.length > 1 ? decodeURIComponent(query[1]) : null;\n\t\tparams[key] = value;\n\t}\n\treturn params;\n}", "CodeBleu_score": 49.96328350548183}]}
{"instance_id": "83c4f520b99a", "generation_result": [{"code": "const linksListener = (e: Event) =>{\n\t\tif (e.target instanceof HTMLElement) {\n\t\tconst { sbKind, sbStory } = e.target.dataset;\n\t\tif (sbKind) {\n\t\t\te.preventDefault();\n\t\t\tnavigate({ kind: sbKind, story: sbStory });\n\t\t}\n\t}\n}", "CodeBleu_score": 28.83880304639889}, {"code": "const linksListener = (e: Event) =>{\n\t\tconst target = e.target;\n\n\tif (!(target instanceof HTMLElement)) {\n\t\treturn;\n\t}\n\n\tconst { sbKind, sbStory } = target.dataset;\n\n\tif (!sbKind || !sbStory) {\n\t\treturn;\n\t}\n\n\te.preventDefault();\n\tnavigate({ kind: sbKind, story: sbStory });\n}", "CodeBleu_score": 45.452581471588246}, {"code": "const linksListener = (e: Event) =>{\n\t\tconst el = e.target as HTMLElement;\n\tif (el.tagName.toLowerCase() !== 'a') {\n\t\treturn;\n\t}\n\n\tconst { sbKind, sbStory } = el.dataset;\n\tif (!sbKind || !sbStory) {\n\t\treturn;\n\t}\n\n\te.preventDefault();\n\tnavigate({ kind: sbKind, story: sbStory });\n}", "CodeBleu_score": 36.53703113444535}]}
{"instance_id": "8b8e277eb593", "generation_result": [{"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tif (node.shadowRoot) {\n\t\tconst element = global.document.elementFromPoint(node.shadowRoot.elementFromPoint(0, 0).x, node.shadowRoot.elementFromPoint(0, 0).y) as HTMLElement;\n\t\tif (element === node) {\n\t\t\treturn node;\n\t\t} else if (element.shadowRoot) {\n\t\t\treturn crawlShadows(element);\n\t\t} else {\n\t\t\treturn element;\n\t\t}\n\t} else {\n\t\treturn node;\n\t}\n}", "CodeBleu_score": 43.576370598663075}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tconst shadowRoot = node.shadowRoot;\n\tif (shadowRoot) {\n\t\tconst element = global.document.elementFromPoint(node.offsetLeft, node.offsetTop);\n\t\tif (element === node) {\n\t\t\treturn node;\n\t\t} else if (element) {\n\t\t\treturn crawlShadows(element as HTMLElement);\n\t\t} else {\n\t\t\treturn node;\n\t\t}\n\t} else {\n\t\treturn node;\n\t}\n}", "CodeBleu_score": 40.99757561674318}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tconst shadowRoot = node.shadowRoot;\n\tif (shadowRoot) {\n\t\tconst element = global.document.elementFromPoint(x, y) as HTMLElement;\n\t\tif (element === node) {\n\t\t\treturn node;\n\t\t} else if (element === shadowRoot) {\n\t\t\treturn node;\n\t\t} else if (element.shadowRoot) {\n\t\t\treturn crawlShadows(element);\n\t\t} else {\n\t\t\treturn element;\n\t\t}\n\t} else {\n\t\treturn node;\n\t}\n}", "CodeBleu_score": 43.24116605720395}]}
{"instance_id": "2fa298c35659", "generation_result": [{"code": "function createCanvas(): CanvasState{\n\tconst { width, height } = getDocumentWidthAndHeight();\nconst canvas = global.document.createElement('canvas');\ncanvas.id = 'storybook-canvas';\ncanvas.width = width;\ncanvas.height = height;\ncanvas.style.position = 'absolute';\ncanvas.style.zIndex = '9999999';\ncanvas.style.pointerEvents = 'none';\nglobal.document.body.appendChild(canvas);\nconst context = canvas.getContext('2d');\ninvariant(context, 'Could not create canvas 2D context. This is a bug in `@storybook/react`.');\nreturn { canvas, context, width, height };\n}", "CodeBleu_score": 59.181436592840086}, {"code": "function createCanvas(): CanvasState{\n\t\tconst canvas = global.document.createElement('canvas');\n\tconst context = canvas.getContext('2d');\n\tconst { width, height } = getDocumentWidthAndHeight();\n\n\tif (!context) {\n\t\tthrow new Error('Could not create canvas 2D context');\n\t}\n\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tcanvas.style.position = 'absolute';\n\tcanvas.style.zIndex = '999999';\n\tcanvas.style.pointerEvents = 'none';\n\tglobal.document.body.appendChild(canvas);\n\n\treturn { canvas, context, width, height };\n}", "CodeBleu_score": 67.33112997915158}, {"code": "function createCanvas(): CanvasState{\n\t\tconst canvas = global.document.createElement('canvas');\n\tconst context = canvas.getContext('2d');\n\tconst { width, height } = getDocumentWidthAndHeight();\n\n\tinvariant(context, 'Could not create canvas 2D context. This is a bug in `@storybook/addon-storyshots`.');\n\n\tcanvas.id = 'storybook-canvas';\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tcanvas.style.position = 'absolute';\n\tcanvas.style.zIndex = '100000';\n\tcanvas.style.pointerEvents = 'none';\n\n\tglobal.document.body.appendChild(canvas);\n\n\treturn { canvas, context, width, height };\n}", "CodeBleu_score": 70.40203418799777}]}
{"instance_id": "0484eaeba359", "generation_result": [{"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\tconst {\n  enableTelemetry,\n  enableShortcuts,\n  enableShortcutsHelp,\n} = options.core;\n\nif (enableTelemetry) {\n  const onboardingChannel = addons.getChannel(STORYBOOK_ADDON_ONBOARDING_CHANNEL);\n  onboardingChannel.on('telemetry', (data: Event) => {\n    const { step, payload } = data;\n    const addonVersion = getAddonVersion();\n    const { name, version } = addonVersion;\n    const data = {\n      ...payload,\n      step,\n      addonVersion: {\n        name,\n        version,\n      },\n    };\n    telemetry.send(data);\n  });\n}\n\nreturn channel;\n}", "CodeBleu_score": 35.23815390110159}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\t", "CodeBleu_score": 2.4844509156209336}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\tconst {\n  configDir,\n  enableTelemetry\n} = options;\nconst coreConfig = await (0, _coreConfig.getConfig)(configDir);\nconst {\n  features\n} = coreConfig;\n\nif (features && features.some(({\n  name\n}) => name === 'telemetry' && !enableTelemetry)) {\n  return channel;\n}\n\nconst {\n  version\n} = JSON.parse(fs.readFileSync(require.resolve('../../package.json'), 'utf-8'));\nchannel.on(_coreEvents.STORYBOOK_START, () => {\n  channel.emit(STORYBOOK_ADDON_ONBOARDING_CHANNEL, {\n    type: 'start',\n    version\n  });\n});\nchannel.on(_coreEvents.STORYBOOK_END, () => {\n  channel.emit(STORYBOOK_ADDON_ONBOARDING_CHANNEL, {\n    type: 'end'\n  });\n});\nchannel.on(_coreEvents.STORY_RENDERED, ({\n  storyId\n}) => {\n  channel.emit(STORYBOOK_ADDON_ONBOARDING_CHANNEL, {\n    type: 'render',\n    storyId\n  });\n});\nchannel.on(_coreEvents.STORY_ERRORED, ({\n  storyId,\n  description\n}) => {\n  channel.emit(STORYBOOK_ADDON_ONBOARDING_CHANNEL, {\n    type: 'error',\n    storyId,\n    description\n  });\n});\n\nchannel.on('telemetry', ({\n  step,\n  payload\n}) => {\n  channel.emit(STORYBOOK_ADDON_ONBOARDING_CHANNEL, {\n    type: 'telemetry',\n    step,\n    payload\n  });\n});\n\nreturn channel;\n}", "CodeBleu_score": 33.382530225398064}]}
{"instance_id": "8552de1f8368", "generation_result": [{"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\tconst id = selector.replace(/[.#]/g, '_');\nconst existingStyle = global.document.getElementById(id);\nif (existingStyle && existingStyle.innerHTML !== css) {\nexistingStyle.innerHTML = css;\n} else if (!existingStyle) {\nconst style = global.document.createElement('style');\nstyle.id = id;\nstyle.innerHTML = css;\nglobal.document.head.appendChild(style);\n}\n}", "CodeBleu_score": 63.090296716476125}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\t\tconst element = global.document.getElementById(selector);\n\tif (element) {\n\t\tif (element.innerHTML !== css) {\n\t\t\telement.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst styleElement = global.document.createElement('style');\n\t\tstyleElement.id = selector;\n\t\tstyleElement.innerHTML = css;\n\t\tglobal.document.head.appendChild(styleElement);\n\t}\n}", "CodeBleu_score": 56.775647146092254}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\tconst element = global.document.getElementById(selector);\nif (element) {\nelement.innerHTML = css;\n} else {\nconst style = global.document.createElement('style');\nstyle.id = selector;\nstyle.innerHTML = css;\nglobal.document.head.appendChild(style);\n}\n}", "CodeBleu_score": 56.79406203929332}]}
{"instance_id": "2472b6d48b9a", "generation_result": [{"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\n  const translationLoaders = new Map<string, ReturnType<typeof createTranslationLoader>>();\n  const translationFiles = new Map<string, string>();\n\n  for (const locale of Object.keys(i18n.locales)) {\n    if (i18n.inlineLocales.includes(locale)) {\n      const translationFile = i18n.locales[locale].translation;\n      if (translationFile !== '') {\n        translationFiles.set(locale, translationFile);\n        translationLoaders.set(\n          locale,\n          createTranslationLoader(\n            context,\n            translationFile,\n            i18n.missingTranslation,\n          ),\n        );\n      }\n    }\n  }\n\n  return { translationLoaders, translationFiles };\n}", "CodeBleu_score": 38.54960788359687}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\n  const loadTranslationsFrom = i18n.sourceLocale;\n  const translationLoaders = new Map<string, ReturnType<typeof createTranslationLoader>>();\n\n  for (const locale of Object.keys(i18n.locales)) {\n    const translation = i18n.locales[locale].translation;\n    if (translation === loadTranslationsFrom) {\n      continue;\n    }\n\n    if (translation === '') {\n      throw new Error(\n        `No translation file specified for locale \"${locale}\". ` +\n          `Translation files are required when using the i18n file replacements strategy. ` +\n          `See the \"Option Overview\" section of the i18n guide for more information: ` +\n          `https://angular.io/guide/i18n#option-overview`,\n      );\n    }\n\n    translationLoaders.set(locale, createTranslationLoader(context, translation));\n  }\n\n  const translations = await Promise.all(\n    Array.from(translationLoaders.values()).map((loader) => loader()),\n  );\n\n  const translationFiles = new Map<string, TranslationFile>();\n  for (const [locale, translation] of translationLoaders.entries()) {\n    translationFiles.set(locale, { locale, translation });\n  }\n\n  return { loadTranslationsFrom, translationFiles };\n}", "CodeBleu_score": 38.40071017528211}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\n  const translations = new Map<string, Translation>();\n\n  for (const locale of i18n.inlineLocales) {\n    if (i18n.sourceLocale === locale) {\n      // Skip the source locale.\n      continue;\n    }\n\n    if (!i18n.locales[locale]) {\n      // Skip locales that are not configured.\n      continue;\n    }\n\n    if (i18n.locales[locale].inline === false) {\n      // Skip locales that are not marked for inlining.\n      continue;\n    }\n\n    // Load translations for the locale.\n    const translation = await loadTranslations(\n      context,\n      i18n.locales[locale].translation,\n      i18n.missingTranslation,\n    );\n\n    translations.set(locale, translation);\n  }\n\n  return translations;\n}", "CodeBleu_score": 40.81231557041801}]}
{"instance_id": "24579c798101", "generation_result": [{"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t\n}", "CodeBleu_score": 17.20728883108237}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t\n}", "CodeBleu_score": 17.20728883108237}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t", "CodeBleu_score": 17.131300319115326}]}
{"instance_id": "126e9e9e4010", "generation_result": [{"code": "const diagnostics = checkDuplicateMessages{\n\t\tcheckFileSystem: any;\n\tmessages: extractionResult.messages;\n\tlocale: 'en';\n\tseverity: 'warning';\n\tbasePath: extractionResult.basePath;\n}", "CodeBleu_score": 24.22872932894697}, {"code": "const diagnostics = checkDuplicateMessages{\n\tcheckFileSystem: checkFileSystem as any,\nmessages: extractionResult.messages,\nseverity: 'warning',\nbasePath: extractionResult.basePath,\n}", "CodeBleu_score": 33.94253129180809}, {"code": "const diagnostics = checkDuplicateMessages{\n\tcheckFileSystem,\nextractionResult.messages,\n'warning',\nextractionResult.basePath,\n}", "CodeBleu_score": 28.212780856542572}]}
{"instance_id": "349518a072df", "generation_result": [{"code": "function isTslibHelperName(name: string): boolean{\n\tif (name.includes('$')) {\nconst parts = name.split('$');\nif (parts.length > 2) {\nreturn false;\n}\nconst originalName = parts[0];\nconst suffix = parts[1];\nif (!suffix || !suffix.match(/^\\d+$/)) {\nreturn false;\n}\nreturn tslibHelpers.has(originalName);\n}\nreturn false;\n}", "CodeBleu_score": 63.03310990906681}, {"code": "function isTslibHelperName(name: string): boolean{\n\t\\tconst parts = name.split('$');\n\\tif (parts.length !== 2) {\n\\t\\treturn false;\n\\t}\n\\tconst num = Number(parts[1]);\n\\tif (isNaN(num)) {\n\\t\\treturn false;\n\\t}\n\\treturn tslibHelpers.has(parts[0]);\n}", "CodeBleu_score": 34.783579374014494}, {"code": "function isTslibHelperName(name: string): boolean{\n\t\\tconst parts = name.split('$');\n\\tif (parts.length !== 2) {\n\\t\\treturn false;\n\\t}\n\\tif (isNaN(Number(parts[1]))) {\n\\t\\treturn false;\n\\t}\n\\treturn tslibHelpers.has(parts[0]);\n}", "CodeBleu_score": 31.466717713775704}]}
{"instance_id": "0a9b3093b5bc", "generation_result": [{"code": "async bundle(): Promise<BundleContextResult>{\n\t\tif (this.#esbuildResult !== undefined) {\n\t\treturn this.#esbuildResult;\n\t}\n\n\tconst options = this.#optionsFactory(this.#loadCache);\n\n\t// If a cache is available and the current build options match the cache options,\n\t// attempt to retrieve the result from the cache.\n\tif (this.#shouldCacheResult && this.#loadCache !== undefined) {\n\t\tconst cacheResult = await this.#loadCache.get(options);\n\t\tif (cacheResult !== undefined) {\n\t\t\tthis.#esbuildResult = cacheResult;\n\t\t\treturn cacheResult;\n\t\t}\n\t}\n\n\tconst result = await build(options);\n\tif (isEsBuildFailure(result)) {\n\t\treturn { errors: result.errors, warnings: result.warnings };\n\t}\n\n\t// Create the cache entry if caching is enabled.\n\tif (this.#shouldCacheResult) {\n\t\tconst cacheResult = {\n\t\t\terrors: undefined,\n\t\t\twarnings: result.warnings,\n\t\t\tmetafile: result.metafile,\n\t\t\toutputFiles: result.outputFiles,\n\t\t\tinitialFiles: new Map(),\n\t\t\texternalImports: {\n\t\t\t\tbrowser: new Set(),\n\t\t\t\tserver: new Set(),\n\t\t\t},\n\t\t};\n\n\t\tfor (const outputFile of result.outputFiles) {\n\t\t\tconst initialFile = this.getInitialFileRecord(outputFile);\n\t\t\tif (initialFile !== undefined) {\n\t\t\t\tcacheResult.initialFiles.set(outputFile.path, initialFile);\n\t\t\t}\n\t\t}\n\n\t\t// If the cache is available, store the result for future use.\n\t\tif (this.#loadCache !== undefined) {\n\t\t\tawait this.#loadCache.set(options, cacheResult);\n\t\t}\n\n\t\tthis.#esbuildResult = cacheResult;\n\t} else {\n\t\tthis.#esbuildResult = {\n\t\t\terrors: undefined,\n\t\t\twarnings: result.warnings,\n\t\t\tmetafile: result.metafile,\n\t\t\toutputFiles: result.outputFiles,\n\t\t\tinitialFiles: new Map(),\n\t\t\texternalImports: {\n\t\t\t\tbrowser: new Set(),\n\t\t\t\tserver: new Set(),\n\t\t\t},\n\t\t};\n\t}\n\n\treturn this.#esbuildResult;\n}", "CodeBleu_score": 46.496850416616745}, {"code": "async bundle(): Promise<BundleContextResult>{\n\t\tif (this.#esbuildResult !== undefined) {\n\t\treturn this.#esbuildResult;\n\t}\n\n\tconst result = await this.execute();\n\n\t// If caching is enabled and the bundle was successful, cache the result.\n\tif (this.#shouldCacheResult && !result.errors) {\n\t\tthis.#loadCache?.set(this.entryPoint, result);\n\t}\n\n\treturn result;\n}", "CodeBleu_score": 58.516495464287345}, {"code": "async bundle(): Promise<BundleContextResult>{\n\tconst cachedResult = this.#esbuildResult;\nif (cachedResult !== undefined) {\n  return cachedResult;\n}\n\nconst esbuildOptions = this.#esbuildOptions;\nconst esbuildContext = this.#esbuildContext;\nif (esbuildOptions === undefined || esbuildContext === undefined) {\n  throw new Error('Attempted to bundle before the context was created.');\n}\n\ntry {\n  const result = await build(esbuildOptions, esbuildContext);\n  const outputFiles = result.outputFiles.map(convertOutputFile);\n  const initialFiles = new Map<string, InitialFileRecord>();\n  for (const [key, value] of Object.entries(result.metafile?.inputs || {})) {\n    initialFiles.set(key, value as InitialFileRecord);\n  }\n\n  const externalImports = { browser: new Set<string>(), server: new Set<string>() };\n  if (result.metafile?.outputs) {\n    for (const output of Object.values(result.metafile.outputs)) {\n      if (output.imports) {\n        for (const importName of output.imports) {\n          if (importName.startsWith('.')) {\n            externalImports.browser.add(importName);\n          } else {\n            externalImports.server.add(importName);\n          }\n        }\n      }\n    }\n  }\n\n  const externalConfiguration = result.metafile?.configPaths;\n  this.#esbuildResult = {\n    errors: result.errors,\n    warnings: result.warnings,\n    metafile: result.metafile,\n    outputFiles,\n    initialFiles,\n    externalImports,\n    externalConfiguration,\n  };\n\n  if (this.#shouldCacheResult) {\n    this.#loadCache?.set(this.workspaceRoot, this.#esbuildResult);\n  }\n\n  return this.#esbuildResult;\n} catch (error) {\n  if (isEsBuildFailure(error)) {\n    this.#esbuildResult = { errors: error.errors, warnings: error.warnings };\n  } else {\n    throw error;\n  }\n}\nreturn this.#esbuildResult;\n}", "CodeBleu_score": 31.50500910470324}]}
{"instance_id": "f4fe3e6ac648", "generation_result": [{"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\t\tconst changedFiles = new Set<string>();\n\tfor (const [filePath, currentHash] of this.outputFiles.map((file) => [file.path, file.hash])) {\n\t\tconst previousHash = previousOutputHashes.get(filePath);\n\t\tif (previousHash === undefined || previousHash !== currentHash) {\n\t\t\tchangedFiles.add(filePath);\n\t\t}\n\t}\n\treturn changedFiles;\n}", "CodeBleu_score": 66.07268855300991}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\t\tconst changedFiles = new Set<string>();\n\tfor (const [path, hash] of previousOutputHashes.entries()) {\n\t\tconst previousHash = this.previousOutputHashes.get(path);\n\t\tif (previousHash === undefined || previousHash !== hash) {\n\t\t\tchangedFiles.add(path);\n\t\t}\n\t}\n\treturn changedFiles;\n}", "CodeBleu_score": 63.93595826170711}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\tconst changedFiles = new Set<string>();\nfor (const [filePath, currentHash] of this.outputFiles.map((file) => [file.path, file.hash])) {\n  const previousHash = previousOutputHashes.get(filePath);\n  if (previousHash !== currentHash) {\n    changedFiles.add(filePath);\n  }\n}\nreturn changedFiles;\n}", "CodeBleu_score": 60.639451396393504}]}
{"instance_id": "8969b8ce5198", "generation_result": [{"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\t\tif (localizeToolsModule !== undefined) {\n\t\treturn localizeToolsModule;\n\t}\n\n\tlocalizeToolsModule = await loadEsmModule<LocalizeUtilityModule>('@angular/localize/tools');\n\treturn localizeToolsModule;\n}", "CodeBleu_score": 48.447615499185304}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\t\tif (localizeToolsModule === undefined) {\n\t\tlocalizeToolsModule = await loadEsmModule('@angular/localize/tools');\n\t}\n\treturn localizeToolsModule;\n}", "CodeBleu_score": 38.21684973147622}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\tconst localizeToolsModule = localizeToolsModule || (await loadEsmModule('@angular/localize/tools'));\nreturn localizeToolsModule;\n}", "CodeBleu_score": 51.76264139076879}]}
{"instance_id": "d7c4df80e1ac", "generation_result": [{"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\n  const diagnostics = new Diagnostics();\n  const localize = await loadLocalizeTools();\n\n  // Initialize diagnostics with the provided locale and translation\n  diagnostics.initializeLocale(locale, translation);\n\n  // Create a plugin to replace a locale specifier constant with the actual locale\n  const localeReplacePlugin = createLocaleReplacePlugin(locale);\n\n  // Create a plugin to handle missing translations\n  const missingTranslationPlugin = createMissingTranslationPlugin(diagnostics, localize, missingTranslation);\n\n  return {\n    diagnostics,\n    plugins: [localeReplacePlugin, missingTranslationPlugin],\n  };\n}", "CodeBleu_score": 36.37846934247001}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\tconst diagnostics = new Diagnostics();\n\tconst localize = await loadLocalizeTools();\n\n\tconst missingTranslationHandler = new localize.MissingTranslation(diagnostics, missingTranslation);\n\tconst translationHandler = new localize.TranslationSerializer(translation || {});\n\n\tconst replaceLocalePlugin = new ReplaceLocalePlugin(locale);\n\n\treturn {\n\t\tdiagnostics,\n\t\tplugins: [\n\t\t\tmissingTranslationHandler,\n\t\t\ttranslationHandler,\n\t\t\treplaceLocalePlugin,\n\t\t],\n\t};\n}", "CodeBleu_score": 37.02875571144657}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\tconst diagnostics = new Diagnostics();\n\tconst localizeTools = await loadLocalizeTools();\n\tconst translationPlugin = new TranslationPlugin(diagnostics, translation);\n\tconst localeReplacePlugin = new LocaleReplacePlugin(diagnostics, locale);\n\tconst i18nTagReplacePlugin = new I18nTagReplacePlugin(diagnostics);\n\n\tconst plugins: PluginObj[] = [\n\t\t...(await localizeTools.createI18nMessagePlugin(diagnostics, translationPlugin)),\n\t\t...(await localizeTools.createMissingTranslationPlugin(diagnostics, translationPlugin)),\n\t\tlocaleReplacePlugin,\n\t\ti18nTagReplacePlugin,\n\t];\n\n\treturn { diagnostics, plugins };\n}", "CodeBleu_score": 39.962263233736614}]}
{"instance_id": "9486259c4631", "generation_result": [{"code": "const readAsset = async function (filePath: string): Promise<string>{\n\t\tconst relativeFilePath = filePath.replace(path.sep, '/');\n\tconst file = browserOutputFiles.find(\n\t\t(file) => file.path === relativeFilePath || file.name === relativeFilePath\n\t);\n\tif (file) {\n\t\treturn file.content;\n\t}\n\tthrow new Error(`Asset file not found: ${filePath}`);\n}", "CodeBleu_score": 53.614451988458356}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\tconst normalizedFilePath = filePath.startsWith('/') ? filePath.substr(1) : filePath;\nconst file = browserOutputFiles.find((asset) => asset.path === normalizedFilePath);\n\nif (!file) {\nconst assetPaths = browserOutputFiles.map(({ path }) => path).join(', ');\nthrow new Error(`Could not find asset file: ${filePath}\nAssets: ${assetPaths}`);\n}\n\nreturn file.content;\n}", "CodeBleu_score": 43.80506050898858}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\tconst relativeFilePath = filePath.startsWith(path.sep) ? filePath.slice(1) : filePath;\nconst file = browserOutputFiles.find(file => file.path === relativeFilePath);\n\nif (file) {\nreturn file.content;\n}\n\nthrow new Error(`Could not find asset file: ${filePath}`);\n}", "CodeBleu_score": 52.63091020871806}]}
{"instance_id": "2206ca03c7ec", "generation_result": [{"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\t\t// Do not cache null or undefined\n\tif (result) {\n\t\t// Ensure requested path is included if it was a resolved file\n\t\tif (result.namespace === 'file') {\n\t\t\tresult.watchFiles ??= [];\n\t\t\tresult.watchFiles.push(path);\n\t\t}\n\t\tthis.#loadResults.set(path, result);\n\n\t\t// Update file dependencies\n\t\tif (result.watchFiles) {\n\t\t\tconst normalizedWatchFiles = result.watchFiles.map((file) => normalize(file));\n\t\t\tthis.#fileDependencies.set(path, new Set(normalizedWatchFiles));\n\t\t}\n\t}\n}", "CodeBleu_score": 46.09378658682445}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\t\t// Do not cache null or undefined\n\tif (result) {\n\t\t// Ensure requested path is included if it was a resolved file\n\t\tif (result.watchFiles) {\n\t\t\tfor (const watchFile of result.watchFiles) {\n\t\t\t\tconst normalizedWatchFile = normalize(watchFile);\n\t\t\t\tlet fileDependencies = this.#fileDependencies.get(normalizedWatchFile);\n\n\t\t\t\tif (fileDependencies === undefined) {\n\t\t\t\t\tfileDependencies = new Set();\n\t\t\t\t\tthis.#fileDependencies.set(normalizedWatchFile, fileDependencies);\n\t\t\t\t}\n\n\t\t\t\tfileDependencies.add(path);\n\t\t\t}\n\t\t}\n\n\t\tthis.#loadResults.set(path, result);\n\t}\n}", "CodeBleu_score": 77.86959802914419}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\tif (result.watchFiles) {\nfor (const file of result.watchFiles) {\nconst normalizedFile = normalize(file);\nif (!this.#fileDependencies.has(normalizedFile)) {\nthis.#fileDependencies.set(normalizedFile, new Set());\n}\nthis.#fileDependencies.get(normalizedFile)!.add(path);\n}\n}\nthis.#loadResults.set(path, result);\n}", "CodeBleu_score": 46.00710914681}]}
{"instance_id": "a261d85630d0", "generation_result": [{"code": "invalidate(path: string): boolean{\n\tconst deleted = new Set<string>();\nconst affected = this.#fileDependencies.get(path);\nif (affected !== undefined) {\nfor (const affectedPath of affected) {\nthis.#loadResults.delete(affectedPath);\ndeleted.add(affectedPath);\n}\nthis.#fileDependencies.delete(path);\n}\nreturn deleted.size > 0;\n}", "CodeBleu_score": 49.071908460059554}, {"code": "invalidate(path: string): boolean{\n\tconst normalizedPath = normalize(path);\nconst affected = this.#fileDependencies.get(normalizedPath);\nif (affected !== undefined) {\nfor (const affectedPath of affected) {\nthis.#loadResults.delete(affectedPath);\n}\nthis.#fileDependencies.delete(normalizedPath);\nreturn true;\n}\nreturn false;\n}", "CodeBleu_score": 48.56984917638789}, {"code": "invalidate(path: string): boolean{\n\t\tlet found = false;\n\tconst affected = this.#fileDependencies.get(normalize(path));\n\tif (affected !== undefined) {\n\t\tfor (const affectedPath of affected) {\n\t\t\tif (this.#loadResults.delete(affectedPath)) {\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t}\n\t\tthis.#fileDependencies.delete(normalize(path));\n\t}\n\treturn found;\n}", "CodeBleu_score": 63.23651459493743}]}
{"instance_id": "8fa6dee0ba79", "generation_result": [{"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tif (!debugPerformance) {\n\t\treturn;\n\t}\n\tconst duration = Number((process.hrtime.bigint() - startTime) / 1e6n);\n\tif (cumulative) {\n\t\tif (!cumulativeDurations) {\n\t\t\tcumulativeDurations = new Map();\n\t\t}\n\t\tconst durations = cumulativeDurations.get(name) || [];\n\t\tdurations.push(duration);\n\t\tcumulativeDurations.set(name, durations);\n\t} else {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(`DURATION[${name}]: ${duration.toFixed(9)}s`);\n\t}\n}", "CodeBleu_score": 64.01155537289435}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tconst duration = (process.hrtime.bigint() - startTime) / BigInt(1e6);\n\tif (cumulative) {\n\t\tif (!cumulativeDurations) {\n\t\t\tcumulativeDurations = new Map();\n\t\t}\n\t\tconst durations = cumulativeDurations.get(name) || [];\n\t\tdurations.push(Number(duration));\n\t\tcumulativeDurations.set(name, durations);\n\t} else {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(`DURATION[${name}]: ${duration.toFixed(9)}s`);\n\t}\n}", "CodeBleu_score": 64.03218621437324}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tconst duration = Number(process.hrtime.bigint() - startTime);\n\tif (cumulative) {\n\t\tif (!cumulativeDurations) {\n\t\t\tcumulativeDurations = new Map<string, number[]>();\n\t\t}\n\t\tconst durations = cumulativeDurations.get(name) || [];\n\t\tdurations.push(duration);\n\t\tcumulativeDurations.set(name, durations);\n\t} else {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(`DURATION[${name}]: ${duration.toFixed(9)}s`);\n\t}\n}", "CodeBleu_score": 67.75822636838427}]}
{"instance_id": "0c530cbeb386", "generation_result": [{"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t}", "CodeBleu_score": 3.988773370960826}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\\tconst originalGetSourceFiles = program.getSourceFiles.bind(program);\n\n\\tfunction getSourceFiles(fileName?: string | undefined): ReadonlyArray<ts.SourceFile> {\n\\t\\tconst sourceFiles = originalGetSourceFiles(fileName);\n\n\\t\\tfor (const sourceFile of sourceFiles) {\n\\t\\t\\tif (!sourceFile.version) {\n\\t\\t\\t\\tconst fileText = sourceFile.text;\n\\t\\t\\t\\tconst hash = createHash('sha256');\n\\t\\t\\t\\thash.update(fileText);\n\\t\\t\\t\\tconst digest = hash.digest('hex');\n\\t\\t\\t\\tsourceFile.version = digest;\n\\t\\t\\t}\n\\t\\t}\n\n\\t\\treturn sourceFiles;\n\\t}\n\n\\tprogram.getSourceFiles = getSourceFiles;\n}", "CodeBleu_score": 33.70573736621145}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t}", "CodeBleu_score": 3.988773370960826}]}
{"instance_id": "3faf480d56ae", "generation_result": [{"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (resolvedModule === undefined) {\n\t\treturn resolvedModule;\n\t}\n\n\tconst resolvedFileName = resolvedModule.resolvedFileName;\n\tconst isExternalLibraryImport = resolvedModule.isExternalLibraryImport;\n\tconst replacement = normalizedReplacements[resolvedFileName];\n\tif (replacement !== undefined) {\n\t\treturn { resolvedFileName: replacement, isExternalLibraryImport };\n\t}\n\n\treturn resolvedModule;\n}", "CodeBleu_score": 46.990100695248806}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (resolvedModule === undefined) {\n\t\treturn resolvedModule;\n\t}\n\tconst resolvedFileName = resolvedModule.resolvedFileName;\n\tif (resolvedFileName in normalizedReplacements) {\n\t\treturn {\n\t\t\tresolvedFileName: normalizedReplacements[resolvedFileName],\n\t\t\tisExternalLibraryImport: resolvedModule.isExternalLibraryImport,\n\t\t};\n\t}\n\treturn resolvedModule;\n}", "CodeBleu_score": 39.167774455649024}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (resolvedModule) {\n\t\tconst replacement = normalizedReplacements[normalizePath(resolvedModule.resolvedFileName)];\n\t\tif (replacement) {\n\t\t\treturn {\n\t\t\t\tresolvedFileName: replacement,\n\t\t\t\tisExternalLibraryImport: resolvedModule.isExternalLibraryImport,\n\t\t\t};\n\t\t}\n\t}\n\treturn resolvedModule;\n}", "CodeBleu_score": 53.59025076968935}]}
{"instance_id": "382672b61228", "generation_result": [{"code": "get waitUntilReady(): Promise<boolean>{\n\tif (!this.#pendingCompilation) {\nreturn Promise.resolve(this.#hasErrors);\n}\n\nif (!this.#compilationReadyPromise) {\nthis.#compilationReadyPromise = new Promise(resolve => {\nthis.#resolveCompilationReady = resolve;\n});\n}\n\nreturn this.#compilationReadyPromise;\n}", "CodeBleu_score": 53.52341617327588}, {"code": "get waitUntilReady(): Promise<boolean>{\n\tif (this.#pendingCompilation) {\nif (!this.#compilationReadyPromise) {\nthis.#compilationReadyPromise = new Promise<boolean>(resolve => {\nthis.#resolveCompilationReady = resolve;\n});\n}\nreturn this.#compilationReadyPromise;\n}\nreturn Promise.resolve(this.#hasErrors);\n}", "CodeBleu_score": 47.524444745206544}, {"code": "get waitUntilReady(): Promise<boolean>{\n\tif (this.#pendingCompilation) {\nif (!this.#compilationReadyPromise) {\nthis.#compilationReadyPromise = new Promise(resolve => {\nthis.#resolveCompilationReady = resolve;\n});\n}\nreturn this.#compilationReadyPromise;\n} else {\nreturn Promise.resolve(this.#hasErrors);\n}\n}", "CodeBleu_score": 43.90077040650652}]}
{"instance_id": "27f631043b39", "generation_result": [{"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\tconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn new BundlerContext(this.options.workspaceRoot, this.incremental, (loadCache) => {\nconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn buildOptions;\n});\n}", "CodeBleu_score": 15.485527191525291}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\treturn new BundlerContext(this.options.workspaceRoot, this.incremental, (loadCache) => {\nconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn buildOptions;\n});\n}", "CodeBleu_score": 12.260527047000135}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\tconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn buildOptions;\n}", "CodeBleu_score": 6.504740096551845}]}
{"instance_id": "b89b44b794a7", "generation_result": [{"code": "invalidate(files: Iterable<string>) {\n\t\tconst normalizedFiles = Array.from(files).map(file => this.normalize(file));\n\tthis.#fileContexts.invalidate(normalizedFiles);\n\tthis.#inlineContexts.invalidate(normalizedFiles);\n}", "CodeBleu_score": 40.18441448202}, {"code": "invalidate(files: Iterable<string>) {\n\tthis.#fileContexts.invalidate(files);\nthis.#inlineContexts.invalidate(files);\n}", "CodeBleu_score": 10.562623428793936}, {"code": "invalidate(files: Iterable<string>) {\n\tconst normalizedFiles = Array.from(files).map(f => path.normalize(f));\nthis.#fileContexts.invalidate(normalizedFiles);\nthis.#inlineContexts.invalidate(normalizedFiles);\n}", "CodeBleu_score": 39.12778703192191}]}
{"instance_id": "aa3aa0817adf", "generation_result": [{"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\tconst { code, category, file, start, length, source } = diagnostic;\nconst newLine = platform() === 'win32' ? '\\\\r\\\n' : '\\\n';\nlet text = typescript.flattenDiagnosticMessageText(diagnostic.messageText, newLine);\n\n// If the diagnostic has a file name attached, extract the line and character position from the\n// start position and create a note with the extracted line text.\nif (file) {\n  const { line, character } = typescript.getLineAndCharacterOfPosition(file, start);\n  const lineStartPosition = typescript.getPositionOfLineAndCharacter(file, line, 0);\n  const lineEndPosition =\n    line < typescript.getLineAndCharacterOfPosition(file, file.text.length - 1).line\n      ? typescript.getPositionOfLineAndCharacter(file, line + 1, 0)\n      : file.text.length;\n  const lineText = file.text.slice(lineStartPosition, lineEndPosition).trimEnd();\n\n  const note: PartialNote = {\n    text: `L${line + 1}: ${lineText}`,\n    location: {\n      file: file.fileName,\n      length,\n      line: line + 1,\n      column: character,\n    },\n  };\n\n  // If the diagnostic has a related information, create a note for each related information\n  // and add it to the message notes.\n  if (diagnostic.relatedInformation) {\n    note.related = diagnostic.relatedInformation.map((info) =>\n      convertTypeScriptDiagnosticInfo(typescript, info, ' '),\n    );\n  }\n\n  return {\n    text,\n    location: {\n      file: file.fileName,\n      length,\n      line: line + 1,\n      column: character,\n    },\n    notes: [note],\n  };\n}\n\n// If the diagnostic has no file name attached, create a message with the diagnostic text\n// and add notes for each related information.\nconst codePrefix = source === 'angular' ? 'NG' : 'TS';\nreturn {\n  text,\n  location: {\n    file: undefined,\n    length,\n    line: undefined,\n    column: undefined,\n  },\n  notes: diagnostic.relatedInformation?.map((info) =>\n    convertTypeScriptDiagnosticInfo(typescript, info, codePrefix + code + ': '),\n  ),\n};\n}", "CodeBleu_score": 32.80551619548622}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\tconst mainMessage = convertTypeScriptDiagnosticInfo(typescript, diagnostic.messageText, 'TS');\n\nconst notes = diagnostic.relatedInformation?.map((info) => convertTypeScriptDiagnosticInfo(typescript, info));\n\nreturn { ...mainMessage, notes };\n}", "CodeBleu_score": 34.339672683907374}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\tconst message: PartialMessage = {\n  text: typescript.flattenDiagnosticMessageText(diagnostic.messageText, '\n'),\n};\n\n// Adjust the code based on the diagnostic source\nconst code = diagnostic.code;\nif (code) {\n  message.code = code;\n  if (diagnostic.source === typescript.DiagnosticCategory.Error) {\n    message.code = `TS${code}`;\n  } else if (diagnostic.source === typescript.DiagnosticCategory.Warning) {\n    message.code = `NG${code}`;\n  }\n}\n\n// Add notes for each related diagnostic information\nif (diagnostic.relatedInformation) {\n  message.notes = diagnostic.relatedInformation.map((info) =>\n    convertTypeScriptDiagnosticInfo(typescript, info, ' '),\n  );\n}\n\nreturn message;\n}", "CodeBleu_score": 49.6675357303946}]}
{"instance_id": "0cd0285018f1", "generation_result": [{"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\tconst normalizedContainingFile = normalize(containingFile);\nfor (const referencedFile of referencedFiles) {\nconst normalizedReferencedFile = normalize(referencedFile);\nif (normalizedContainingFile !== normalizedReferencedFile) {\nconst referencingFiles = this.#referencingFiles.get(normalizedReferencedFile);\nif (referencingFiles) {\nreferencingFiles.add(normalizedContainingFile);\n} else {\nthis.#referencingFiles.set(normalizedReferencedFile, new Set([normalizedContainingFile]));\n}\n}\n}\n}", "CodeBleu_score": 75.72659194816387}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\tif (normalize(containingFile) === normalize(referencedFile)) {\nreturn;\n}\n\nfor (const referencedFile of referencedFiles) {\nconst normalizedReferencedFile = normalize(referencedFile);\nconst referencingFiles = this.#referencingFiles.get(normalizedReferencedFile);\nif (referencingFiles) {\nreferencingFiles.add(normalize(containingFile));\n} else {\nthis.#referencingFiles.set(normalizedReferencedFile, new Set([normalize(containingFile)]));\n}\n}\n}", "CodeBleu_score": 52.27281427511509}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\t\nif (normalize(containingFile) === normalize(referencedFile)) {\nreturn;\n}\n\nconst normalizedContainingFile = normalize(containingFile);\n\nconst referencingFiles = this.#referencingFiles.get(normalizedContainingFile);\nif (referencingFiles) {\nreferencingFiles.add(normalizedContainingFile);\n} else {\nthis.#referencingFiles.set(normalizedContainingFile, new Set([normalizedContainingFile]));\n}\n\nfor (const referencedFile of referencedFiles) {\nif (normalize(containingFile) === normalize(referencedFile)) {\ncontinue;\n}\n\nconst normalizedReferencedFile = normalize(referencedFile);\n\nconst referencingFiles = this.#referencingFiles.get(normalizedReferencedFile);\nif (referencingFiles) {\nreferencingFiles.add(normalizedContainingFile);\n} else {\nthis.#referencingFiles.set(normalizedReferencedFile, new Set([normalizedContainingFile]));\n}\n}\n}", "CodeBleu_score": 59.02102213433793}]}
{"instance_id": "e22be1916b33", "generation_result": [{"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tif (this.#angularCompilerCliModule === undefined) {\nthis.#angularCompilerCliModule = await loadEsmModule<typeof ng>('@angular/compiler-cli');\n}\nreturn this.#angularCompilerCliModule;\n}", "CodeBleu_score": 42.16779052297753}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tif (this.#angularCompilerCliModule) {\nreturn this.#angularCompilerCliModule;\n}\nconst { AngularCompilerPlugin } = await loadEsmModule<typeof ng>('@angular/compiler-cli');\nthis.#angularCompilerCliModule = { AngularCompilerPlugin };\nreturn this.#angularCompilerCliModule;\n}", "CodeBleu_score": 51.203394682502626}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tif (this.#angularCompilerCliModule !== undefined) {\nreturn this.#angularCompilerCliModule;\n}\nconst { ng } = await loadEsmModule<typeof ng>('ng', 'Angular compiler-cli');\nthis.#angularCompilerCliModule = ng;\nreturn ng;\n}", "CodeBleu_score": 46.09495703803663}]}
{"instance_id": "64e42342101f", "generation_result": [{"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\treturn (await import('./parallel-compilation')).ParallelCompilation.create(jit);\n\t} else {\n\t\treturn (await import('./aot-compilation')).AotCompilation.create(jit);\n\t}\n}", "CodeBleu_score": 21.999278935633065}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\treturn (await import('./parallel-compilation')).ParallelCompilation.getInstance();\n\t} else if (jit) {\n\t\treturn (await import('./jit-compilation')).JitCompilation.getInstance();\n\t} else {\n\t\treturn (await import('./aot-compilation')).AotCompilation.getInstance();\n\t}\n}", "CodeBleu_score": 29.05170157677595}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\tif (useParallelTs) {\nreturn (await import('./parallel-compilation')).ParallelCompilation.create(jit);\n} else {\nreturn (await import('./legacy-compilation')).LegacyCompilation.create(jit);\n}\n}", "CodeBleu_score": 21.64652257116389}]}
{"instance_id": "37804d74eb2d", "generation_result": [{"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t\tconst sourceMapObject = JSON.parse(sourceMap) as SourceMap;\n\tsourceMapObject.sources = sourceMapObject.sources.map((source) =>\n\t\trelative(root, source),\n\t);\n\treturn `/*# sourceMappingURL=data:application/json;base64,${Buffer.from(\n\t\tJSON.stringify(sourceMapObject),\n\t).toString('base64')}*/`;\n}", "CodeBleu_score": 46.32991088155551}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t\tconst relativeSources = sourceMap.sources.map((source) => relative(root, source));\n\tsourceMap.sources = relativeSources;\n\tconst sourceMapString = JSON.stringify(sourceMap);\n\tconst sourceMapComment = `/*# sourceMappingURL=data:application/json;base64,${Buffer.from(sourceMapString).toString('base64')} */`;\n\treturn sourceMapComment;\n}", "CodeBleu_score": 56.89411004749301}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t\tconst sourceMapObject = JSON.parse(sourceMap);\n\tsourceMapObject.sources = sourceMapObject.sources.map((source) =>\n\t\trelative(root, source),\n\t);\n\treturn `/*# sourceMappingURL=data:application/json;base64,${Buffer.from(\n\t\tJSON.stringify(sourceMapObject),\n\t).toString('base64')} */`;\n}", "CodeBleu_score": 46.211523687664226}]}
{"instance_id": "bccb5eeb4c4d", "generation_result": [{"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\\\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(FILE_IDENTIFIER_REGEX);\n\t\tif (match) {\n\t\t\tconst file = match[1];\n\t\t\tyield relative(process.cwd(), file);\n\t\t}\n\t}\n}", "CodeBleu_score": 31.687590633124664}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(FILE_IDENTIFIER_REGEX);\n\t\tif (match) {\n\t\t\tconst file = match[1];\n\t\t\tconst resolvedFile = resolve(file);\n\t\t\tyield resolvedFile;\n\t\t}\n\t}\n}", "CodeBleu_score": 30.724211523283095}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(/^\\s*(\\S+):(\\d+):(\\d+)/);\n\t\tif (match) {\n\t\t\tconst [, file, line, column] = match;\n\t\t\tyield relative(process.cwd(), file);\n\t\t}\n\t}\n}", "CodeBleu_score": 30.85025369006426}]}
{"instance_id": "e73986d88a00", "generation_result": [{"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t", "CodeBleu_score": 4.125658188672457}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\tif (typeof contents === 'string') {\n\t\treturn contents.includes(tailwindcssKeywords.join(''));\n\t} else {\n\t\treturn Buffer.from(contents).toString('utf-8').includes(tailwindcssKeywords.join(''));\n\t}\n}", "CodeBleu_score": 33.17252508090357}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\tconst keywords = ['@apply', '@layer', '@tailwind', '@variants'];\n\tif (typeof contents === 'string') {\n\t\treturn keywords.some((keyword) => contents.includes(keyword));\n\t}\n\tconst buffer = Buffer.from(contents);\n\treturn keywords.some((keyword) => buffer.includes(Buffer.from(keyword)));\n}", "CodeBleu_score": 58.092058705267114}]}
{"instance_id": "ff27dc4f1deb", "generation_result": [{"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t\n  const headers = server.config.server.headers;\n  if (headers) {\n    for (const header of headers) {\n      const value = header.value;\n      if (value) {\n        res.setHeader(header.name, value);\n      }\n    }\n  }\n}", "CodeBleu_score": 63.23443636994642}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t\n  const headers = server.config.server.headers;\n  if (headers) {\n    for (const header of headers) {\n      if (header.value) {\n        res.setHeader(header.key, header.value);\n      }\n    }\n  }\n}", "CodeBleu_score": 60.542574030397134}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t\n}", "CodeBleu_score": 15.636753514310806}]}
{"instance_id": "1d547de72724", "generation_result": [{"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\n  const parsers = await loadEsmModule(require.resolve('@angular/localize/src/tools/src/translate/translation_files/parsers'));\n  const diagnostics = await loadEsmModule(require.resolve('@angular/localize/src/tools/src/translate/translation_files/diagnostics'));\n  return (path) => {\n    const content = fs.readFileSync(path, 'utf-8');\n    const integrity = createHash('sha384').update(content).digest('base64');\n    let format: string|undefined;\n    let locale: string|undefined;\n    let translations: Record<string, import('@angular/localize').\u00c9\u00b5ParsedTranslation> = {};\n    let diagnostics: Diagnostics = [];\n    for (const parser of parsers) {\n      const result = parser.canParse(path, content);\n      if (result) {\n        format = result.format;\n        locale = result.locale;\n        translations = parser.parse(path, content);\n        break;\n      }\n    }\n    if (!format) {\n      throw new Error(\n        `Could not find a suitable parser for file: ${path}\n` +\n        `Diagnostics:\n` +\n        diagnostics.map((d) => `  - ${d.message}`).join('\\\n')\n      );\n    }\n    return {\n      format,\n      locale,\n      translations,\n      diagnostics,\n      integrity,\n    };\n  };\n}", "CodeBleu_score": 40.05891198618393}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\n}", "CodeBleu_score": 0.9446273430153158}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t", "CodeBleu_score": 0.9144276103247926}]}
{"instance_id": "0c0d3dcf983c", "generation_result": [{"code": "toggleSidebar(): boolean{\n\tthis.sidebarService.toggle(true, 'menu-sidebar');\nthis.layoutService.changeLayoutSize();\nreturn false;\n}", "CodeBleu_score": 72.44258642203714}, {"code": "toggleSidebar(): boolean{\n\t", "CodeBleu_score": 6.15368558339084}, {"code": "toggleSidebar(): boolean{\n\t", "CodeBleu_score": 6.15368558339084}]}
{"instance_id": "c5ebbdd1dadf", "generation_result": [{"code": "loadNext(cardData){\n\t\nif (cardData.loading) {\nreturn;\n}\n\ncardData.loading = true;\nconst placeholdersLength = cardData.placeholders.length;\nfor (let i = 0; i < placeholdersLength; i++) {\ncardData.news.push(cardData.placeholders[i]);\n}\ncardData.placeholders = [];\ncardData.pageToLoadNext++;\nthis.newsService.getNews(cardData.pageToLoadNext, this.pageSize).subscribe(news => {\ncardData.loading = false;\ncardData.news = [...cardData.news, ...news];\n});\n}", "CodeBleu_score": 59.342740728125044}, {"code": "loadNext(cardData){\n\t\nif (!cardData.loading) {\ncardData.loading = true;\ncardData.placeholders = Array(this.pageSize).fill(0);\n\nconst nextPage = cardData.pageToLoadNext;\ncardData.pageToLoadNext++;\n\nthis.newsService.loadNews(nextPage, this.pageSize).subscribe(news => {\ncardData.news = cardData.news.concat(news);\ncardData.placeholders = [];\ncardData.loading = false;\n});\n}\n}", "CodeBleu_score": 46.072305373542264}, {"code": "loadNext(cardData){\n\t\nif (!cardData.loading) {\ncardData.loading = true;\nconst placeholders = Array.from(\n{ length: this.pageSize },\n(_, i) => `Placeholder ${i + 1}`\n);\ncardData.placeholders = placeholders;\ncardData.pageToLoadNext++;\nthis.newsService.getNews(cardData.pageToLoadNext).subscribe((news) => {\ncardData.placeholders = [];\ncardData.news = [...cardData.news, ...news];\ncardData.loading = false;\n});\n}\n}", "CodeBleu_score": 42.763659599459054}]}
{"instance_id": "1bd87ab8efa2", "generation_result": [{"code": "backToTop(){\n\tif (!this.isMoving) {\nthis.isMoving = true\nconst position = window.pageYOffset\nlet currentPosition = position\nlet diff = 0\nconst startTime = new Date().getTime()\nconst easeInOutCubic = (t, b, c, d) => {\nif ((t /= d / 2) < 1) return c / 2 * t * t * t + b\nreturn c / 2 * ((t -= 2) * t * t + 2) + b\n}\nconst step = () => {\nconst elapsed = new Date().getTime() - startTime\ncurrentPosition = easeInOutCubic(elapsed, position, -this.backPosition, 400)\nwindow.scrollTo(0, currentPosition)\nif (currentPosition === 0 || elapsed > 400) {\nclearInterval(this.interval)\nthis.isMoving = false\n}\n}\nthis.interval = setInterval(step, 16.7)\n}\n}", "CodeBleu_score": 42.436587852867326}, {"code": "backToTop(){\n\tthis.isMoving = true\nlet count = 0\nlet interval = setInterval(() => {\ncount += 1\nif (count < 20) {\nconst position = this.backPosition - (this.backPosition / 20) * count\nwindow.scrollTo(0, position)\n} else {\nclearInterval(interval)\nthis.isMoving = false\n}\n}, 16.7)\n}", "CodeBleu_score": 37.01581596233218}, {"code": "backToTop(){\n\t\tif (!this.isMoving) {\n\t\tthis.isMoving = true\n\t\tconst currentScrollTop = window.pageYOffset\n\t\tconst scrollStep = Math.PI / (this.scrollDuration / 16.7)\n\t\tconst cosParameter = scrollStep * (currentScrollTop - this.backPosition)\n\t\tlet scrollCount = 0\n\t\tlet scrollMargin = 0\n\t\tlet scrollInterval = setInterval(() => {\n\t\t\tif (window.pageYOffset != 0) {\n\t\t\t\tscrollCount += 1\n\t\t\t\tscrollMargin = cosParameter - scrollStep * scrollCount\n\t\t\t\twindow.scrollTo(0, currentScrollTop - Math.round(scrollMargin))\n\t\t\t} else {\n\t\t\t\tclearInterval(scrollInterval)\n\t\t\t\tthis.isMoving = false\n\t\t\t}\n\t\t}, 16.7)\n\t}\n}", "CodeBleu_score": 41.57969949688615}]}
{"instance_id": "0ef728b56235", "generation_result": [{"code": "getBreadcrumb(){\n\tlet matched = this.$route.matched.filter(item => item.meta && item.meta.title)\nif (this.$route.path !== '/') {\nmatched = [{\npath: '/',\nmeta: {\ntitle: 'Dashboard'\n}\n}].concat(matched)\n}\nthis.levelList = matched.filter(item => {\nreturn !item.meta.breadcrumb || item.meta.breadcrumb !== false\n})\n}", "CodeBleu_score": 65.00842940293528}, {"code": "getBreadcrumb(){\n\tconst matched = this.$route.matched.filter(route => route.meta && route.meta.title)\nif (matched.length === 0) {\nreturn\n}\nconst first = matched[0]\nif (first.path !== '/') {\nmatched.unshift({\npath: '/',\nmeta: {\ntitle: 'Dashboard'\n}\n})\n}\nthis.levelList = matched.filter(route => {\nconst meta = route.meta\nreturn !meta.breadcrumb || meta.breadcrumb.show !== false\n})\n}", "CodeBleu_score": 54.02676359428633}, {"code": "getBreadcrumb(){\n\tconst matched = this.$route.matched.filter(item => item.meta.title)\nif (matched.length && matched[0].name !== 'dashboard') {\nmatched.unshift({\npath: '/dashboard',\nmeta: { title: 'Dashboard' }\n})\n}\nthis.levelList = matched.filter(item => item.meta.breadcrumb !== false)\n}", "CodeBleu_score": 49.612989436347746}]}
{"instance_id": "4431fde0a559", "generation_result": [{"code": "destroyListener(){\n\tthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\nwindow.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\n}", "CodeBleu_score": 60.463141609980795}, {"code": "destroyListener(){\n\tthis.$_resizeHandler && window.removeEventListener('resize', this.$_resizeHandler)\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\nthis.$_resizeHandler = null\nthis.$_sidebarElm = null\n}", "CodeBleu_score": 53.360101324272655}, {"code": "destroyListener(){\n\tthis.$_resizeHandler && window.removeEventListener('resize', this.$_resizeHandler)\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\nthis.$_sidebarElm = null\nthis.$_resizeHandler = null\n}", "CodeBleu_score": 50.15432837681638}]}
{"instance_id": "7215170e04cd", "generation_result": [{"code": "deleteEle(ele){\n\tconst index = this.list1.findIndex(x => x.id === ele.id)\nthis.list1.splice(index, 1)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 56.427352654591104}, {"code": "deleteEle(ele){\n\tconst index = this.list1.findIndex(e => e.id === ele.id)\nthis.list1.splice(index, 1)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 56.468274099326706}, {"code": "deleteEle(ele){\n\tif (this.list1.length > 0) {\nlet index = this.list1.findIndex(item => item.id === ele.id)\nif (index > -1) {\nthis.list1.splice(index, 1)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}\n}\n}", "CodeBleu_score": 59.40640065568391}]}
{"instance_id": "b2acc5757074", "generation_result": [{"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tconst result = []\nroutes.forEach(route => {\nif (route.meta && route.meta.hidden) {\nreturn\n}\nconst currentPath = path.resolve(basePath, route.path)\nconst currentTitle = prefixTitle.concat(route.meta.title || route.name)\nif (route.children) {\nresult.push(...this.generateRoutes(route.children, currentPath, currentTitle))\n} else if (route.meta && !route.meta.noRedirect) {\nresult.push({\npath: currentPath,\ntitle: currentTitle\n})\n}\n})\nreturn result\n}", "CodeBleu_score": 38.01139193701518}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tconst result = []\nfor (const route of routes) {\nif (route.meta && route.meta.hidden) {\ncontinue\n}\nconst path = route.path\nconst title = route.meta && route.meta.title\nif (title && !route.meta.noRedirect) {\nresult.push({\npath: path,\ntitle: prefixTitle.concat(title)\n})\n}\nif (route.children) {\nresult.push(...this.generateRoutes(route.children, path, prefixTitle.concat(title)))\n}\n}\nreturn result\n}", "CodeBleu_score": 37.06709132483747}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tconst result = []\nroutes.forEach(route => {\nif (route.meta && route.meta.hidden) {\nreturn\n}\nconst metaTitle = route.meta && route.meta.title\nconst path = route.path\nconst resolvedPath = path ? normalizePath(basePath + path) : ''\nconst title = metaTitle ? prefixTitle.concat(route.meta.title) : prefixTitle\nif (route.children) {\nresult.push(...this.generateRoutes(route.children, resolvedPath, title))\n} else if (route.redirect === 'noRedirect') {\nresult.push({\npath: resolvedPath,\ntitle: title\n})\n} else if (route.meta && !route.meta.noSearch) {\nresult.push({\npath: resolvedPath,\ntitle: title\n})\n}\n})\nreturn result\n}", "CodeBleu_score": 38.8826674137058}]}
{"instance_id": "c4e47c376d30", "generation_result": [{"code": "closeSidebar(evt){\n\tif (!evt.target.closest('.rightPanel')) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 44.96213469572694}, {"code": "closeSidebar(evt){\n\tif (!evt.target.closest('.rightPanel')) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 44.96213469572694}, {"code": "closeSidebar(evt){\n\tif (!this.$refs.rightPanel.contains(evt.target)) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 41.04695482589355}]}
{"instance_id": "ab91e02736a1", "generation_result": [{"code": "click(){\n\tif (screenfull.enabled) {\nscreenfull.toggle()\nthis.isFullscreen = !this.isFullscreen\n} else {\nconsole.log('Your browser does not support fullscreen mode')\nthis.isFullscreen = false\n}\n}", "CodeBleu_score": 21.894281651190354}, {"code": "click(){\n\tif (screenfull.enabled) {\nscreenfull.toggle()\nthis.isFullscreen = !this.isFullscreen\n} else {\nconsole.log('This browser does not support fullscreen mode')\nthis.isFullscreen = false\n}\n}", "CodeBleu_score": 21.831555200085333}, {"code": "click(){\n\tif (screenfull.enabled) {\nscreenfull.toggle()\nthis.isFullscreen = !this.isFullscreen\n} else {\nthis.$message.warning('Your browser cannot work')\n}\n}", "CodeBleu_score": 24.56043856741776}]}
{"instance_id": "3f27cb09d8c2", "generation_result": [{"code": "function checkPermission(el, binding) {\n\t\tif (binding.value) {\n\t\tconst userRoles = store.getters['auth/roles']\n\t\tconst hasPermission = binding.value.some(role => userRoles.includes(role))\n\t\tif (!hasPermission) {\n\t\t\tel.parentNode.removeChild(el)\n\t\t}\n\t} else {\n\t\tthrow new Error('v-permission needs an argument: an array with the required roles')\n\t}\n}", "CodeBleu_score": 30.836498550447445}, {"code": "function checkPermission(el, binding) {\n\t\tif (Array.isArray(binding.value)) {\n\t\tif (binding.value.length > 0) {\n\t\t\tconst userRoles = store.getters['auth/roles']\n\t\t\tconst hasPermission = binding.value.some(role => userRoles.includes(role))\n\t\t\tif (hasPermission) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t} else {\n\t\tthrow new Error('v-permission value must be an array')\n\t}\n}", "CodeBleu_score": 31.557740082710282}, {"code": "function checkPermission(el, binding) {\n\t\tconst roles = store.getters['auth/roles']\n\tconst hasPermissions = roles.some(role => binding.value.includes(role))\n\n\tif (!hasPermissions) {\n\t\tel.parentNode.removeChild(el)\n\t}\n}", "CodeBleu_score": 21.12378041139143}]}
{"instance_id": "04e47e771281", "generation_result": [{"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\tconst inviteResult = await this.adminService.inviteNewUser(\n    adminUser,\n    inviteeEmail,\n  );\nreturn E.isLeft(inviteResult) ? throwErr(inviteResult.left) : inviteResult.right;\n}", "CodeBleu_score": 48.62414589498554}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\t\n/**\n * This line calls the adminService to send an invitation email to the invitee.\nIf the invitation fails, it throws an error; otherwise, it returns the invited user's details.\n */\n    const invitedUser = await this.adminService.inviteNewUser(\n      adminUser.id,\n      inviteeEmail,\n    );\n    return invitedUser;\n  }", "CodeBleu_score": 47.58808214258047}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\t", "CodeBleu_score": 18.75}]}
{"instance_id": "3f25736bfbcd", "generation_result": [{"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tconst authTokens = await this.authService.handleGoogleAuthRedirect(req.query);\nif (E.isLeft(authTokens)) throwHTTPErr(authTokens.left);\nauthCookieHandler(res, authTokens.right, false, null);\nres.redirect(req.query.state);\n}", "CodeBleu_score": 58.13075363638953}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tconst authTokens = await this.authService.generateAuthTokens(\nAuthProvider.GOOGLE,\nreq.user,\n);\nif (E.isLeft(authTokens)) throwHTTPErr(authTokens.left);\nauthCookieHandler(res, authTokens.right, false, req.query.redirect);\n}", "CodeBleu_score": 62.732831411462506}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tconst { code } = req.query;\nconst authTokens = await this.authService.googleAuthRedirect(code);\nif (E.isLeft(authTokens)) throwHTTPErr(authTokens.left);\nauthCookieHandler(res, authTokens.right, false, null);\nres.redirect(this.configService.get('INFRA.VITE_APP_URL'));\n}", "CodeBleu_score": 51.58698157097068}]}
{"instance_id": "52aa108e3521", "generation_result": [{"code": "const mousewheel = function(element, callback){\n\t", "CodeBleu_score": 0.8714535953641472}, {"code": "const mousewheel = function(element, callback){\n\t\tif (element && element.addEventListener) {\n\t\telement.addEventListener(isFirefox ? 'DOMMouseScroll' : 'mousewheel', function(event) {\n\t\t\tconst normalizedEvent = normalizeWheel(event);\n\t\t\tcallback(event, normalizedEvent);\n\t\t});\n\t}\n}", "CodeBleu_score": 58.59571902463991}, {"code": "const mousewheel = function(element, callback){\n\t\tif (typeof element === 'string') {\n\t\telement = document.querySelector(element);\n\t}\n\n\tif (!element) {\n\t\treturn;\n\t}\n\n\tconst fn = function(e) {\n\t\tconst event = window.event || e; // old IE support\n\t\tconst delta = normalizeWheel(event);\n\n\t\t// Add event and delta to the front of the arguments\n\t\tconst args = [event, delta].concat(Array.prototype.slice.call(arguments));\n\n\t\treturn callback.apply(this, args);\n\t};\n\n\tif (isFirefox) {\n\t\telement.addEventListener('DOMMouseScroll', fn);\n\t} else {\n\t\telement.addEventListener('mousewheel', fn);\n\t}\n}", "CodeBleu_score": 37.16289950827808}]}
{"instance_id": "bb9e14122636", "generation_result": [{"code": "let i18nHandler = function(){\n\t\tif (Vue.locale) {\n\t\tif (!merged) {\n\t\t\tVue.locale(Vue.config.lang, deepmerge(lang, Vue.locale(Vue.config.lang) || {}, { clone: true }));\n\t\t\tmerged = true;\n\t\t}\n\t\treturn Vue.t.apply(null, arguments);\n\t} else if (typeof console !== 'undefined') {\n\t\tconsole.warn('[Element Error][ElLocale] Vue.locale is not found, have you imported VueI18n?');\n\t}\n}", "CodeBleu_score": 52.07108136551142}, {"code": "let i18nHandler = function(){\n\t\tif (typeof Vue.prototype.$t === 'function' && typeof Vue.locale === 'function') {\n\t\tif (!merged) {\n\t\t\tmerged = true;\n\t\t\tVue.locale(Vue.config.lang, deepmerge(lang, Vue.locale(Vue.config.lang) || {}, { clone: true }));\n\t\t}\n\t\treturn Vue.prototype.$t.apply(this, arguments);\n\t}\n}", "CodeBleu_score": 55.165825502608556}, {"code": "let i18nHandler = function(){\n\t\tif (typeof Vue.prototype.$t !== 'function' || !Vue.locale) return;\n\tif (merged) return Vue.prototype.$t.apply(this, arguments);\n\tconst messages = deepmerge(lang, Vue.locale.use(), { clone: true });\n\tVue.locale.use(messages);\n\tmerged = true;\n\treturn Vue.prototype.$t.apply(this, arguments);\n}", "CodeBleu_score": 38.44246556586914}]}
{"instance_id": "b0608b85127a", "generation_result": [{"code": "function broadcast(componentName, eventName, params){\n\t\tvar children = this.$children;\n\tvar child;\n\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\tchild = children[i];\n\t\tvar name = child.$options.componentName;\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.call(child, componentName, eventName, params);\n\t\t}\n\t}\n}", "CodeBleu_score": 62.02641297063287}, {"code": "function broadcast(componentName, eventName, params){\n\t\tvar children = this.$children;\n\tvar child;\n\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\tchild = children[i];\n\t\tvar name = child.$options.componentName;\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.call(child, componentName, eventName, params);\n\t\t}\n\t}\n}", "CodeBleu_score": 62.02641297063287}, {"code": "function broadcast(componentName, eventName, params){\n\t\tvar children = this.$children;\n\tvar child;\n\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\tchild = children[i];\n\t\tif (child.$options.componentName === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.apply(child, [componentName, eventName].concat([params]));\n\t\t}\n\t}\n}", "CodeBleu_score": 61.879454064859715}]}
{"instance_id": "da57b9dc5023", "generation_result": [{"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tvar child = element.firstChild;\n\twhile (child) {\n\t\tif (aria.Utils.isFocusable(child)) {\n\t\t\tchild.focus();\n\t\t\treturn true;\n\t\t} else if (aria.Utils.focusFirstDescendant(child)) {\n\t\t\treturn true;\n\t\t}\n\t\tchild = child.nextSibling;\n\t}\n\treturn false;\n}", "CodeBleu_score": 35.68141839826275}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tif (element.nodeType != 1) {\n\t\treturn false;\n\t}\n\tvar childNodes = element.childNodes;\n\tfor (var i = 0; i < childNodes.length; i++) {\n\t\tvar child = childNodes[i];\n\t\tif (aria.Utils.isFocusable(child)) {\n\t\t\tchild.focus();\n\t\t\treturn true;\n\t\t} else if (aria.Utils.focusFirstDescendant(child)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 46.63880562072402}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tif (element.tabIndex > 0 || element.tabIndex == 0) {\n\t\telement.focus();\n\t\treturn true;\n\t} else {\n\t\tvar found = false;\n\t\tvar child = element.firstChild;\n\t\twhile (child) {\n\t\t\tif (child.nodeType == 1) {\n\t\t\t\tif (aria.Utils.focusFirstDescendant(child)) {\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn found;\n\t}\n}", "CodeBleu_score": 32.47546411334483}]}
{"instance_id": "a029702e104d", "generation_result": [{"code": "highlight(index){\n\tif (this.suggestionVisible && !this.loading) {\nconst suggestions = this.suggestions;\nconst suggestionsCount = suggestions.length;\nif (suggestionsCount > 0) {\nif (index < 0) {\nindex = suggestionsCount - 1;\n} else if (index >= suggestionsCount) {\nindex = 0;\n}\nthis.highlightedIndex = index;\nthis.scrollIntoView(index);\nthis.$nextTick(() => {\nconst $suggestions = this.$refs.suggestions.$el;\nif ($suggestions) {\nconst id = `${this.id}-item-${index}`;\n$suggestions.setAttribute('aria-activedescendant', id);\n}\n});\n}\n}\n}", "CodeBleu_score": 33.12391362477996}, {"code": "highlight(index){\n\t\tif (this.suggestionVisible && !this.loading && this.suggestions.length > 0) {\n\t\tif (index < 0) {\n\t\t\tindex = this.suggestions.length - 1;\n\t\t} else if (index >= this.suggestions.length) {\n\t\t\tindex = 0;\n\t\t}\n\t\tthis.highlightedIndex = index;\n\t\tthis.scrollIntoView();\n\t\tthis.broadcastSuggestions();\n\t}\n}", "CodeBleu_score": 16.72619959082036}, {"code": "highlight(index){\n\tthis.highlightedIndex = index;\nif (this.suggestionVisible && !this.loading) {\n  let suggestions = this.suggestions;\n  let suggestionEls = this.$refs.suggestions.$el.querySelectorAll('.highlighted');\n  if (suggestionEls.length) {\n    suggestionEls[0].classList.remove('highlighted');\n  }\n  if (index >= 0 && index < suggestions.length) {\n    let suggestionEl = this.$refs.suggestions.$el.querySelectorAll(`#${this.id}-item-${index}`)[0];\n    suggestionEl.classList.add('highlighted');\n    this.$refs.input.$el.setAttribute('aria-activedescendant', suggestionEl.id);\n    this.$refs.input.$el.scrollTop = suggestionEl.offsetTop - this.$refs.input.$el.offsetHeight + suggestionEl.offsetHeight;\n  }\n}\n}", "CodeBleu_score": 38.86193606324837}]}
{"instance_id": "2db32f7ad18f", "generation_result": [{"code": "translateItem(index, activeIndex, oldIndex){\n\t", "CodeBleu_score": 1.8647987216688775}, {"code": "translateItem(index, activeIndex, oldIndex){\n\t\tconst { $parent } = this;\n\tconst isCard = $parent.type === 'card';\n\tconst isVertical = $parent.direction === 'vertical';\n\tconst length = $parent.items.length;\n\tconst loop = $parent.loop;\n\tconst active = index === activeIndex;\n\tconst oldActive = oldIndex === activeIndex;\n\tconst oldInStage = oldIndex < activeIndex && activeIndex - oldIndex < length || oldIndex > activeIndex && oldIndex - activeIndex >= length;\n\tconst inStage = index < activeIndex && activeIndex - index < length || index > activeIndex && index - activeIndex >= length;\n\tconst translate = isCard ? this.calcCardTranslate(index, activeIndex) : this.calcTranslate(index, activeIndex, isVertical);\n\tconst oldTranslate = isCard ? this.calcCardTranslate(oldIndex, activeIndex) : this.calcTranslate(oldIndex, activeIndex, isVertical);\n\tconst scale = isCard ? 1 : 1 - (1 - $parent.height / $parent.initialHeight) * (index - activeIndex);\n\tconst oldScale = isCard ? 1 : 1 - (1 - $parent.height / $parent.initialHeight) * (oldIndex - activeIndex);\n\tconst zIndex = this.processIndex(index, activeIndex, length);\n\tconst oldZIndex = this.processIndex(oldIndex, activeIndex, length);\n\tconst animating = this.animating;\n\tthis.active = active;\n\tthis.inStage = inStage;\n\tthis.animating = active && (oldActive || oldInStage);\n\tthis.translate = translate;\n\tthis.scale = scale;\n\tthis.zIndex = zIndex;\n\tthis.ready = !animating;\n\tif (isCard && isVertical) {\n\t\tconsole.warn('[Element Warn][Carousel] Vertical mode is not supported for card mode.');\n\t}\n}", "CodeBleu_score": 37.84892128307933}, {"code": "translateItem(index, activeIndex, oldIndex){\n\t", "CodeBleu_score": 1.8647987216688775}]}
{"instance_id": "49b9aa91f62e", "generation_result": [{"code": "handleButtonEnter(arrow){\n\t\tif (this.direction === 'vertical') return;\n\tthis.items.forEach(item => {\n\t\titem.hover = this.itemInStage(item, this.activeIndex) === arrow;\n\t});\n}", "CodeBleu_score": 45.1885979158126}, {"code": "handleButtonEnter(arrow){\n\tif (this.direction === 'vertical') return;\nconst length = this.items.length;\nfor (let i = 0; i < length; i++) {\n  const item = this.items[i];\n  if (arrow === this.itemInStage(item, i)) {\n    item.hover = true;\n  }\n}\n}", "CodeBleu_score": 55.84130866001633}, {"code": "handleButtonEnter(arrow){\n\t\tif (this.direction === 'vertical') return;\n\tconst length = this.items.length;\n\tfor (let i = 0; i < length; i++) {\n\t\tconst item = this.items[i];\n\t\tif (this.itemInStage(item, i) === arrow) {\n\t\t\titem.hover = true;\n\t\t}\n\t}\n}", "CodeBleu_score": 48.84057303429745}]}
{"instance_id": "85cdf6991b1f", "generation_result": [{"code": "scrollIntoView(){\n\tif (typeof window === 'undefined') return;\nconst { menus, activePath } = this;\nconst activeMenu = activePath[activePath.length - 1];\nconst activeNode = activeMenu.$el.querySelector('.el-cascader-node[aria-checked=\\\"true\\\"]');\nif (activeMenu && activeNode) {\nconst scrollableContainer = activeMenu.$el.closest('.el-cascader-menu');\nconst activeNodeRect = activeNode.getBoundingClientRect();\nconst containerRect = scrollableContainer.getBoundingClientRect();\nconst isOutOfViewVertically = activeNodeRect.bottom > containerRect.bottom || activeNodeRect.top < containerRect.top;\nconst isOutOfViewHorizontally = activeNodeRect.right > containerRect.right || activeNodeRect.left < containerRect.left;\nif (isOutOfViewVertically) {\nscrollableContainer.scrollTop = activeNode.offsetTop - containerRect.top + scrollableContainer.scrollTop;\n}\nif (isOutOfViewHorizontally) {\nscrollableContainer.scrollLeft = activeNode.offsetLeft - containerRect.left + scrollableContainer.scrollLeft;\n}\n}\n}", "CodeBleu_score": 26.7652604959767}, {"code": "scrollIntoView(){\n\tif (typeof window === 'undefined') return;\nconst { activePath, menus } = this;\nconst activeMenu = activePath[activePath.length - 1];\nconst activeNode = activeMenu && activeMenu.children[activeMenu.activeIndex];\nconst menuIndex = activePath.length - 1;\nconst menu = menus[menuIndex];\nconst menuRef = this.$refs.menu[menuIndex];\nconst menuScrollable = menuRef.$el.querySelector('.el-cascader-menu__wrap');\nif (menuScrollable) {\n  const activeNodeIndex = Array.prototype.indexOf.call(menu.children, activeNode);\n  const activeNodeOffsetTop = activeNode.offsetTop;\n  const menuScrollTop = menuScrollable.scrollTop;\n  const menuScrollHeight = menuScrollable.clientHeight;\n  const menuOffsetHeight = menuScrollable.offsetHeight;\n\n  if (activeNodeIndex > 0 && activeNodeOffsetTop < menuScrollTop) {\n    menuScrollable.scrollTop = activeNodeOffsetTop;\n  } else if (activeNodeIndex > 0 && activeNodeOffsetTop + activeNode.offsetHeight > menuScrollTop + menuScrollHeight) {\n    menuScrollable.scrollTop = activeNodeOffsetTop + activeNode.offsetHeight - menuOffsetHeight;\n  }\n}\n}", "CodeBleu_score": 28.22159402909773}, {"code": "scrollIntoView(){\n\tif (typeof window === 'undefined') return;\n  const { activePath, menus } = this;\n  const len = activePath.length;\n  if (len < 1) return;\n  menus.forEach((menu, index) => {\n    const menuRef = this.$refs.menu[index];\n    const menuActiveItem = menuRef.$el.querySelector('.el-cascader-node[aria-expanded=\\\"true\\\"]');\n    const menuInActiveItem = menuRef.$el.querySelector('.el-cascader-node[tabindex=\\\"-1\\\"]');\n    const menuActiveItemRect = menuActiveItem ? menuActiveItem.getBoundingClientRect() : {};\n    const menuInActiveItemRect = menuInActiveItem ? menuInActiveItem.getBoundingClientRect() : {};\n    const menuRefRect = menuRef.$el.getBoundingClientRect();\n    const scrollableContainer = menuRef.querySelector('.el-cascader-menu__wrap');\n    const scrollableContainerRect = scrollableContainer ? scrollableContainer.getBoundingClientRect() : {};\n    const activeItem = activePath[index];\n    const activeItemRect = activeItem.getBoundingClientRect();\n    const isLast = index === len - 1;\n\n    if (isLast) {\n      const diff = activeItemRect.bottom - menuRefRect.bottom;\n      if (diff > 0) {\n        scrollableContainer.scrollTop += diff;\n      } else if (diff < 0) {\n        scrollableContainer.scrollTop += diff;\n      }\n    } else {\n      const diff = activeItemRect.top - menuActiveItemRect.top;\n      if (diff > 0) {\n        scrollableContainer.scrollTop += diff;\n      } else if (diff < 0) {\n        scrollableContainer.scrollTop += diff;\n      }\n    }\n  });\n}", "CodeBleu_score": 31.940873666634907}]}
{"instance_id": "fc6784c79aa5", "generation_result": [{"code": "const rgb2hsv = function(r, g, b){\n\t\tif (r > 255) r = 255;\n\tif (g > 255) g = 255;\n\tif (b > 255) b = 255;\n\tif (r < 0) r = 0;\n\tif (g < 0) g = 0;\n\tif (b < 0) b = 0;\n\n\tr = r / 255;\n\tg = g / 255;\n\tb = b / 255;\n\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst h = (max === min) ? 0 :\n\t\tmax === r ? (g - b) / (max - min) :\n\t\tmax === g ? 2 + (b - r) / (max - min) :\n\t\t4 + (r - g) / (max - min);\n\n\treturn {\n\t\th: Math.round(h * 60),\n\t\ts: Math.round((max - min) / max * 100),\n\t\tv: Math.round(max * 100)\n\t};\n}", "CodeBleu_score": 32.57443978069483}, {"code": "const rgb2hsv = function(r, g, b){\n\t\tr = bound01(r, 255);\n\tg = bound01(g, 255);\n\tb = bound01(b, 255);\n\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst delta = max - min;\n\tlet h;\n\tlet s;\n\tlet v = max;\n\n\t// H\n\tif (max === min) {\n\t\th = 0; // achromatic\n\t} else if (max === r) {\n\t\th = (g - b) / delta;\n\t} else if (max === g) {\n\t\th = 2 + (b - r) / delta;\n\t} else if (max === b) {\n\t\th = 4 + (r - g) / delta;\n\t}\n\th = Math.min(h * 60, 360);\n\n\t// S\n\tif (max === 0) {\n\t\ts = 0;\n\t} else {\n\t\ts = delta / max;\n\t}\n\n\t// V\n\t// return {\n\t// \th: h,\n\t// \ts: s,\n\t// \tv: v\n\t// };\n\n\treturn {\n\t\th: Math.round(h),\n\t\ts: Math.round(s * 100),\n\t\tv: Math.round(v * 100)\n\t};\n}", "CodeBleu_score": 52.03257442306051}, {"code": "const rgb2hsv = function(r, g, b){\n\t\tr = bound01(r, 255);\n\tg = bound01(g, 255);\n\tb = bound01(b, 255);\n\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst delta = max - min;\n\tlet h = 0;\n\tlet s = 0;\n\tconst v = max;\n\n\t// This makes the hues circular instead of linear\n\tif (delta) {\n\t\tif (r === max) {\n\t\t\th = (g - b) / delta;\n\t\t} else if (g === max) {\n\t\t\th = 2 + (b - r) / delta;\n\t\t} else if (b === max) {\n\t\t\th = 4 + (r - g) / delta;\n\t\t}\n\t\th = Math.min(h * 60, 360);\n\t}\n\t// This makes the hues negative instead of linear\n\tif (h < 0) {\n\t\th += 360;\n\t}\n\n\t// It is important to note that s and v are the same when the max and min are equal.\n\t// This is because the color is either gray, or it is a shade of grey.\n\tif (max) {\n\t\ts = delta / max;\n\t}\n\n\treturn {\n\t\th: h,\n\t\ts: s * 100,\n\t\tv: v * 100\n\t};\n}", "CodeBleu_score": 50.151909878363945}]}
{"instance_id": "37b868b6a5cc", "generation_result": [{"code": "handleDrag(event){\n\tconst { vertical } = this;\nconst thumb = this.$refs.thumb;\nconst { left, top, width, height } = thumb.getBoundingClientRect();\nconst { clientX, clientY } = event;\n\nif (vertical) {\nconst thumbTop = clientY - top;\nconst thumbPercent = thumbTop / height;\nthis.color.setAlpha(thumbPercent);\n} else {\nconst thumbLeft = clientX - left;\nconst thumbPercent = thumbLeft / width;\nthis.color.setAlpha(thumbPercent);\n}\n}", "CodeBleu_score": 23.991650032147703}, {"code": "handleDrag(event){\n\t\tconst el = this.$refs.bar;\n\tconst rect = el.getBoundingClientRect();\n\tconst offsetX = event.clientX - rect.left;\n\tconst offsetY = event.clientY - rect.top;\n\tconst thumb = this.$refs.thumb;\n\tconst thumbRect = thumb.getBoundingClientRect();\n\tconst thumbSize = thumbRect.width;\n\tlet thumbLeft = 0;\n\tlet thumbTop = 0;\n\n\tif (this.vertical) {\n\t\tthumbTop = offsetY - thumbSize / 2;\n\t} else {\n\t\tthumbLeft = offsetX - thumbSize / 2;\n\t}\n\n\tif (thumbLeft < 0) {\n\t\tthumbLeft = 0;\n\t} else if (thumbLeft > rect.width - thumbSize) {\n\t\tthumbLeft = rect.width - thumbSize;\n\t}\n\n\tif (thumbTop < 0) {\n\t\tthumbTop = 0;\n\t} else if (thumbTop > rect.height - thumbSize) {\n\t\tthumbTop = rect.height - thumbSize;\n\t}\n\n\tthis.thumbLeft = thumbLeft;\n\tthis.thumbTop = thumbTop;\n\n\tconst alpha = this.vertical ? thumbTop / (rect.height - thumbSize) : thumbLeft / (rect.width - thumbSize);\n\tthis.color.setAlpha(alpha);\n}", "CodeBleu_score": 34.52621171136682}, {"code": "handleDrag(event){\n\tconst { vertical } = this;\nconst { height, width } = this.$el.getBoundingClientRect();\nconst { top, left } = this.$refs.thumb.getBoundingClientRect();\nconst offset = vertical ? top : left;\nconst thumbSize = vertical ? height : width;\nconst pos = vertical ? event.clientY : event.clientX;\nconst percentage = ((pos - offset) / thumbSize);\nconst value = Math.round(percentage * 100);\nthis.color.set('alpha', value);\n}", "CodeBleu_score": 26.574582370892625}]}
{"instance_id": "a3b2c61b5a1e", "generation_result": [{"code": "displayValue(){\n\tconst { parsedValue, format, type, rangeSeparator } = this;\nif (Array.isArray(parsedValue)) {\nreturn parsedValue.map(value => formatAsFormatAndType(value, format, type)).join(rangeSeparator);\n} else if (parsedValue !== null) {\nreturn parsedValue;\n} else if (this.displayFormattedValue) {\nreturn formatAsFormatAndType(this.displayFormattedValue, format, type);\n}\nreturn '';\n}", "CodeBleu_score": 23.5177380462981}, {"code": "displayValue(){\n\treturn this.userInput ? this.userInput : this.value ? this.value : this.formattedValue ? this.formattedValue : '';\n}", "CodeBleu_score": 6.771118014025731}, {"code": "displayValue(){\n\tif (this.userInput !== null) {\nreturn this.userInput;\n}\n\nif (this.valueIsEmpty) {\nreturn '';\n}\n\nif (Array.isArray(this.value)) {\nreturn this.formatValue(this.value, this.format || this.valueFormat);\n}\n\nreturn this.formatValue(this.parsedValue, this.format || this.valueFormat);\n}", "CodeBleu_score": 20.637698197543795}]}
{"instance_id": "305dba2399e1", "generation_result": [{"code": "handleStartChange(event){\n\t\tif (this.userInput) {\n\t\tthis.userInput = [event.target.value, this.userInput[1]];\n\t} else {\n\t\tthis.userInput = [event.target.value, null];\n\t}\n}", "CodeBleu_score": 14.540660742970314}, {"code": "handleStartChange(event){\n\tif (this.userInput) {\nthis.userInput = [this.parseString(event.target.value), this.userInput[1]];\n} else {\nthis.userInput = [this.parseString(event.target.value), null];\n}\nthis.picker.value = [this.userInput[0], this.userInput[1] || this.picker.value[1]];\nif (this.isValidValue(this.picker.value)) {\nthis.emitInput(this.picker.value);\nthis.userInput = null;\n}\n}", "CodeBleu_score": 32.84429497584542}, {"code": "handleStartChange(event){\n\tconst value = this.parseString(this.displayValue);\nif (value) {\nthis.picker.value = value;\nif (this.isValidValue(value)) {\nthis.emitInput(value);\nthis.userInput = null;\n}\n}\n}", "CodeBleu_score": 34.33066917504656}]}
{"instance_id": "0f76d5fb83b3", "generation_result": [{"code": "bindScrollEvent(){\n\tthis.bindFunction = function(type, event) {\nthis.handleScroll(type, event);\n};\nthis.$refs.hours.wrap.onscroll = this.bindFunction.bind(this, 'hours');\nthis.$refs.minutes.wrap.onscroll = this.bindFunction.bind(this, 'minutes');\nthis.showSeconds && (this.$refs.seconds.wrap.onscroll = this.bindFunction.bind(this, 'seconds'));\n}", "CodeBleu_score": 21.251800260004522}, {"code": "bindScrollEvent(){\n\t\tconst bindFunction = (element, type) => {\n\t\telement.wrap.onscroll = e => this.handleScroll(type, e);\n\t};\n\tbindFunction(this.hours, 'hours');\n\tbindFunction(this.minutes, 'minutes');\n\tif (this.showSeconds) {\n\t\tbindFunction(this.seconds, 'seconds');\n\t}\n}", "CodeBleu_score": 42.852587307006026}, {"code": "bindScrollEvent(){\n\t\tconst bindFunction = (type, el) => {\n\t\tconst wrap = el.querySelector('.el-time-spinner__wrapper');\n\t\twrap.onscroll = () => {\n\t\t\tthis.handleScroll(type, wrap.scrollTop);\n\t\t};\n\t};\n\tbindFunction('hours', this.$refs.hours);\n\tbindFunction('minutes', this.$refs.minutes);\n\tif (this.showSeconds) {\n\t\tbindFunction('seconds', this.$refs.seconds);\n\t}\n}", "CodeBleu_score": 41.06146289522084}]}
{"instance_id": "fe8ad366d911", "generation_result": [{"code": "scrollDown(step){\n\t\tconst { currentScrollbar, hoursList, minutesList, secondsList } = this;\n\tlet value = 0;\n\tif (currentScrollbar === 'hours') {\n\t\tlet i = 0;\n\t\tfor (let hour of hoursList) {\n\t\t\tif (hour === this.hours) {\n\t\t\t\tvalue = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (hour > this.hours) {\n\t\t\t\tvalue = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t\tvalue = value + step;\n\t\tif (value < 0) value = 23;\n\t\tif (value > 23) value = 0;\n\t} else if (currentScrollbar === 'minutes') {\n\t\tvalue = this.minutes + step;\n\t\tif (value < 0) value = 59;\n\t\tif (value > 59) value = 0;\n\t} else if (currentScrollbar === 'seconds') {\n\t\tvalue = this.seconds + step;\n\t\tif (value < 0) value = 59;\n\t\tif (value > 59) value = 0;\n\t}\n\tthis.modifyDateField(currentScrollbar, value);\n\tthis.emitSelectRange(currentScrollbar);\n\tthis.adjustSpinner(currentScrollbar, value);\n}", "CodeBleu_score": 23.93011720047267}, {"code": "scrollDown(step){\n\t\tif (this.currentScrollbar === null) {\n\t\tthis.emitSelectRange('hours');\n\t} else {\n\t\tlet value = this[this.currentScrollbar];\n\t\tconst list = this.arrowHourList;\n\t\tconst length = list.length;\n\t\tlet index = list.indexOf(value);\n\t\tlet newIndex = index + step;\n\t\tif (newIndex < 0) {\n\t\t\tnewIndex = length - 1;\n\t\t} else if (newIndex >= length) {\n\t\t\tnewIndex = 0;\n\t\t}\n\t\tvalue = list[newIndex];\n\t\tif (this.currentScrollbar === 'hours') {\n\t\t\twhile (this.hoursList[value] && value !== this.hours) {\n\t\t\t\tnewIndex = newIndex + step;\n\t\t\t\tif (newIndex < 0) {\n\t\t\t\t\tnewIndex = length - 1;\n\t\t\t\t} else if (newIndex >= length) {\n\t\t\t\t\tnewIndex = 0;\n\t\t\t\t}\n\t\t\t\tvalue = list[newIndex];\n\t\t\t}\n\t\t} else {\n\t\t\tvalue = value % 60;\n\t\t}\n\t\tthis.modifyDateField(this.currentScrollbar, value);\n\t\tthis.adjustSpinner(this.currentScrollbar, value);\n\t}\n}", "CodeBleu_score": 34.35045552067501}, {"code": "scrollDown(step){\n\t\tconst { currentScrollbar, hoursList, minutesList, secondsList } = this;\n\tlet value;\n\tif (currentScrollbar === 'hours') {\n\t\tconst index = hoursList.indexOf(this.hours);\n\t\tvalue = hoursList[index + step];\n\t\twhile (value !== undefined && hoursList.indexOf(value) === -1) {\n\t\t\tvalue = hoursList[index + step];\n\t\t\tstep += step > 0 ? 1 : -1;\n\t\t}\n\t} else if (currentScrollbar === 'minutes') {\n\t\tvalue = this.minutes + step;\n\t\twhile (value !== undefined && minutesList.indexOf(value) === -1) {\n\t\t\tvalue = this.minutes + step;\n\t\t\tstep += step > 0 ? 1 : -1;\n\t\t}\n\t} else if (currentScrollbar === 'seconds') {\n\t\tvalue = this.seconds + step;\n\t\twhile (value !== undefined && secondsList.indexOf(value) === -1) {\n\t\t\tvalue = this.seconds + step;\n\t\t\tstep += step > 0 ? 1 : -1;\n\t\t}\n\t}\n\tif (value !== undefined) {\n\t\tthis.modifyDateField(currentScrollbar, value);\n\t\tthis.emitSelectRange(currentScrollbar);\n\t\tthis.adjustSpinner(currentScrollbar, value);\n\t}\n}", "CodeBleu_score": 30.33636988627318}]}
{"instance_id": "9b22163fdfde", "generation_result": [{"code": "imgStyle(){\n\treturn {\ntransform: `translate(${this.transform.offsetX}px, ${this.transform.offsetY}px) rotate(${this.transform.deg}deg) scale(${this.transform.scale})`,\ntransition: this.transform.enableTransition ? 'transform 0.3s' : '',\nmaxWidth: this.mode.name === 'contain' ? '100%' : '',\nmaxHeight: this.mode.name === 'contain' ? '100%' : ''\n};\n}", "CodeBleu_score": 17.94007544044414}, {"code": "imgStyle(){\n\treturn {\ntransform: `translate(${this.transform.offsetX}px, ${this.transform.offsetY}px) rotate(${this.transform.deg}deg) scale(${this.transform.scale})`,\ntransition: this.transform.enableTransition ? 'all 0.3s' : null,\nmaxWidth: this.mode.name === 'contain' ? '100%' : null,\nmaxHeight: this.mode.name === 'contain' ? '100%' : null\n};\n}", "CodeBleu_score": 16.892365248977843}, {"code": "imgStyle(){\n\treturn {\ntransform: `translate3d(${this.transform.offsetX}px, ${this.transform.offsetY}px, 0) rotate(${this.transform.deg}deg) scale(${this.transform.scale})`,\ntransition: this.transform.enableTransition ? 'transform 0.3s' : ''\n};\n}", "CodeBleu_score": 14.022318182509693}]}
{"instance_id": "3bf2230ab870", "generation_result": [{"code": "addLazyLoadListener(){\n\tif (this.$isServer) return;\nconst scrollContainer = getScrollContainer(this.$el, this.scrollContainer);\nif (scrollContainer) {\nthis._scrollContainer = scrollContainer;\nthis.lazyLoadHandler = throttle(this.handleLazyLoad, 200);\non(scrollContainer, 'scroll', this.lazyLoadHandler);\nthis.handleLazyLoad();\n}\n}", "CodeBleu_score": 29.5490645765099}, {"code": "addLazyLoadListener(){\n\tif (this.$isServer) return;\nconst scrollContainer = getScrollContainer(this.$el, this.scrollContainer);\nif (scrollContainer) {\nthis._scrollContainer = scrollContainer;\nthis._unbindLoadListener = on(scrollContainer, 'scroll', throttle(this.handleScroll, 200, {\nleading: true,\ntrailing: true\n}));\nthis.handleScroll();\n}\n}", "CodeBleu_score": 27.704497814027008}, {"code": "addLazyLoadListener(){\n\t\tif (this.$isServer) return;\n\tconst scrollContainer = getScrollContainer(this.$el, this.scrollContainer);\n\tif (scrollContainer) {\n\t\tthis._scrollContainer = scrollContainer;\n\t\tthis._lazyLoadHandler = throttle(this.handleLazyLoad, 200);\n\t\ton(scrollContainer, 'scroll', this._lazyLoadHandler);\n\t\tthis.handleLazyLoad();\n\t}\n}", "CodeBleu_score": 31.10703514403173}]}
{"instance_id": "7180fba29076", "generation_result": [{"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\t\n}", "CodeBleu_score": 9.42944943097432}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\t\tif (result.state.status === 'error' && 'data' in result.state.error) {\n\t\tconst error = result.state.error;\n\t\tif (error instanceof TRPCClientError) {\n\t\t\tconst clientError = new TRPCClientError(error.message, error.data);\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\tstate: {\n\t\t\t\t\t...result.state,\n\t\t\t\t\terror: clientError,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t}\n\treturn result;\n}", "CodeBleu_score": 47.26074529904443}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\tif (result.error instanceof Error && !(result.error instanceof TRPCClientError)) {\n  const error = result.error;\n  const newError = new TRPCClientError(error.message, error.data);\n  return {\n    ...result,\n    error: newError,\n  };\n}\nreturn result;\n}", "CodeBleu_score": 38.608332930351295}]}
{"instance_id": "b0ff12e8aa0d", "generation_result": [{"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\tconst { ctx, Component } = appOrPageCtx;\nconst config = getClientConfig({ ctx });\nconst queryClient = getQueryClient(config);\nconst trpcClient = trpc.createClient(config);\n\nconst pageProps = Component.getInitialProps ? await Component.getInitialProps(appOrPageCtx) : {};\n\nconst hydratedState: DehydratedState | undefined = React.useMemo(() => {\nif (!pageProps.trpcState) {\nreturn pageProps.trpcState;\n}\n\nreturn transformer.input.deserialize(pageProps.trpcState);\n// eslint-disable-next-line react-hooks/exhaustive-deps\n}, [pageProps.trpcState, trpcClient]);\n\nconst ssrState = opts.ssr ? ('mounting' as const) : (false as const);\n\nconst trpcState = transformer.output.serialize(queryClient.dehydrate());\n\nreturn {\n...pageProps,\ntrpc: {\nqueryClient,\ntrpcClient,\nssrState,\nssrContext: ctx,\nabortOnUnmount: config.abortOnUnmount,\n},\n\n// pass down hydrated state\ntrpcState,\n};\n}", "CodeBleu_score": 25.023558166740358}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\t/**\n * If the wrapped component is an app, we need to call getInitialProps on it.\nOtherwise, we can just use its props.\n */\n  const isApp = !!appOrPageCtx.ctx?.AppTree;\n  const ctx = appOrPageCtx.ctx || appOrPageCtx.Component;\n  const router = appOrPageCtx.ctx?.router || appOrPageCtx.Component.getInitialProps.router;\n  const ctxWithRouter = { ...ctx, router };\n  const ctxWithAppOrPage = isApp ? { ...ctxWithRouter, AppTree: ctxWithRouter.AppTree } : ctxWithRouter;\n  const ctxWithAppOrPageCtx = isApp ? { ...ctxWithAppOrPage, ctx: ctxWithAppOrPage.ctx } : ctxWithAppOrPage;\n  const ctxWithAppOrPageCtxWithRouter = isApp ? { ...ctxWithAppOrPageCtx, router: ctxWithAppOrPageCtx.router } : ctxWithAppOrPageCtx;\n\n  let props;\n  if (isApp) {\n    props = await (ctxWithAppOrPageCtxWithRouter.AppTree as any).getInitialProps(ctxWithAppOrPageCtxWithRouter);\n  } else {\n    props = (ctxWithAppOrPageCtxWithRouter.Component as any).getInitialProps ? await (ctxWithAppOrPageCtxWithRouter.Component as any).getInitialProps(ctxWithAppOrPageCtxWithRouter) : {};\n  }\n\n  // trpc state is serialized in the client\n  // so we need to deserialize it here\n  if (props.pageProps?.trpcState) {\n    props.pageProps.trpcState = transformer.input.deserialize(props.pageProps.trpcState);\n  }\n\n  return props;\n}", "CodeBleu_score": 32.27731565602385}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\tconst { ctx, AppTree } = appOrPageCtx;\n\nif (ctx) {\nconst { AppTree, Component, router, ctx } = appOrPageCtx;\n\nconst config = getClientConfig({});\nconst queryClient = getQueryClient(config);\nconst trpcClient = trpc.createClient(config);\n\nconst ssrContext = ctx;\nconst ssrState = opts.ssr ? ('prepass' as const) : (false as const);\n\nconst prepassProps = {\nabortOnUnmount: config.abortOnUnmount,\nqueryClient,\ntrpcClient,\nssrState,\nssrContext,\n};\n\nconst trpcState = ctx.pageProps?.trpcState;\n\nconst hydratedState = React.useMemo(() => {\nif (!trpcState) {\nreturn trpcState;\n}\n\nreturn transformer.input.deserialize(trpcState);\n// eslint-disable-next-line react-hooks/exhaustive-deps\n}, [trpcState, trpcClient]);\n\nreturn {\npageProps: {\n...(await AppTree.getInitialProps(appOrPageCtx)),\ntrpc: prepassProps,\n},\n};\n}\n\nreturn {\npageProps: {\n...(await AppTree.getInitialProps(appOrPageCtx)),\n},\n};\n}", "CodeBleu_score": 24.15533688783419}]}
{"instance_id": "b46c87572278", "generation_result": [{"code": "export function formDataToObject(formData: FormData){\n\t\tconst obj: Record<string, unknown> = {};\n\tfor (const [key, value] of formData.entries()) {\n\t\tset(obj, key.split(\".\"), value);\n\t}\n\treturn obj;\n}", "CodeBleu_score": 50.83938560707}, {"code": "export function formDataToObject(formData: FormData){\n\t\tconst obj: Record<string, any> = {};\n\tfor (const [key, value] of formData.entries()) {\n\t\tset(obj, key.split(\".\"), value);\n\t}\n\treturn obj;\n}", "CodeBleu_score": 46.86035412381847}, {"code": "export function formDataToObject(formData: FormData){\n\t\tconst result: Record<string, any> = {};\n\n\tfor (const [key, value] of formData.entries()) {\n\t\tset(result, key.split('.'), value);\n\t}\n\n\treturn result;\n}", "CodeBleu_score": 42.26634537062892}]}
{"instance_id": "b63467546c58", "generation_result": [{"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst body = await req.json();\n\tif (typeof body.cacheTag !== 'string') {\n\t\treturn new Response(\n\t\t\tJSON.stringify({\n\t\t\t\tmessage: 'Invalid cacheTag',\n\t\t\t}),\n\t\t\t{\n\t\t\t\tstatus: 400,\n\t\t\t},\n\t\t);\n\t}\n\trevalidateTag(body.cacheTag);\n\treturn new Response(\n\t\tJSON.stringify({\n\t\t\tmessage: 'Cache tag revalidated',\n\t\t\ttimestamp: Date.now(),\n\t\t}),\n\t\t{\n\t\t\tstatus: 200,\n\t\t},\n\t);\n}", "CodeBleu_score": 48.11760692979629}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst { body } = req;\n\tif (typeof body !== 'string') {\n\t\treturn {\n\t\t\tstatus: 400,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tmessage: 'body must be a string',\n\t\t\t}),\n\t\t};\n\t}\n\tconst cacheTag = JSON.parse(body);\n\tif (typeof cacheTag !== 'string') {\n\t\treturn {\n\t\t\tstatus: 400,\n\t\t\tbody: JSON.stringify({\n\t\t\t\tmessage: 'body must be a string',\n\t\t\t}),\n\t\t};\n\t}\n\trevalidateTag(cacheTag);\n\treturn {\n\t\tstatus: 200,\n\t\tbody: JSON.stringify({\n\t\t\tmessage: 'success',\n\t\t\ttimestamp: Date.now(),\n\t\t}),\n\t};\n}", "CodeBleu_score": 36.60786773619237}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst body = await req.json();\n\tconst cacheTag = body?.cacheTag;\n\tif (typeof cacheTag !== 'string') {\n\t\treturn new Response('Invalid cacheTag', {\n\t\t\tstatus: 400,\n\t\t});\n\t}\n\trevalidateTag(cacheTag);\n\treturn new Response(JSON.stringify({ timestamp: Date.now() }), {\n\t\tstatus: 200,\n\t});\n}", "CodeBleu_score": 50.99233196835079}]}
{"instance_id": "4cc5d9754d1f", "generation_result": [{"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t", "CodeBleu_score": 1.568582059525271}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t\\treturn <TClient extends TRPCUntypedClient<TRouter>>(\n\\t\\tclient: TClient,\n\\t\\toptions: CreateTRPCClientOptions<TRouter>,\n\\t): UseProcedureRecord<TRouter['root'], TRouter['routes']> {\n\\t\\treturn createRecursiveProxy(\n\\t\\t\\tclient,\n\\t\\t\\t(path, args) => client.query(path, args, options),\n\\t\\t\\t(path, args) => client.mutation(path, args, options),\n\\t\\t);\n\\t};\n}", "CodeBleu_score": 40.5028647064556}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t\treturn <TClient extends TRPCUntypedClient<TRouter>>(client: TClient, options: CreateTRPCClientOptions) => {\n\t\treturn createRecursiveProxy(\n\t\t\toptions.path,\n\t\t\t(path, args) =>\n\t\t\t\tclient.query(path, args, {\n\t\t\t\t\tonError: options.onError,\n\t\t\t\t\tonSuccess: options.onSuccess,\n\t\t\t\t\tonFinal: options.onFinal,\n\t\t\t\t\tsignal: options.signal,\n\t\t\t\t\theaders: options.headers,\n\t\t\t\t\tquery: options.query,\n\t\t\t\t\tcontext: options.context,\n\t\t\t\t}),\n\t\t\t(path, args) =>\n\t\t\t\tclient.mutation(path, args, {\n\t\t\t\t\tonError: options.onError,\n\t\t\t\t\tonSuccess: options.onSuccess,\n\t\t\t\t\tonFinal: options.onFinal,\n\t\t\t\t\tsignal: options.signal,\n\t\t\t\t\theaders: options.headers,\n\t\t\t\t\tquery: options.query,\n\t\t\t\t\tcontext: options.context,\n\t\t\t\t}),\n\t\t) as UseProcedureRecord<TRouter['_def']['root'], TRouter['_def']['procedures']>;\n\t};\n}", "CodeBleu_score": 35.788206354287034}]}
{"instance_id": "ec07b15792dd", "generation_result": [{"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\treturn (\n<AccordionPrimitive>\n<AccordionPrimitive.Button className=\\\"relative w-full flex justify-between items-center text-left px-4 py-4 text-xl font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-75\\\">\n{name}\n<span className=\\\"ml-6 flex items-center\\\">\n<svg className=\\\"w-5 h-5 text-gray-400\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"currentColor\\\">\n<path fillRule=\\\"evenodd\\\" d=\\\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\\\" clipRule=\\\"evenodd\\\" />\n</svg>\n</span>\n</AccordionPrimitive.Button>\n<AccordionPrimitive.Panel className=\\\"px-4 pt-4 pb-2 text-sm text-gray-500\\\">\n{child}\n</AccordionPrimitive.Panel>\n</AccordionPrimitive>\n);\n}", "CodeBleu_score": 40.59477659550154}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t\treturn (\n\t\t<AccordionPrimitive>\n\t\t\t<AccordionPrimitive.Button className=\\\"relative w-full flex justify-between items-center text-left px-4 py-4 text-sm font-medium text-gray-900 bg-white hover:bg-gray-50 focus:outline-none\\\">\n\t\t\t\t<span>{name}</span>\n\t\t\t\t<span className=\\\"ml-3 flex items-center text-sm\\\">\n\t\t\t\t\t<svg className=\\\"w-4 h-4 transition duration-150 ease-in-out transform\\\" fill=\\\"currentColor\\\" viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" d=\\\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\\\" clip-rule=\\\"evenodd\\\" /></svg>\n\t\t\t\t</span>\n\t\t\t</AccordionPrimitive.Button>\n\t\t\t<AccordionPrimitive.Panel>\n\t\t\t\t{child}\n\t\t\t</AccordionPrimitive.Panel>\n\t\t</AccordionPrimitive>\n\t);\n}", "CodeBleu_score": 44.26026314461212}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t\tconst [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n\n  return (\n    <div className=\\\"bg-white shadow-md rounded-lg overflow-hidden\\\">\n      <AccordionPrimitive.Button className=\\\"flex justify-between items-center w-full px-4 py-2 text-sm font-medium text-left text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-75\\\" onClick={handleClick}>\n        <span>{name}</span>\n        <AccordionPrimitive.Icon as={FaChevronDown} className=\\\"w-5 h-5 text-gray-400\\\" aria-hidden=\\\"true\\\" />\n      </AccordionPrimitive.Button>\n      <AccordionPrimitive.Panel className=\\\"px-4 pt-4 pb-2 text-sm text-gray-500\\\" hidden={open}>\n        {child}\n      </AccordionPrimitive.Panel>\n    </div>\n  );\n}", "CodeBleu_score": 41.222576609414915}]}
{"instance_id": "728fa96ca3cf", "generation_result": [{"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\treturn (\n\t\t<MenuPrimitive as=\\\"div\\\" className=\\\"relative inline-block text-left\\\">\n    <MenuPrimitive.Button className={clsx(buttonPosition === \\\"top\\\" && \\\"rounded-t-none\\\", buttonPosition === \\\"bottom\\\" && \\\"rounded-b-none\\\", \\\"relative w-full px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-md\\\")}>\n      {icon && icon}\n      {name && <span className=\\\"ml-3\\\">{name}</span>}\n      {chevron && <FaChevronDown className=\\\"ml-2 -mr-1 h-5 w-5 text-gray-400\\\" aria-hidden=\\\"true\\\" />}\n    </MenuPrimitive.Button>\n    <Transition\n      as={Fragment}\n      enter=\\\"transition ease-out duration-100\\\"\n      enterFrom=\\\"transform opacity-0 scale-95\\\"\n      enterTo=\\\"transform opacity-100 scale-100\\\"\n      leave=\\\"transition ease-in duration-75\\\"\n      leaveFrom=\\\"transform opacity-100 scale-100\\\"\n      leaveTo=\\\"transform opacity-0 scale-95\\\"\n    >\n      <MenuPrimitive.Items className=\\\"absolute right-0 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\\\">\n        {items}\n      </MenuPrimitive.Items>\n    </Transition>\n  </MenuPrimitive>\n);\n}", "CodeBleu_score": 30.057931504958475}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\treturn (\n\t\t<MenuPrimitive.Root>\n\t\t\t<MenuPrimitive.Trigger asChild>\n\t\t\t\t<MenuButton\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tname={name}\n\t\t\t\t\tchevron={chevron}\n\t\t\t\t\tbuttonPosition={buttonPosition}\n\t\t\t\t/>\n\t\t\t</MenuPrimitive.Trigger>\n\t\t\t<MenuPrimitive.Content className=\"absolute z-50 w-56 mt-2 origin-top-right rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n\t\t\t\t<div className=\"py-1\">\n\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t<MenuPrimitive.Item key={item.key}>\n\t\t\t\t\t\t\t{item}\n\t\t\t\t\t\t</MenuPrimitive.Item>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</MenuPrimitive.Content>\n\t\t</MenuPrimitive.Root>\n\t);\n}", "CodeBleu_score": 45.14451869796671}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t", "CodeBleu_score": 4.074838142991542}]}
{"instance_id": "a2733fb19224", "generation_result": [{"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\tconst scrollTop = event.currentTarget.scrollTop;\nconst scrollHeight = event.currentTarget.scrollHeight;\nconst clientHeight = event.currentTarget.clientHeight;\nconst hasScrolled = scrollTop + clientHeight >= scrollHeight - 10;\nif (hasScrolled) {\nsetHasUserScrolled(true);\n}\n}", "CodeBleu_score": 36.60276481964654}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\\tconst scrollTop = event.currentTarget.scrollTop;\n\\tconst scrollHeight = event.currentTarget.scrollHeight;\n\\tconst clientHeight = event.currentTarget.clientHeight;\n\n\\tif (scrollTop + clientHeight === scrollHeight) {\n\\t\\tsetHasUserScrolled(true);\n\\t}\n}", "CodeBleu_score": 35.793338630363344}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\tconst { scrollTop, scrollHeight, clientHeight } = event.currentTarget;\n\tconst hasUserScrolled = scrollTop + clientHeight >= scrollHeight - 10;\n\tsetHasUserScrolled(hasUserScrolled);\n}", "CodeBleu_score": 67.9477977043149}]}
{"instance_id": "128baf9be3e8", "generation_result": [{"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current && scrollRef.current.scrollIntoView) {\n\t\tscrollRef.current.scrollIntoView({ behavior });\n\t}\n}", "CodeBleu_score": 36.9491965987809}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current && scrollRef.current.scrollTo) {\n\t\tscrollRef.current.scrollTo({\n\t\t\ttop: scrollRef.current.scrollHeight,\n\t\t\tbehavior: behaviour,\n\t\t});\n\t}\n}", "CodeBleu_score": 62.223685143279006}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current) {\n\t\tscrollRef.current.scrollTo({\n\t\t\ttop: scrollRef.current.scrollHeight,\n\t\t\tbehavior: behaviour,\n\t\t});\n\t}\n}", "CodeBleu_score": 59.613644254076995}]}
{"instance_id": "070c4b1ac0b5", "generation_result": [{"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId) as HTMLDivElement;\n\tif (element) {\n\t\tconst style = window.getComputedStyle(element);\n\t\tconst { paddingTop, paddingRight, paddingBottom, paddingLeft } = style;\n\t\tconst padding = parseInt(paddingTop) + parseInt(paddingRight) + parseInt(paddingBottom) + parseInt(paddingLeft);\n\t\tconst width = element.clientWidth - padding;\n\t\tconst height = element.clientHeight - padding;\n\t\tconst options = {\n\t\t\tstyle: {\n\t\t\t\ttransform: `scale(${width / 1000})`,\n\t\t\t\ttransformOrigin: \"left top\",\n\t\t\t\twidth: `${width}px`,\n\t\t\t\theight: `${height}px`,\n\t\t\t},\n\t\t\tfilter: (node) => {\n\t\t\t\tif (node.classList && node.classList.contains(\"MuiButton-root\")) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (node.tagName === \"svg\") {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t};\n\t\thtmlToImage.toJpeg(element, options).then((dataUrl) => {\n\t\t\tconst link = document.createElement(\"a\");\n\t\t\tlink.download = \"agent-gpt-output.png\";\n\t\t\tlink.href = dataUrl;\n\t\t\tlink.click();\n\t\t}).catch(() => {\n\t\t\talert(t(\\\"error-saving-image\\\"));\n\t\t});\n\t}\n}", "CodeBleu_score": 43.53525516486731}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (element) {\n\t\tconst style = getComputedStyle(element);\n\t\tconst width = parseFloat(style.width.replace(\"px\", \"\"));\n\t\tconst height = parseFloat(style.height.replace(\"px\", \"\"));\n\t\tconst scale = 2;\n\t\tconst config = {\n\t\t\twidth: width * scale,\n\t\t\theight: height * scale,\n\t\t\tstyle: { transform: `scale(${scale})` },\n\t\t};\n\t\thtmlToImage.toJpeg(element, config)\n\t\t\t.then((dataUrl) => {\n\t\t\t\tconst link = document.createElement(\\\"a\\\");\n\t\t\t\tlink.download = \\\"agent-gpt-output.png\\\";\n\t\t\t\tlink.href = dataUrl;\n\t\t\t\tlink.click();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert(t(\\\"error-saving-image\\\"));\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t}\n}", "CodeBleu_score": 43.77890509551145}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\n\tif (element) {\n\t\tconst style = getComputedStyle(element);\n\t\tconst padding = parseInt(style.getPropertyValue(\"padding-top\"), 10) + parseInt(style.getPropertyValue(\"padding-bottom\"), 10);\n\t\tconst margin = parseInt(style.getPropertyValue(\"margin-top\"), 10) + parseInt(style.getPropertyValue(\"margin-bottom\"), 10);\n\t\tconst border = parseInt(style.getPropertyValue(\"border-top-width\"), 10) + parseInt(style.getPropertyValue(\"border-bottom-width\"), 10);\n\n\t\tconst height = element.offsetHeight + padding + margin + border;\n\t\tconst width = element.offsetWidth;\n\n\t\tconst options = {\n\t\t\tstyle: {\n\t\t\t\ttransform: \"scale(2)\",\n\t\t\t\ttransformOrigin: \"top left\",\n\t\t\t\theight: `${height}px`,\n\t\t\t\twidth: `${width}px`,\n\t\t\t\tpadding: 0,\n\t\t\t\tmargin: 0,\n\t\t\t\tborder: 0,\n\t\t\t},\n\t\t};\n\n\t\thtmlToImage.toJpeg(element, options)\n\t\t\t.then((dataUrl) => {\n\t\t\t\tconst link = document.createElement(\"a\");\n\t\t\t\tlink.download = \"agent-gpt-output.png\";\n\t\t\t\tlink.href = dataUrl;\n\t\t\t\tlink.click();\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\talert(t(\"error-saving-image\"));\n\t\t\t});\n\t}\n}", "CodeBleu_score": 47.89614177600963}]}
{"instance_id": "346ea48343da", "generation_result": [{"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (!element) {\n\t\treturn;\n\t}\n\n\tconst text = element.innerText;\n\tif (!navigator.clipboard) {\n\t\tconst textarea = document.createElement(\"textarea\");\n\t\ttextarea.value = text;\n\t\tdocument.body.appendChild(textarea);\n\t\ttextarea.focus();\n\t\ttextarea.select();\n\t\tdocument.execCommand(\"copy\");\n\t\ttextarea.remove();\n\t\treturn;\n\t}\n\n\tnavigator.clipboard.writeText(text);\n}", "CodeBleu_score": 52.289247210042255}, {"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (!element) {\n\t\treturn;\n\t}\n\tconst text = element.innerText;\n\n\tif (navigator.clipboard) {\n\t\tnavigator.clipboard.writeText(text);\n\t} else {\n\t\tconst textarea = document.createElement(\"textarea\");\n\t\ttextarea.value = text;\n\t\tdocument.body.appendChild(textarea);\n\t\ttextarea.select();\n\t\tdocument.execCommand(\"copy\");\n\t\ttextarea.remove();\n\t}\n}", "CodeBleu_score": 53.37889160487912}, {"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (!element) {\n\t\treturn;\n\t}\n\n\tconst text = element.innerText;\n\n\tif (navigator.clipboard) {\n\t\treturn navigator.clipboard.writeText(text);\n\t}\n\n\tconst textarea = document.createElement(\"textarea\");\n\ttextarea.value = text;\n\ttextarea.style.position = \"fixed\";\n\tdocument.body.appendChild(textarea);\n\ttextarea.focus();\n\ttextarea.select();\n\n\ttry {\n\t\treturn document.execCommand(\"copy\"); // Security exception may be thrown by some browsers.\n\t} catch (ex) {\n\t\tconsole.warn(\"Copy to clipboard failed.\", ex);\n\t\treturn false;\n\t} finally {\n\t\tdocument.body.removeChild(textarea);\n\t}\n}", "CodeBleu_score": 63.202621143136064}]}
{"instance_id": "25f193a0eddf", "generation_result": [{"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tif (inline) {\n  return <code className={className}>{children}</code>;\n}\nconst language = className ? className.replace(\\\"hljs \\\", \\\"\\\") : \\\"\\\";\nreturn (\n  <Highlight className={className} language={language}>\n    {children}\n  </Highlight>\n);\n}", "CodeBleu_score": 50.76046387787354}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\t\tconst language = extractLanguageName(className?.replace(\"hljs \", \"\") || \"\");\n\tconst codeString = extractTextFromNode(children);\n\n\treturn inline ? (\n\t\t<code className={className}>{codeString}</code>\n\t) : (\n\t\t<pre className={className}>\n\t\t\t<code className={`language-${language}`}>{codeString}</code>\n\t\t</pre>\n\t);\n}", "CodeBleu_score": 42.19718992824632}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\t\tconst language: string = className ? extractLanguageName(className.replace(\"hljs \", \"\")) : \"\";\n\treturn inline ? <code className={className}>{children}</code> : <pre className={className}><code className={language}>{children}</code></pre>;\n}", "CodeBleu_score": 42.30343687414159}]}
{"instance_id": "7ba7dfdc0ab6", "generation_result": [{"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t pandas.DataFrame.from_dict(data=data, orient='columns')\n  if (typeof node === \\\"string\\\") {\n    return node;\n  } else if (Array.isArray(node)) {\n    return node.map(extractTextFromNode).join(\\\"\\\");\n  } else if (isValidElement(node)) {\n    return extractTextFromNode(node.props.children);\n  }\n  return \\\"\\\";\n}", "CodeBleu_score": 58.58594564243005}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t numpy.ndarray[]\n  if (typeof node === \\\"string\\\") {\n    return node;\n  }\n\n  if (Array.isArray(node)) {\n    return node.map(extractTextFromNode).join(\\\"\\\");\n  }\n\n  if (React.isValidElement(node)) {\n    return extractTextFromNode(node.props.children);\n  }\n\n  return \\\"\\\";\n}", "CodeBleu_score": 62.507365437307804}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t django_mako_top-level-context\n\tif (typeof node === \\\"string\\\") { django_mako_top-level-context\n\t\treturn node;\n\t} else if (Array.isArray(node)) { django_mako_top-level-context\n\t\treturn node.map(extractTextFromNode).join(\\\"\\\");\n\t} else if (React.isValidElement(node)) { django_mako_top-level-context\n\t\treturn extractTextFromNode(node.props.children);\n\t} else { django_mako_top-level-context\n\t\treturn \\\"\\\";\n\t}\n}", "CodeBleu_score": 44.619743457209516}]}
{"instance_id": "a67cb8d31dde", "generation_result": [{"code": "const Summarize = () =>{\n\t\tconst { agent } = useAgentStore();\n\tconst { summary, setSummary } = useTaskStore();\n\n\treturn (\n\t\t<div className={clsx({ hidden: summary })}>\n\t\t\t<div className=\\\"flex flex-col items-center justify-center\\\">\n\t\t\t\t<p className=\\\"text-xl font-bold\\\">Summarize</p>\n\t\t\t\t<Button onClick={async () => {\n\t\t\t\t\tsetSummary(true);\n\t\t\t\t\tawait agent.summarize();\n\t\t\t\t}}>\n\t\t\t\t\tSummarize\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 23.02841793610625}, {"code": "const Summarize = () =>{\n\t\tconst agent = useAgentStore((state) => state.agent);\n\tconst lifecycle = useAgentStore((state) => state.lifecycle);\n\tconst completedTasks = useTaskStore((state) => state.completedTasks);\n\tconst [summary, setSummary] = React.useState(false);\n\n\tconst summarize = async () => {\n\t\tsetSummary(true);\n\t\tawait agent.summarize();\n\t};\n\n\tif (\n\t\t!agent ||\n\t\tlifecycle !== \\\"stopped\\\" ||\n\t\tcompletedTasks.length === 0 ||\n\t\tsummary\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={clsx(\\\"flex flex-col items-center justify-center w-full h-full\\\")}>\n\t\t\t<p className={clsx(\\\"text-xl text-center font-medium mb-4\\\")}>\n\t\t\t\tIt's time to summarize!\n\t\t\t</p>\n\t\t\t<Button onClick={summarize} className={clsx(\\\"w-full\\\")}>\n\t\t\t\tSummarize\n\t\t\t</Button>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 27.285913389813654}, {"code": "const Summarize = () =>{\n\t\tconst agent = useAgentStore((state) => state.agent);\n\tconst isSummarizing = useAgentStore((state) => state.isSummarizing);\n\tconst setSummarizing = useAgentStore((state) => state.setSummarizing);\n\tconst lifecycle = useAgentStore((state) => state.lifecycle);\n\tconst tasks = useTaskStore((state) => state.tasks);\n\tconst completedTasks = tasks.filter((task) => task.status === \\\"completed\\\");\n\tconst hasCompletedTasks = completedTasks.length > 0;\n\tconst hasSummary = useAgentStore((state) => state.hasSummary);\n\n\tconst summarize = () => {\n\t\tsetSummarizing(true);\n\t\tagent.summarize();\n\t};\n\n\tif (\n\t\t!agent\n\t\t|| lifecycle !== \\\"stopped\\\"\n\t\t|| !hasCompletedTasks\n\t\t|| hasSummary\n\t) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className={clsx(\\\"flex flex-col items-center gap-4\\\")} >\n\t\t\t<p className={clsx(\\\"text-lg font-medium text-center\\\")} >Summarize the conversation?</p>\n\t\t\t<Button onClick={summarize} >Summarize</Button>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 29.84385283831183}]}
{"instance_id": "983031b20224", "generation_result": [{"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider frontendApi={process.env.NEXT_PUBLIC_CLERK_FRONTEND_API} theme={dark} colorScheme=\"dark\">\n\t\t\t<TRPCReactProvider client={client}>{children}</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 17.21972875908449}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider frontendApi={frontendApi} theme={dark}>\n\t\t\t<TRPCReactProvider client={client}>{children}</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 12.956709528900886}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider frontendApi={frontendApi} theme={dark} styles={styles}>\n\t\t\t<TRPCReactProvider client={client}>{children}</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 13.580458537656673}]}
{"instance_id": "0ba912ee94c7", "generation_result": [{"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst pathname = usePathname();\n\tconst isActive = pathname === href;\n\n\treturn (\n\t\t<Link href={href}>\n\t\t\t<Button\n\t\t\t\tclassName={cn(\n\t\t\t\t\t'active-button',\n\t\t\t\t\t{ 'active-button--active': isActive },\n\t\t\t\t\t'flex items-center gap-x-2'\n\t\t\t\t)}\n\t\t\t\tvariant=\"ghost\"\n\t\t\t>\n\t\t\t\t{icon}\n\t\t\t\t<span className=\"active-button__label\">{label}</span>\n\t\t\t</Button>\n\t\t</Link>\n\t);\n}", "CodeBleu_score": 55.867299361358626}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst pathname = usePathname();\n\tconst active = pathname === href;\n\treturn (\n\t\t<Link href={href}>\n\t\t\t<a className={cn(active && 'active')}>\n\t\t\t\t<Button variant=\"ghost\" size=\"sm\" className=\"flex items-center space-x-2\">\n\t\t\t\t\t{icon}\n\t\t\t\t\t<span>{label}</span>\n\t\t\t\t</Button>\n\t\t\t</a>\n\t\t</Link>\n\t);\n}", "CodeBleu_score": 55.2336799987306}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst pathname = usePathname();\n\tconst active = pathname === href;\n\treturn (\n\t\t<Link href={href}>\n\t\t\t<a className={cn('active-button', { active })}>\n\t\t\t\t<Button variant=\"ghost\" size=\"lg\" icon={icon} label={label} />\n\t\t\t</a>\n\t\t</Link>\n\t);\n}", "CodeBleu_score": 50.87968973713907}]}
{"instance_id": "1fd5b7fdcc9b", "generation_result": [{"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t\treturn (\n\t\t<>\n\t\t\t<html lang=\"en\" />\n\t\t\t<head>\n\t\t\t\t<meta charSet=\"utf-8\" />\n\t\t\t\t<meta\n\t\t\t\t\tname=\"viewport\"\n\t\t\t\t\tcontent=\"minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no\"\n\t\t\t\t/>\n\t\t\t\t<link rel=\"icon\" href=\"/favicon.ico\" />\n\t\t\t\t<meta name=\"theme-color\" content=\"#000000\" />\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<ThemeProvider attribute=\"class\">\n\t\t\t\t\t<GeistMono />\n\t\t\t\t\t<GeistSans />\n\t\t\t\t\t<Toaster />\n\t\t\t\t\t<Analytics />\n\t\t\t\t\t<SpeedInsights />\n\t\t\t\t\t{children}\n\t\t\t\t</ThemeProvider>\n\t\t\t</body>\n\t\t</>\n\t);\n}", "CodeBleu_score": 26.624516200303212}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t", "CodeBleu_score": 2.1504693527306387}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t", "CodeBleu_score": 2.1504693527306387}]}
{"instance_id": "390ef9405b57", "generation_result": [{"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\treturn (\n\t\t<a\n\t\t\t{...props}\n\t\t\tclassName={twMerge(\n\t\t\t\tclassName,\n\t\t\t\tbutton({ intent, size, underline }),\n\t\t\t)}\n\t\t/>\n\t)\n}", "CodeBleu_score": 26.712097369009573}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\tconst classes = twMerge(\n\t\tbutton,\n\t\tintent === \\\"primary\\\" ? button.variants.intent.primary : button.variants.intent.secondary,\n\t\tsize === \\\"sm\\\" ? button.variants.size.sm : button.variants.size.lg,\n\t\tunderline ? button.variants.underline.true : button.variants.underline.false,\n\t\tclassName,\n\t)\n\treturn <a className={classes} {...props} />\n}", "CodeBleu_score": 12.870979968115408}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\tconst classes = twMerge(\n\t\tbutton,\n\t\tclassName,\n\t\tintent === \\\"primary\\\" ? button.variants.intent.primary : button.variants.intent.secondary,\n\t\tsize === \\\"sm\\\" ? button.variants.size.sm : button.variants.size.lg,\n\t\tunderline ? button.variants.underline.true : button.variants.underline.false,\n\t)\n\n\treturn <a className={classes} {...props} />\n}", "CodeBleu_score": 12.870979968115408}]}
{"instance_id": "aa655671cb7e", "generation_result": [{"code": "export function middleware(request: NextRequest){\n\t\tconst host = request.headers.get('host')\n\tif (host?.includes('next-enterprise.vercel.app')) {\n\t\treturn NextResponse.redirect('https://blazity.com/open-source/nextjs-enterprise-boilerplate', 301)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 28.856444475577188}, {"code": "export function middleware(request: NextRequest){\n\t\tif (request.headers.get('host')?.includes('next-enterprise.vercel.app')) {\n\t\treturn NextResponse.redirect('https://blazity.com/open-source/nextjs-enterprise-boilerplate', 301)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 30.743672431091834}, {"code": "export function middleware(request: NextRequest){\n\t\tconst host = request.headers.get(\\\"host\\\")\n\tconst url = new URL(request.url)\n\tif (host === \\\"next-enterprise.vercel.app\\\") {\n\t\treturn NextResponse.redirect(\n\t\t\t\\\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\\\",\n\t\t\t301\n\t\t)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 19.67580486441007}]}
{"instance_id": "b33fa69187fb", "generation_result": [{"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this._router) {\n\t\tthis._router = new Router({\n\t\t\tcaseSensitive: this.enabled('case sensitive routing'),\n\t\t\tstrict: this.enabled('strict routing')\n\t\t});\n\n\t\tthis._router.use(query(this.get('query parser fn')));\n\t\tthis._router.use(init(this));\n\t}\n\treturn this._router;\n}", "CodeBleu_score": 60.80067323358542}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this._router) {\n\t\tthis._router = new Router({\n\t\t\tcaseSensitive: this.enabled('case sensitive routing'),\n\t\t\tstrict: this.enabled('strict routing')\n\t\t});\n\n\t\tthis._router.use(query(this.get('query parser fn')));\n\t\tthis._router.use(init(this));\n\t}\n\n\treturn this._router;\n}", "CodeBleu_score": 60.80067323358542}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this._router) {\n\t\tthis._router = new Router({\n\t\t\tcaseSensitive: this.enabled('case sensitive routing'),\n\t\t\tstrict: this.enabled('strict routing')\n\t\t});\n\n\t\tthis._router.use(query(this.get('query parser fn')));\n\t\tthis._router.use(init(this));\n\t}\n\n\treturn this._router;\n}", "CodeBleu_score": 60.80067323358542}]}
{"instance_id": "7aadf79801c0", "generation_result": [{"code": "function createApplication(){\n\t\t// create app prototype\n\tvar app = function(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t};\n\n\t// mixin EventEmitter\n\tmixin(app, EventEmitter.prototype, false);\n\n\t// mixin prototypes\n\tmixin(app, proto, false);\n\n\t// add protos\n\tapp.Request = Object.create(req, {\n\t\tconstructor: {\n\t\t\tvalue: app.Request,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\tapp.Response = Object.create(res, {\n\t\tconstructor: {\n\t\t\tvalue: app.Response,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\t// expose the prototype\n\tapp.application = app;\n\n\t// expose the request and response\n\tapp.request = Object.create(app.Request.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: app.request,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\tapp.response = Object.create(app.Response.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: app.response,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\t// expose app\n\tapp.app = app.request.app = app.response.app = app;\n\n\t// init app\n\tapp.init();\n\n\treturn app;\n}", "CodeBleu_score": 61.459773411367735}, {"code": "function createApplication(){\n\t\t// create an app object to return\n\tvar app = function(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t};\n\n\t// inherit from EventEmitter\n\tmixin(app, EventEmitter.prototype, false);\n\n\t// expose the prototype that will be assigned to requests and responses\n\tapp.request = Object.create(req, {\n\t\tapp: {get: function() { return app; }},\n\t\t__proto__: {value: app}\n\t});\n\tapp.response = Object.create(res, {\n\t\tapp: {get: function() { return app; }},\n\t\t__proto__: {value: app}\n\t});\n\n\t// expose the prototype that will be assigned to routes\n\tapp.Route = Object.create(Route, {\n\t\tapp: {get: function() { return app; }},\n\t\t__proto__: {value: app}\n\t});\n\n\t// expose the prototype that will be assigned to routers\n\tapp.Router = Object.create(Router, {\n\t\tapp: {get: function() { return app; }},\n\t\t__proto__: {value: app}\n\t});\n\n\t// expose the app object as a function property of the module\n\tapp.init = init;\n\tapp.handle = handle;\n\tapp.set = set;\n\tapp.enable = enable;\n\tapp.disable = disable;\n\tapp.enabled = enabled;\n\tapp.disabled = disabled;\n\tapp.use = use;\n\tapp.engine = engine;\n\tapp.param = param;\n\tapp.route = route;\n\tapp.all = all;\n\tapp.del = del;\n\tapp.delete = delete;\n\tapp.get = get;\n\tapp.head = head;\n\tapp.post = post;\n\tapp.put = put;\n\tapp.patch = patch;\n\tapp.options = options;\n\n\t// return the app object\n\treturn app;\n}", "CodeBleu_score": 52.956512628277196}, {"code": "function createApplication(){\n\t\tvar app = function(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t};\n\n\tmixin(app, EventEmitter.prototype, false);\n\tmixin(app, proto, false);\n\n\t// expose the prototype that will get set on requests\n\tapp.request = Object.create(req, {\n\t\tapp: { configurable: true, enumerable: true, writable: true, value: app }\n\t});\n\n\t// expose the prototype that will get set on responses\n\tapp.response = Object.create(res, {\n\t\tapp: { configurable: true, enumerable: true, writable: true, value: app }\n\t});\n\n\t// expose the app object prototype that will be assigned to requests and responses\n\tapp.context = Object.create(app.request, {\n\t\tapp: { configurable: true, enumerable: true, writable: true, value: app }\n\t});\n\n\t// request prototype\n\tapp.request.__proto__ = app.context;\n\n\t// response prototype\n\tapp.response.__proto__ = app.context;\n\n\t// response prototype\n\tapp.route = app.mountpath = '/';\n\tapp.stack = [];\n\tapp.init();\n\treturn app;\n}", "CodeBleu_score": 85.4009202494972}]}
{"instance_id": "2b4af4a14e81", "generation_result": [{"code": "res.sendFile = function sendFile(path, options, callback) {\n\t", "CodeBleu_score": 3.373203616900878}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t// resolve the path relative to the views directory\nvar fullPath = resolve(path);\n\n// check if path is relative to root\nif (options.root && fullPath.indexOf(options.root) !== 0) {\n  var err = new Error('path \\'' + fullPath + '\\' does not reside within root directory \\'' + options.root + '\\'');\n  err.status = 403;\n  return callback(err);\n}\n\n// read file information\nfs.stat(fullPath, function(err, stat) {\n  if (err) {\n    // invoke callback with error\n    return callback(err);\n  }\n\n  // populate Content-Type\n  var type = mime.lookup(fullPath);\n  var charset = mime.charsets.lookup(type, 'utf8');\n  this.set('Content-Type', type + (charset ? '; charset=' + charset : ''));\n\n  // populate Content-Length\n  this.set('Content-Length', stat.size);\n\n  // populate Last-Modified\n  this.set('Last-Modified', stat.mtime);\n\n  // populate ETag\n  var etag = crypto.createHash('md5');\n  etag.update(fullPath);\n  etag.update(String(stat.mtime));\n  this.set('ETag', etag.digest('base64'));\n\n  // populate Content-Disposition\n  var disposition = options.headers['content-disposition'] || options.headers['Content-Disposition'];\n  if (!disposition) {\n    if (options.dotfiles !== 'allow' && path[0] === '.') {\n      return callback();\n    }\n    var filename = path.substring(path.lastIndexOf('/') + 1, path.length);\n    disposition = 'attachment; filename=\"' + encodeFilename(filename) + '\"';\n  }\n  this.set('Content-Disposition', disposition);\n\n  // read file\n  var stream = fs.createReadStream(fullPath);\n\n  // stream file\n  stream.on('error', callback);\n  stream.on('end', function() {\n    callback();\n  });\n  this.body = stream;\n});\n}", "CodeBleu_score": 33.576154608794425}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t", "CodeBleu_score": 3.373203616900878}]}
{"instance_id": "24ba2258749d", "generation_result": [{"code": "View.prototype.lookup = function lookup(name){\n\t\tvar roots = this.root;\n\n\t// root is a string\n\tif (typeof roots === 'string') {\n\t\treturn this.lookupPath(roots, name);\n\t}\n\n\t// root is an array\n\tfor (var i = 0; i < roots.length; i++) {\n\t\tvar path = this.lookupPath(roots[i], name);\n\t\tif (path) {\n\t\t\treturn path;\n\t\t}\n\t}\n}", "CodeBleu_score": 27.22569745018943}, {"code": "View.prototype.lookup = function lookup(name){\n\t\tvar roots = Array.isArray(this.root) ? this.root : [this.root];\n\tvar len = roots.length;\n\tvar i = -1;\n\tvar path;\n\n\twhile (++i < len) {\n\t\tpath = resolve(join(roots[i], name));\n\n\t\tif (fs.existsSync(path)) {\n\t\t\treturn path;\n\t\t}\n\t}\n}", "CodeBleu_score": 25.783034885676926}, {"code": "View.prototype.lookup = function lookup(name){\n\t\tvar roots = Array.isArray(this.root) ? this.root : [this.root];\n\tvar len = roots.length;\n\tvar path;\n\n\tfor (var i = 0; i < len && !path; i++) {\n\t\tvar root = roots[i];\n\n\t\t// resolve root to absolute path\n\t\tvar absolute = resolve(root);\n\n\t\t// join path, name and ext\n\t\tpath = join(absolute, name);\n\t}\n\n\treturn path;\n}", "CodeBleu_score": 46.44514116634067}]}
{"instance_id": "4a3a45242878", "generation_result": [{"code": "module.exports = function query(options){\n\t\toptions = options || {};\n\n\tvar parser = options.parser || qs.parse;\n\n\treturn function query(req, res, next) {\n\t\tif (req.query) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = {};\n\n\t\tif (!req.url || 0 === req.url.indexOf('http')) {\n\t\t\treturn next();\n\t\t}\n\n\t\tvar query = parseUrl(req).query || '';\n\t\treq.query = parser(query);\n\n\t\tnext();\n\t};\n}", "CodeBleu_score": 39.646298167740404}, {"code": "module.exports = function query(options){\n\t\tvar opts = merge({\n\t\tarrayLimit: 100,\n\t\tdepth: 5,\n\t\tparameterLimit: 1000,\n\t\tparseArrays: true,\n\t\tplainObjects: true\n\t}, options);\n\n\tif (typeof opts.delimiter === 'string' || opts.delimiter instanceof RegExp) {\n\t\topts.delimiter = qs.delimiter(opts.delimiter);\n\t}\n\n\tvar parse = typeof opts.parseQueryString === 'function' ? opts.parseQueryString : qs.parse;\n\n\treturn function query(req, res, next) {\n\t\tif (req._queryparsed) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = {};\n\n\t\t// skip requests without a query string\n\t\tif (!req.url || req.method === 'HEAD') {\n\t\t\treturn next();\n\t\t}\n\n\t\tvar querystring = parseUrl(req).query;\n\n\t\t// unescape the query string\n\t\tif (querystring) {\n\t\t\tquerystring = decodeURIComponent(querystring);\n\t\t}\n\n\t\t// when the query string is empty\n\t\tif (querystring === '') {\n\t\t\treturn next();\n\t\t}\n\n\t\t// parse the query string\n\t\ttry {\n\t\t\treq.query = parse(querystring, opts);\n\t\t} catch (err) {\n\t\t\treturn next(err);\n\t\t}\n\n\t\t// make sure the query string is an object\n\t\tif (!req.query) {\n\t\t\treq.query = {};\n\t\t}\n\n\t\treq._queryparsed = true;\n\t\tnext();\n\t};\n}", "CodeBleu_score": 38.78726565702887}, {"code": "module.exports = function query(options){\n\t\toptions = options || {};\n\tvar defaults = {\n\t\tallowPrototypes: true,\n\t\tdelimiter: '&',\n\t\tdepth: 5,\n\t\tparameterLimit: 1000,\n\t\tparseArrays: true,\n\t\tplainObjects: true\n\t};\n\n\tvar opts = merge(defaults, options);\n\tvar parse = opts.parseQueryString || qs.parse;\n\n\tif (false === opts.allowPrototypes) {\n\t\tqs.parse = function (str) {\n\t\t\treturn parse(str, opts);\n\t\t};\n\t}\n\n\treturn function query(req, res, next) {\n\t\tif (req._queryparsed) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = {};\n\n\t\tif (!req.url || 0 === req.url.indexOf('http') || -1 === req.url.indexOf('?')) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = parse(parseUrl(req).query, opts);\n\t\treq._queryparsed = true;\n\t\tnext();\n\t};\n}", "CodeBleu_score": 39.809570679317105}]}
{"instance_id": "786ae7051b03", "generation_result": [{"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\t\n    return (\n        <FrameworkProvider framework={framework}>\n            <RoutingProvider modals={modals} basePath=\"activitypub\">\n                <DesignSystemApp className=\"gh-app\" designSystem={designSystem}>\n                    <MainContent />\n                </DesignSystemApp>\n            </RoutingProvider>\n        </FrameworkProvider>\n    );\n}", "CodeBleu_score": 66.62566180927556}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\t\n    return (\n        <RoutingProvider basepath=\"activitypub\" modals={modals}>\n            <FrameworkProvider framework={framework}>\n                <DesignSystemApp designSystem={designSystem}>\n                    <MainContent className=\"gh-main-content\"/>\n                </DesignSystemApp>\n            </FrameworkProvider>\n        </RoutingProvider>\n    );\n}", "CodeBleu_score": 59.30455508903116}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\treturn (\n<FrameworkProvider framework={framework}>\n<RoutingProvider basePath=\"activitypub\" modals={modals}>\n<DesignSystemApp className=\"activitypub-app\" designSystem={designSystem}>\n<MainContent />\n</DesignSystemApp>\n</RoutingProvider>\n</FrameworkProvider>\n);\n}", "CodeBleu_score": 62.36515447325104}]}
{"instance_id": "8100930f7ce7", "generation_result": [{"code": "const darkMode = () =>{\n\t\tconst colorScheme = window.localStorage.getItem('colorScheme') || 'light';\n\tif (colorScheme === 'light') {\n\t\treturn false;\n\t} else if (colorScheme === 'dark') {\n\t\treturn true;\n\t} else {\n\t\tconst parent = document.getElementById(ROOT_DIV_ID);\n\t\tif (parent) {\n\t\t\tconst rgb = parent.style.backgroundColor.match(\n\t\t\t\t/rgb\\\\((\\\\d+),\\\\s*(\\\\d+),\\\\s*(\\\\d+)\\\\)/\n\t\t\t);\n\t\t\tif (rgb) {\n\t\t\t\tconst contrast = contrastRatio(\n\t\t\t\t\trgb[1],\n\t\t\t\t\trgb[2],\n\t\t\t\t\trgb[3],\n\t\t\t\t\t255,\n\t\t\t\t\t255,\n\t\t\t\t\t255\n\t\t\t\t);\n\t\t\t\treturn contrast < 5;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}", "CodeBleu_score": 40.1012703055285}, {"code": "const darkMode = () =>{\n\t\tconst colorScheme = window.localStorage.getItem('colorScheme');\n\tif (colorScheme === 'dark') {\n\t\treturn true;\n\t} else if (colorScheme === 'light') {\n\t\treturn false;\n\t} else {\n\t\tconst backgroundColor = window.getComputedStyle(document.querySelector(`#${ROOT_DIV_ID}`)).backgroundColor;\n\t\tconst rgb = backgroundColor.match(/\\d+/g);\n\t\tif (rgb) {\n\t\t\tconst rgbArray = rgb.map(v => parseInt(v));\n\t\t\tconst contrast = contrast(rgbArray, [255, 255, 255]);\n\t\t\tif (contrast < 5) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 39.83606528578086}, {"code": "const darkMode = () =>{\n\t\tconst colorScheme = window.localStorage.getItem('colorScheme');\n\tif (colorScheme === 'dark') {\n\t\treturn true;\n\t} else if (colorScheme === 'light') {\n\t\treturn false;\n\t} else {\n\t\tconst parent = document.getElementById(ROOT_DIV_ID);\n\t\tconst rgb = parent.style.backgroundColor.replace('rgb(', '').replace(')', '').split(', ');\n\t\tconst rgb255 = [parseInt(rgb[0]), parseInt(rgb[1]), parseInt(rgb[2])];\n\t\tconst contrast = contrastRatio(rgb255, [255, 255, 255]);\n\t\treturn contrast < 5;\n\t}\n}", "CodeBleu_score": 43.16065757542387}]}
{"instance_id": "7da55fac8ceb", "generation_result": [{"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tconst {t} = useAppContext();\n\n\tif (title === null && !showCount) {\n\t\treturn null;\n\t}\n\n\tif (count === 1) {\n\t\treturn (\n\t\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('1 comment')}</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('{{amount}} comments', {amount: formatNumber(count)})}</div>\n\t);\n}", "CodeBleu_score": 44.22537949761289}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tconst {t} = useAppContext();\n\n\tif (title === null && !showCount) {\n\t\treturn null;\n\t}\n\n\tif (count === 1) {\n\t\treturn (\n\t\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('1 comment')}</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('{{amount}} comments', {amount: formatNumber(count)})}</div>\n\t);\n}", "CodeBleu_score": 44.22537949761289}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tconst {t} = useAppContext();\n\n\tif (title === null && !showCount) {\n\t\treturn null;\n\t}\n\n\tif (count === 1) {\n\t\treturn (\n\t\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('1 comment')}</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"text-[1.6rem] text-[rgba(0,0,0,0.5)] dark:text-[rgba(255,255,255,0.5)]\" data-testid=\"count\">{t('{{amount}} comments', {amount: formatNumber(count)})}</div>\n\t);\n}", "CodeBleu_score": 44.22537949761289}]}
{"instance_id": "1d104e0b7fc7", "generation_result": [{"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError('union_queryset requires at least one queryset')\n    querysets = []\n    for qs in args:\n        if qs is not None:\n            if isinstance(qs, models.Manager):\n                qs = qs.all()\n            querysets.append(qs)\n    if len(querysets) == 1:\n        return querysets[0]\n    if base_queryset is not None:\n        if isinstance(base_queryset, models.Manager):\n            base_queryset = base_queryset.all()\n        querysets.append(base_queryset)\n    if len(querysets) == 1:\n        return querysets[0]\n    return querysets[0].union(*querysets[1:])\n\n", "CodeBleu_score": 30.20649083526975}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError('At least one queryset must be provided')\n    if base_queryset:\n        return base_queryset.filter(id__in=set().union(*[qs.order_by().values_list('id', flat=True) for qs in args]))\n    else:\n        return args[0].model.objects.filter(id__in=set().union(*[qs.order_by().values_list('id', flat=True) for qs in args]))\n\n", "CodeBleu_score": 26.96132603373391}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError('union_queryset() requires at least one argument')\n    if len(args) == 1:\n        return args[0]\n    qs = args[0].order_by()\n    for arg in args[1:]:\n        qs = qs.union(arg.order_by())\n    if base_queryset:\n        return base_queryset.filter(id__in=qs)\n    return qs\n\n", "CodeBleu_score": 39.529414016065346}]}
{"instance_id": "96fe55f8e114", "generation_result": [{"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if not model:\n        model = self.model\n    if not model:\n        raise ValueError(\"RecordViewLogMixin requires a model.\")\n    org = current_org()\n    if not org:\n        raise ValueError(\"RecordViewLogMixin requires a current organization.\")\n    if not isinstance(ids, list):\n        ids = [ids]\n    with translation.override(\"en\"):\n        model_name = model._meta.verbose_name\n        if action == ActivityChoices.CREATE:\n            create_or_update_operate_log(\n                action,\n                org=org,\n                model_name=model_name,\n                resource_id=ids[0],\n                detail=detail,\n                **kwargs,\n            )\n        elif action == ActivityChoices.UPDATE:\n            create_or_update_operate_log(\n                action,\n                org=org,\n                model_name=model_name,\n                resource_id=ids[0],\n                detail=detail,\n                **kwargs,\n            )\n        elif action == ActivityChoices.DELETE:\n            create_or_update_operate_log(\n                action,\n                org=org,\n                model_name=model_name,\n                resource_id=ids[0],\n                detail=detail,\n                **kwargs,\n            )\n        else:\n            raise ValueError(\"Invalid action.\")\n    activity_logs = [\n        ActivityLog(\n            action=action,\n            org=org,\n            model_name=model_name,\n            resource_id=resource_id,\n            detail=detail,\n            **kwargs,\n        )\n        for resource_id in ids\n    ]\n    ActivityLog.objects.bulk_create(activity_logs)\n", "CodeBleu_score": 47.14366205324666}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if not ids:\n        return\n    if not model:\n        model = self.model\n    if not model._meta.verbose_name_plural:\n        raise ValueError(f\"Model {model} must have a verbose_name_plural attribute.\")\n    model_name = model._meta.verbose_name_plural.lower()\n    org = current_org()\n    if not org:\n        raise ValueError(\"Organization is not defined.\")\n    with translation.override(\"en\"):\n        for id in ids:\n            create_or_update_operate_log(\n                user=self.request.user,\n                action=action,\n                resource_id=id,\n                resource_type=model_name,\n                detail=detail,\n                org_id=org.id,\n                **kwargs,\n            )\n    activity_logs = [\n        ActivityLog(\n            user=self.request.user,\n            action=action,\n            resource_id=id,\n            resource_type=model_name,\n            detail=detail,\n            org_id=org.id,\n            **kwargs,\n        )\n        for id in ids\n    ]\n    ActivityLog.objects.bulk_create(activity_logs)\n", "CodeBleu_score": 39.82958624900079}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    translation.activate(\"en\")\n    if model is None:\n        model = self.model\n    if model is None:\n        raise ValueError(\"model must be provided\")\n    if not issubclass(model, Model):\n        raise ValueError(\"model must be a subclass of django.db.models.Model\")\n    resource_name = model._meta.verbose_name\n    resource_type = model._meta.verbose_name_plural\n    org = current_org()\n    activity_logs = [\n        ActivityLog(\n            organization=org,\n            actor=self.request.user,\n            action=action,\n            resource_type=resource_type,\n            resource_name=resource_name,\n            resource_id=resource_id,\n            detail=detail,\n            **kwargs,\n        )\n        for resource_id in ids\n    ]\n    create_or_update_operate_log(self.request.user, action, detail)\n    ActivityLog.objects.bulk_create(activity_logs)\n", "CodeBleu_score": 52.1042209015559}]}
{"instance_id": "9e851c424f45", "generation_result": [{"code": "def prepare_django_request(self, request)\n\t\n    result = {\n        'https': self.is_secure(),\n        'http_host': request.META['HTTP_HOST'],\n        'script_name': request.META['PATH_INFO'],\n        'get_data': request.GET.copy(),\n        'post_data': request.POST.copy()\n    }\n    return result\n\n", "CodeBleu_score": 71.90521879837722}, {"code": "def prepare_django_request(self, request)\n\t\n    result = dict()\n    result['https'] = self.is_secure()\n    result['http_host'] = request.META['HTTP_HOST']\n    result['script_name'] = request.META['PATH_INFO']\n    result['get_data'] = request.GET.copy()\n    result['post_data'] = request.POST.copy()\n    return result\n\n", "CodeBleu_score": 27.169118414567528}, {"code": "def prepare_django_request(self, request)\n\t\n    result = {\n        'https': 'on' if request.is_secure() else 'off',\n        'http_host': request.META['HTTP_HOST'],\n        'script_name': request.META['PATH_INFO'],\n        'get_data': request.GET.copy(),\n        'post_data': request.POST.copy()\n    }\n    return result\n\n", "CodeBleu_score": 63.791134015071826}]}
{"instance_id": "dcea4bd482c4", "generation_result": [{"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tvar cookies = document.cookie.split(';');\n\tfor (var i = 0; i < cookies.length; i++) {\n\t\tvar cookie = cookies[i].split('=');\n\t\tif (cookie[0].trim() === 'django_language') {\n\t\t\tlang = cookie[1];\n\t\t}\n\t}\n\treturn lang;\n}", "CodeBleu_score": 37.639205397775186}, {"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tvar langCookie = document.cookie.match(/django_language=([^;]+)/);\n\tif (langCookie) {\n\t\tlang = langCookie[1];\n\t}\n\treturn lang;\n}", "CodeBleu_score": 35.72728222244147}, {"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tif (document.cookie.indexOf('django_language=en') !== -1) {\n\t\tlang = 'en-US';\n\t}\n\treturn lang;\n}", "CodeBleu_score": 28.23529585129648}]}
{"instance_id": "fd6824a005d5", "generation_result": [{"code": "function reloadPage(){\n\t\tsetTimeout(function() {\n\t\twindow.location.reload();\n\t}, 300);\n}", "CodeBleu_score": 55.661645246591554}, {"code": "function reloadPage(){\n\t\tsetTimeout(function() {\n\t\twindow.location.reload();\n\t}, 300);\n}", "CodeBleu_score": 55.661645246591554}, {"code": "function reloadPage(){\n\t\tsetTimeout(function () {\n\t\twindow.location.reload(true);\n\t}, 300);\n}", "CodeBleu_score": 36.78077631148059}]}
{"instance_id": "b32d5862b6b1", "generation_result": [{"code": "function fillKey(key){\n\t\tvar buf = new Uint8Array(16);\n\tvar keyBuffer = new Uint8Array(key);\n\tfor (var i = 0; i < 16; i++) {\n\t\tif (i < keyBuffer.length) {\n\t\t\tbuf[i] = keyBuffer[i];\n\t\t} else {\n\t\t\tbuf[i] = 0;\n\t\t}\n\t}\n\treturn buf;\n}", "CodeBleu_score": 31.722897995231282}, {"code": "function fillKey(key){\n\t\tvar buffer = Buffer.alloc(16);\n\tvar keyBuffer = Buffer.from(key);\n\tif (keyBuffer.length > 16) {\n\t\tkeyBuffer = keyBuffer.slice(0, 16);\n\t}\n\tbuffer.fill(keyBuffer);\n\treturn buffer;\n}", "CodeBleu_score": 24.291831322137984}, {"code": "function fillKey(key){\n\t\tvar buf = Buffer.alloc(16);\n\tvar keyBuf = Buffer.from(key);\n\tif (keyBuf.length > 16) {\n\t\tkeyBuf = keyBuf.slice(0, 16);\n\t}\n\tkeyBuf.copy(buf);\n\treturn buf;\n}", "CodeBleu_score": 23.525122920403945}]}
{"instance_id": "c839d19e0833", "generation_result": [{"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text === '') {\n\t\treturn text\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text)\n}", "CodeBleu_score": 47.88697317180289}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (!text) {\n\t\treturn text;\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 69.64803581066789}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (!text) {\n\t\treturn text;\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 69.64803581066789}]}
{"instance_id": "c73bc91399b9", "generation_result": [{"code": "function checkAll(id, name){\n\t\tvar checkboxes = document.getElementsByName(name);\n\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\tcheckboxes[i].checked = document.getElementById(id).checked;\n\t}\n}", "CodeBleu_score": 37.18457280691354}, {"code": "function checkAll(id, name){\n\t\tvar cbs = document.getElementsByTagName('input');\n\tfor (var i = 0; i < cbs.length; i++) {\n\t\tif (cbs[i].type == 'checkbox' && cbs[i].name == name) {\n\t\t\tcbs[i].checked = document.getElementById(id).checked;\n\t\t}\n\t}\n}", "CodeBleu_score": 46.98678517279968}, {"code": "function checkAll(id, name){\n\t\tvar checkboxes = document.getElementsByName(name);\n\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\tcheckboxes[i].checked = document.getElementById(id).checked;\n\t}\n}", "CodeBleu_score": 37.18457280691354}]}
{"instance_id": "5164f2c2d67e", "generation_result": [{"code": "function getCookie(name){\n\t\tvar cookie = null;\n\tif (document.cookie && document.cookie != '') {\n\t\tvar cookies = document.cookie.split(';');\n\t\tfor (var i = 0; i < cookies.length; i++) {\n\t\t\tvar cookie = $.trim(cookies[i]);\n\t\t\t// Does this cookie string begin with the name we want?\n\t\t\tif (cookie.substring(0, name.length + 1) == (name + '=')) {\n\t\t\t\tcookie = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn cookie;\n}", "CodeBleu_score": 75.39922824610524}, {"code": "function getCookie(name){\n\t\tif (document.cookie.length > 0) {\n\t\tvar start = document.cookie.indexOf(name + '=');\n\t\tif (start != -1) {\n\t\t\tstart = start + name.length + 1;\n\t\t\tvar end = document.cookie.indexOf(';', start);\n\t\t\tif (end == -1) {\n\t\t\t\tend = document.cookie.length;\n\t\t\t}\n\t\t\treturn decodeURIComponent(document.cookie.substring(start, end));\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 23.442769265517462}, {"code": "function getCookie(name){\n\t\tvar cookies = document.cookie.split(';');\n\tfor (var i = 0; i < cookies.length; i++) {\n\t\tvar cookie = cookies[i].replace(/^\\s+|\\s+$/g, '');\n\t\tif (cookie.indexOf(name + '=') == 0) {\n\t\t\treturn decodeURIComponent(cookie.substring(name.length + 1));\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 46.51365485900218}]}
{"instance_id": "7ce6dc0f1f24", "generation_result": [{"code": "def post(self, request)\n\t\n    self.model = get_image_model()\n    form = self.get_creation_form()\n    if form.is_valid():\n        image = form.save(commit=False)\n        image.uploaded_by_user = request.user\n        image.file_size = image.file.size\n        image.file_hash = image.file.get_file_hash()\n        image.collection = image.collection or Collection.get_first_root_node()\n        image.save()\n\n        # Check for duplicates\n        duplicates = find_image_duplicates(image)\n        if duplicates:\n            # If there are duplicates, render the modal with the list of duplicates\n            return self.render_modal_workflow(\n                request,\n                None,\n                None,\n                {\"image\": image, \"duplicates\": duplicates},\n                json_data={\"step\": \"duplicate\"},\n            )\n\n        # Check if format selection is required\n        select_format = request.GET.get(\"select_format\") == \"true\"\n        if select_format:\n            # Render the select format view\n            return self.render_select_format_response(image, form)\n        else:\n            # Render the image chooser panel with the image selected\n            return self.render_modal_workflow(\n                request,\n                None,\n                None,\n                {\"image\": image},\n                json_data={\"step\": \"image_chosen\"},\n            )\n    else:\n        # Render the form with validation errors\n        return self.render_modal_workflow(\n            request,\n            None,\n            None,\n            {\"image\": None, \"form\": form},\n            json_data={\"step\": \"form\", \"errors\": form.errors},\n        )\n\n", "CodeBleu_score": 39.386366045324955}, {"code": "def post(self, request)\n\t\n    self.model = get_image_model()\n    ImageForm = self.get_creation_form_class()\n    form = ImageForm(request.POST, request.FILES, user=request.user, prefix=\"image-chooser-upload\")\n    if form.is_valid():\n        image = form.save(commit=False)\n        image.uploaded_by_user = request.user\n        image.file_size = image.file.size\n        image.file.seek(0)  # return to the start of the file to read it\n        image.get_file_hash()\n        image.save()\n\n        # Check for duplicates\n        duplicates = find_image_duplicates(image)\n        if duplicates:\n            return render_modal_workflow(\n                request,\n                None,\n                None,\n                {\n                    \\\"image\\\": image,\n                    \\\"duplicates\\\": duplicates,\n                    \\\"next\\\": self.get_success_url(),\n                },\n                json_data={\\\"step\\\": \\\"duplicate\\\"},\n            )\n\n        # Check if we need to select a format\n        select_format = request.GET.get(\\\"select_format\\\") == \\\"true\\\"\n        if select_format:\n            return self.render_select_format_response(image, form)\n\n        else:\n            return self.render_image_chosen_response(image)\n\n    else:\n        return render_modal_workflow(\n            request,\n            None,\n            None,\n            {\n                \\\"image\\\": None,\n                \\\"form\\\": form,\n                \\\"next\\\": self.get_success_url(),\n            },\n            json_data={\\\"step\\\": \\\"upload\\\"},\n        )\n\n", "CodeBleu_score": 31.295033964106466}, {"code": "def post(self, request)\n\t\n    self.model = get_image_model()\n    form = self.get_creation_form()\n    if form.is_valid():\n        image = form.save(commit=False)\n        image.uploaded_by_user = request.user\n        image.file_size = image.file.size\n        image.file_hash = image.file.get_file_hash()\n        image.collection = form.cleaned_data.get(\\\"collection\\\")\n        image.save()\n        image.tags.set(*form.cleaned_data.get(\\\"tags\\\", []))\n        image.get_rendition(get_image_format(\\\"original\\\"))\n\n        # Check for duplicates\n        duplicates = find_image_duplicates(image)\n        if duplicates:\n            return render_modal_workflow(\n                request,\n                None,\n                None,\n                {\n                    \\\"image\\\": image,\n                    \\\"duplicates\\\": duplicates,\n                },\n                json_data={\\\"step\\\": \\\"duplicate\\\"},\n            )\n\n        # If no format was specified, redirect straight back to the chosen view\n        if not form.cleaned_data.get(\\\"select_format\\\"):\n            return self.render_chosen_response(image)\n\n        # Render a form to select the format\n        return self.render_select_format_response(image, form)\n\n    else:\n        return render_modal_workflow(\n            request,\n            None,\n            None,\n            {\n                \\\"image\\\": self.model(),\n                \\\"form\\\": form,\n            },\n            json_data={\\\"step\\\": \\\"form\\\"},\n        )\n\n", "CodeBleu_score": 36.606581176260285}]}
{"instance_id": "2ee66e343cd1", "generation_result": [{"code": "def _annotate_queryset(self, pages)\n\t\n    # prefetch related content types\n    pages = pages.prefetch_related(\n        \\\"content_type\\\", \\\"content_type__wagtail_admin_display_title\\\"\n    )\n\n    # filter pages based on user permissions\n    pages = self.permission_policy.instances_user_has_any_permission_for(\n        pages, [\\\"explorable\\\"]\n    )\n\n    # prefetch streamfield values\n    pages = pages.prefetch_related(\\\"specific\\\")\n    pages = pages.prefetch_related(\\\"specific__stream_fields\\\")\n    pages = pages.prefetch_related(\\\"specific__stream_fields__block_type\\\")\n\n    # prefetch workflow states\n    if getattr(settings, \\\"WAGTAIL_WORKFLOW_ENABLED\\\", False):\n        pages = pages.prefetch_related(\\\"current_workflow_state\\\")\n        pages = pages.prefetch_related(\\\"current_workflow_state__all_tasks\\\")\n        pages = pages.prefetch_related(\\\"current_workflow_task\\\")\n        pages = pages.prefetch_related(\\\"workflow_states\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__all_tasks\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__all_tasks__specific\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__all_tasks__specific__content_type\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__all_tasks__specific__content_type__wagtail_admin_display_title\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__specific\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__specific__content_type\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__specific__content_type__wagtail_admin_display_title\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__assignees\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__assignees__wagtail_userprofile\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__comments\\\")\n        pages = pages.prefetch_related(\\\"workflow_states__current_task__comments__user\\\")", "CodeBleu_score": 30.28104614027193}, {"code": "def _annotate_queryset(self, pages)\n\t\n    # prefetch related content types\n    pages = pages.prefetch_related(\\\"content_type\\\", \\\"content_type__model\\\", \\\"sites\\\")\n\n    # prefetch streamfield values\n    pages = pages.prefetch_related(\\\"specific\\\")\n\n    # prefetch workflow states\n    if getattr(settings, \\\"WAGTAIL_WORKFLOW_ENABLED\\\", False):\n        pages = pages.prefetch_related(\\\"workflow_states\\\")\n\n    # prefetch site root state\n    pages = pages.prefetch_related(\\\"get_site_root\\\")\n\n    # prefetch approved schedule\n    if getattr(settings, \\\"WAGTAIL_WORKFLOW_ENABLED\\\", False):\n        pages = pages.prefetch_related(\\\"approved_schedule\\\")\n\n    # filter out pages that the user doesn't have permission to explore\n    pages = pages.filter(\n        id__in=page_permission_policy.instances_user_has_any_permission_for(\n            self.request.user,\n            [\\\"add\\\", \\\"change\\\", \\\"publish\\\", \\\"bulk_delete\\\", \\\"lock\\\", \\\"unlock\\\"],\n            any_permission_required=self.any_permission_required,\n        ).values_list(\\\"id\\\", flat=True)\n    )\n\n    # annotate with site root state and approved schedule\n    if getattr(settings, \\\"WAGTAIL_WORKFLOW_ENABLED\\\", False):\n        pages = pages.annotate(\n            site_root_state=F(\\\"get_site_root__workflow_state\\\"),\n            approved_schedule=F(\\\"approved_schedule__approved_by\\\"),\n        )\n    else:\n        pages = pages.annotate(\n            site_root_state=F(\\\"get_site_root__live\\\"),\n        )\n    return pages\n\n\n\n", "CodeBleu_score": 35.23504415293739}, {"code": "def _annotate_queryset(self, pages)\n\t\n    # Prefetch related content types\n    pages = pages.prefetch_related(\\\"content_type\\\", \\\"sites\\\", \\\"sites__root_page\\\")\n\n    # Prefetch streamfield values\n    pages = pages.prefetch_related(\n        \\\"specific\\\",\n        \\\"specific__content_type\\\",\n        \\\"specific__content_type__streamfields\\\",\n        \\\"specific__content_type__streamfields__streamfield\\\",\n        \\\"specific__content_type__streamfields__streamfield__block\\\",\n    )\n\n    # Prefetch workflow states\n    if getattr(settings, \\\"WAGTAIL_WORKFLOW_ENABLED\\\", False):\n        pages = pages.prefetch_related(\\\"workflow_states\\\")\n\n    # Prefetch approved schedule\n    if getattr(settings, \\\"WAGTAIL_APPROVED_SUBSCRIPTIONS_ENABLED\\\", False):\n        pages = pages.prefetch_related(\\\"approved_schedule\\\")\n\n    # Filter pages to those the user has permission to edit\n    pages = pages.filter(\n        id__in=self.get_explorable_page_ids(self.request.user)\n    )\n\n    # Annotate the queryset with site root state and approved schedule\n    pages = pages.annotate(\n        root_page_state_id=F(\\\"sites__root_page__workflow_state_id\\\"),\n        root_page_approved_schedule_id=F(\\\"sites__root_page__approved_schedule_id\\\"),\n    )\n\n    return pages\n\n", "CodeBleu_score": 36.87858630196729}]}
{"instance_id": "970bf123b037", "generation_result": [{"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        # search backend will order by relevance in this case, so don't bother to\n        # apply an ordering on the queryset\n        return queryset.autocomplete(\n            search_field=self.search_form.search_field, query_string=self.query_string\n        )\n    else:\n        return super().search_queryset(queryset)\n\n", "CodeBleu_score": 27.62913447976588}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        # apply an autocomplete filter to the queryset\n        queryset = self.model.objects.autocomplete(self.query_string)\n\n        # order by relevance unless explicitly ordered\n        if not self.is_explicitly_ordered:\n            queryset = queryset.order_by_relevance(self.query_string)\n    return queryset\n", "CodeBleu_score": 54.77628741561564}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        # Search\n        queryset = self.search_backend.search(queryset, self.query_string, order_by_relevance=not self.is_explicitly_ordered)\n    return queryset\n\n", "CodeBleu_score": 57.17359791365719}]}
{"instance_id": "b2058bd51dfa", "generation_result": [{"code": "def user_can_access_snippets(user)\n\t\n    for model in get_snippet_models():\n        if user_can_edit_snippet_type(user, model):\n            return True\n\n    return False\n", "CodeBleu_score": 17.5456608084606}, {"code": "def user_can_access_snippets(user)\n\t\n    for model in get_snippet_models():\n        if user_can_edit_snippet_type(user, model):\n            return True\n\n    return False\n\n", "CodeBleu_score": 17.5456608084606}, {"code": "def user_can_access_snippets(user)\n\t\n    snippet_models = get_snippet_models()\n    for model in snippet_models:\n        if user_can_edit_snippet_type(user, model):\n            return True\n\n    return False\n\n", "CodeBleu_score": 32.10846173569535}]}
{"instance_id": "bf09fb693900", "generation_result": [{"code": "def get_auth_backends(self, request)\n\t\n    backends = []\n    for backend in load_backends(settings.AUTHENTICATION_BACKENDS):\n        url = reverse('social:begin', kwargs={'backend': backend.name})\n        params = {'next': request.GET.get('next', '')}\n        backends.append(self.gen_auth_data(backend.name, url, params))\n        if backend.name == 'saml':\n            for idp in get_saml_idps():\n                backends.append(self.gen_auth_data(backend.name, url, {'idp': idp}))\n    return backends\n\n", "CodeBleu_score": 28.36095506345382}, {"code": "def get_auth_backends(self, request)\n\t\n    backends = load_backends(settings.AUTHENTICATION_BACKENDS)\n    auth_data = []\n    for backend_path, backend_class in backends.items():\n        backend = backend_class()\n        if hasattr(backend, 'url_patterns'):\n            for url_pattern in backend.url_patterns:\n                auth_data.append(self.gen_auth_data(backend_path, url_pattern.pattern.regex.pattern, url_pattern.default_args))\n        else:\n            auth_data.append(self.gen_auth_data(backend_path, backend.url, {}))\n    return auth_data\n", "CodeBleu_score": 21.575439458376593}, {"code": "def get_auth_backends(self, request)\n\t\n    backends = []\n    for backend in load_backends(settings.AUTHENTICATION_BACKENDS):\n        if hasattr(backend, 'url_patterns'):\n            for url_pattern in backend.url_patterns:\n                backends.append(self.gen_auth_data(backend.name, url_pattern._regex, request.GET.dict()))\n        else:\n            backends.append(self.gen_auth_data(backend.name, backend.login_url, request.GET.dict()))\n    return backends\n\n", "CodeBleu_score": 19.253176631140338}]}
{"instance_id": "ea59163b25cc", "generation_result": [{"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    if self.lookup_name == 'net_contains_or_equals':\n        return f\"({lhs} >>= {rhs})\", params\n    elif self.lookup_name == 'empty':\n        return f\"({lhs} = '')\", params\n\n", "CodeBleu_score": 49.46787592484806}, {"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    return f\"CAST({lhs} AS INET) {self.lookup_name} {rhs}\", params\n\n", "CodeBleu_score": 51.855298507340706}, {"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    return f\"CAST({lhs} AS INET) >>= {rhs}\", params\n\n", "CodeBleu_score": 52.61083587607618}]}
{"instance_id": "6658ddec6820", "generation_result": [{"code": "def get_model_urls(app_label, model_name)\n\t\n    try:\n        model = registry[app_label][model_name]\n    except KeyError:\n        return []\n    else:\n        if model.views is None:\n            return []\n        return [\n            path(\n                route,\n                import_string(view_func),\n                name=f\"{app_label}:{model_name}:{view_name}\",\n                kwargs=kwargs,\n            )\n            for route, view_func, view_name, kwargs in model.views\n        ]\n", "CodeBleu_score": 17.825038809867337}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    model_config = registry['plugin_api'][app_label][model_name]\n    if model_config.get('views'):\n        # Retrieve the views for this model\n        views = model_config['views']\n        # Iterate through each view\n        for view_name, view_config in views.items():\n            # Attempt to import the view as a class\n            try:\n                view = import_string(view_config['class'])\n            except ImportError:\n                # Fall back to importing it as a function\n                view = import_string(view_config['function'])\n            # Attempt to import the view's queryset as a class\n            try:\n                queryset = import_string(view_config['queryset']['class'])\n            except ImportError:\n                # Fall back to importing it as a function\n                queryset = import_string(view_config['queryset']['function'])\n            # Attempt to import the view's serializer as a class\n            try:\n                serializer = import_string(view_config['serializer']['class'])\n            except ImportError:\n                # Fall back to importing it as a function\n                serializer = import_string(view_config['serializer']['function'])\n            # Attempt to import the view's filterset as a class\n            try:\n                filterset = import_string(view_config['filterset']['class'])\n            except ImportError:\n                # Fall back to importing it as a function\n                filterset = import_string(view_config['filterset']['function'])\n            # Attempt to import the view's table as a class\n            try:\n                table = import_string(view_config['table']['class'])\n            except ImportError:\n                # Fall back to importing it as a function\n                table = import_string(view_config['table']['function'])\n            # Attempt to import the view's template\n            try:\n                template = import_string(view_config['template'])\n            except ImportError:\n                template = None\n            # Attempt to import the view's extra_context\n            try:\n                extra_context = import_string(view_config['extra_context'])\n            except ImportError:\n                extra_context = None\n            # Attempt to import the view's actions\n            try:\n                actions = import_string(view_config['actions'])\n            except ImportError:\n                actions = None\n            # Attempt to import the view's action buttons\n            try:\n                action_buttons = import_string(view_config['action_buttons'])\n            except ImportError:\n                action_buttons = None\n            # Attempt to import", "CodeBleu_score": 18.333344649102056}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    # Retrieve the model from the registry\n    model = registry[app_label][model_name]\n    # Retrieve the registered views\n    views = registry.get_model_views(app_label, model_name)\n    # If there are no views registered for the model, return an empty list\n    if not views:\n        return []\n    # Iterate through each view configuration\n    paths = []\n    for view_config in views:\n        # Import the view\n        view = import_string(view_config.view)\n        # If the view is a class-based view, instantiate it\n        if issubclass(view, View):\n            view = view.as_view()\n        # If the view is a function-based view, import it\n        elif not isinstance(view, types.FunctionType):\n            view = import_string(view)\n        # Create a URL path for the view\n        path_components = [\n            'plugins',\n            app_label,\n            model_name,\n            view_config.name\n        ]\n        paths.append(path('plugins/{}/{}/{}/'.format(*path_components), view, kwargs=view_config.kwargs))\n    # Return the list of paths\n    return paths\n\n", "CodeBleu_score": 32.17963506268618}]}
{"instance_id": "9f4c69dfe312", "generation_result": [{"code": "def run_validators(instance, validators)\n\t\n    request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            module_name, class_name = validator.rsplit(\".\", 1)\n            try:\n                module = importlib.import_module(module_name)\n                validator_class = getattr(module, class_name)\n            except (ImportError, AttributeError) as e:\n                raise ImproperlyConfigured(f\"Unable to import validator {validator}: {e}\")\n        elif isinstance(validator, dict):\n            validator_class = CustomValidator\n        elif issubclass(validator, CustomValidator):\n            validator_class = validator\n        else:\n            raise ImproperlyConfigured(\n                f\"Validator {validator} is not a subclass of CustomValidator\"\n            )\n        validator_instance = validator_class(request)\n        validator_instance(instance)\n\n", "CodeBleu_score": 34.38351907867876}, {"code": "def run_validators(instance, validators)\n\t\n    request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            validator_class = import_string(validator)\n        elif isinstance(validator, dict):\n            validator_class = CustomValidator(**validator)\n        elif issubclass(validator, CustomValidator):\n            validator_class = validator\n        else:\n            raise ImproperlyConfigured(\n                f\"Validator {validator} is not a string, dict, or subclass of CustomValidator.\"\n            )\n        validator_class(instance, request).validate()\n\n", "CodeBleu_score": 31.84057798861132}, {"code": "def run_validators(instance, validators)\n\t\n    request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            # Attempt to load a validator class by name\n            try:\n                module_name, class_name = validator.rsplit(\".\", 1)\n                module = importlib.import_module(module_name)\n                validator = getattr(module, class_name)\n            except (ImportError, AttributeError):\n                raise ImproperlyConfigured(f\"Validator {validator} not found\")\n        elif isinstance(validator, dict):\n            # Attempt to construct a validator from a dictionary of arguments\n            try:\n                validator = CustomValidator(**validator)\n            except TypeError as e:\n                raise ImproperlyConfigured(f\"Validator {validator} not found: {e}\")\n        elif not issubclass(validator, CustomValidator):\n            raise ImproperlyConfigured(f\"Validator {validator} is not a subclass of CustomValidator\")\n        # Run the validator\n        validator(instance, request)\n\n", "CodeBleu_score": 35.333871423208095}]}
{"instance_id": "0b2ff7fe76f6", "generation_result": [{"code": "export function playMedia(destiny){\n\tconst panel = getSlideOrSection(destiny);\nif (panel) {\nconst $media = panel.querySelectorAll('video, audio');\nfor (let i = 0; i < $media.length; ++i) {\nconst media = $media[i];\nif (media.hasAttribute('data-autoplay')) {\nif (media.tagName.toLowerCase() === 'video' && !media.hasAttribute('data-ignore')) {\nmedia.play();\n}\nelse if (media.tagName.toLowerCase() === 'audio' && !media.hasAttribute('data-ignore')) {\nmedia.play();\n}\nelse if (media.tagName.toLowerCase() === 'iframe' && media.hasAttribute('src') && media.getAttribute('src').indexOf('youtube') > -1) {\nplayYoutube(media);\n}\n}\n}\n}\n}", "CodeBleu_score": 36.997987397006376}, {"code": "export function playMedia(destiny){\n\tconst $panel = getSlideOrSection(destiny);\n\nif ($panel) {\nconst $media = $panel.querySelectorAll('video, audio');\n\nfor (let i = 0; i < $media.length; i++) {\nconst $el = $media[i];\n\nif ($el.hasAttribute('data-autoplay')) {\nif ($el.tagName.toLowerCase() === 'iframe' && $el.src.indexOf('youtube') > -1) {\nplayYoutube($el);\n} else {\nif (typeof $el.play === 'function') {\n$el.play();\n}\n}\n\nif ($el.tagName.toLowerCase() === 'audio' && typeof $el.addEventListener === 'function') {\n$el.addEventListener('loadedmetadata', function () {\n$el.play();\n});\n}\n}\n}\n}\n}", "CodeBleu_score": 37.85403682352227}, {"code": "export function playMedia(destiny){\n\tconst section = getSlideOrSection(destiny);\nconst $media = section.querySelectorAll('video, audio');\n\n// Play media elements\nfor (let i = 0; i < $media.length; i++) {\nconst media = $media[i];\n\n// Play video\nif (media.tagName.toLowerCase() === 'video') {\nif (media.hasAttribute('data-autoplay')) {\nif (typeof media.play === 'function') {\nmedia.play();\n}\n\n// Play YouTube video\nif (media.hasAttribute('src') && media.getAttribute('src').indexOf('youtube') > -1) {\nplayYoutube(media);\n}\n}\n\n// Play audio\nif (media.hasAttribute('data-autoplay') && typeof media.play === 'function') {\nmedia.play();\n}\n}\n\n// Play audio\nif (media.tagName.toLowerCase() === 'audio') {\nif (media.hasAttribute('data-autoplay') && typeof media.play === 'function') {\nmedia.play();\n}\n}\n}\n}", "CodeBleu_score": 38.865100838296605}]}
{"instance_id": "12d28719c647", "generation_result": [{"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\n\t//stop HTML5 media elements\n\tutils.$('video, audio', panel).forEach(function(element) {\n\t\tif ( !element.hasAttribute('data-keepplaying') && typeof element.pause === 'function' ) {\n\t\t\telement.pause();\n\t\t}\n\t});\n\n\t//stop youtube videos\n\tutils.$('iframe[src*=\\\"youtube.com/embed/\\\"]', panel).forEach(function(element) {\n\t\tif ( !element.hasAttribute('data-keepplaying') ) {\n\t\t\telement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t}\n\t});\n}", "CodeBleu_score": 75.22374641053263}, {"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\n\t//pausing HTML5 media elements\n\tutils.$('video, audio', panel).forEach(function(element) {\n\t\tif ( !element.hasAttribute('data-keepplaying') && typeof element.pause === 'function' ) {\n\t\t\telement.pause();\n\t\t}\n\t});\n\n\t//youtube videos\n\tutils.$('iframe[src*=\\\"youtube.com/embed/\\\"], iframe[src*=\\\"youtube-nocookie.com/embed/\\\"]', panel).forEach(function(element) {\n\t\tif ( !element.hasAttribute('data-keepplaying') ) {\n\t\t\telement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t}\n\t});\n}", "CodeBleu_score": 76.23818254561444}, {"code": "export function stopMedia(destiny){\n\tvar panel = getSlideOrSection(destiny);\n\n//pausing HTML5 media elements\nutils.$('video, audio', panel).forEach(function(element) {\nif (!element.hasAttribute('data-keepplaying') && typeof element.pause === 'function') {\nelement.pause();\n}\n});\n\n//youtube videos\nutils.$('iframe[src*=\\\"youtube.com/embed/\\\", iframe[src*=\\\"youtube-nocookie.com/embed/\\\"]', panel).forEach(function(element) {\nif (!element.hasAttribute('data-keepplaying')) {\nelement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n}\n});\n}", "CodeBleu_score": 71.63800222857924}]}
{"instance_id": "e0d58d76f87e", "generation_result": [{"code": "export function createSlideArrows(section){\n\t\tconst arrows = {\n\t\tprev: utils.make('div', SLIDES_ARROW),\n\t\tnext: utils.make('div', SLIDES_ARROW)\n\t};\n\n\t// Add classes to arrows\n\tutils.addClass(arrows.prev, SLIDES_ARROW_PREV);\n\tutils.addClass(arrows.next, SLIDES_ARROW_NEXT);\n\n\t// Add color classes to arrows\n\tconst { colorArrows } = getOptions();\n\tif (colorArrows) {\n\t\tutils.addClass(arrows.prev, colorArrows);\n\t\tutils.addClass(arrows.next, colorArrows);\n\t}\n\n\t// Append arrows to the slide wrapper\n\tconst slideWrapper = utils.find(SECTION_SEL, section);\n\tslideWrapper.appendChild(arrows.prev);\n\tslideWrapper.appendChild(arrows.next);\n\n\t// Hide the previous arrow if horizontal looping is disabled\n\tconst { loop } = getOptions();\n\tif (!loop) {\n\t\tutils.hide(arrows.prev);\n\t}\n\n\t// If the slide has a video, add the video controls to the slide wrapper\n\tconst { video } = getOptions();\n\tif (video) {\n\t\tconst { controls } = video;\n\t\tif (controls) {\n\t\t\tconst videoControls = utils.make('div', SLIDES_VIDEO_CONTROLS);\n\t\t\tconst videoPlay = utils.make('div', SLIDES_VIDEO_PLAY);\n\t\t\tvideoPlay.appendChild(utils.make('div'));\n\t\t\tvideoControls.appendChild(videoPlay);\n\t\t\tutils.addClass(videoControls, controls);\n\t\t\tslideWrapper.appendChild(videoControls);\n\t\t}\n\t}\n}", "CodeBleu_score": 35.67661247181009}, {"code": "export function createSlideArrows(section){\n\t", "CodeBleu_score": 0.28362697624612665}, {"code": "export function createSlideArrows(section){\n\t", "CodeBleu_score": 0.28362697624612665}]}
{"instance_id": "09898985b216", "generation_result": [{"code": "function slideArrowHandler(){\n\t\tvar closestSection = utils.closest(this, SECTION_SEL);\n\tvar isPrevArrow = utils.matches(this, SLIDES_ARROW_PREV_SEL);\n\tvar isNextArrow = utils.matches(this, SLIDES_ARROW_NEXT_SEL);\n\n\tif (closestSection) {\n\t\tvar isScrollAllowed = getIsScrollAllowed();\n\t\tvar isPrevArrow = utils.matches(this, SLIDES_ARROW_PREV_SEL);\n\t\tvar isNextArrow = utils.matches(this, SLIDES_ARROW_NEXT_SEL);\n\t\tif (isPrevArrow && isScrollAllowed.left) {\n\t\t\tsetState({\n\t\t\t\tcurrentSlide: closestSection.getAttribute('data-index')\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideLeft);\n\t\t} else if (isNextArrow && isScrollAllowed.right) {\n\t\t\tsetState({\n\t\t\t\tcurrentSlide: closestSection.getAttribute('data-index')\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideRight);\n\t\t}\n\t}\n}", "CodeBleu_score": 39.2911097118451}, {"code": "function slideArrowHandler(){\n\t\tvar section = utils.closest(this, SECTION_SEL);\n\tvar isPrev = utils.matches(this, SLIDES_ARROW_PREV_SEL);\n\tvar isNext = utils.matches(this, SLIDES_ARROW_NEXT_SEL);\n\tvar isAllowed = getIsScrollAllowed();\n\tif(isAllowed) {\n\t\tif(isPrev) {\n\t\t\tsetState({\n\t\t\t\tcurrentSection: section\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideLeft);\n\t\t} else if(isNext) {\n\t\t\tsetState({\n\t\t\t\tcurrentSection: section\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideRight);\n\t\t}\n\t}\n}", "CodeBleu_score": 46.87327836043581}, {"code": "function slideArrowHandler(){\n\t\tconst { SLIDES_ARROW_SEL, SLIDES_PREV, SLIDES_NEXT, SLIDES_ARROW_NEXT_SEL, SLIDES_ARROW_PREV_SEL, SECTION_SEL } = getSelectors();\n\tconst isPrev = utils.matches(this, SLIDES_ARROW_PREV_SEL) || utils.closest(this, SLIDES_ARROW_PREV_SEL);\n\tconst isNext = utils.matches(this, SLIDES_ARROW_NEXT_SEL) || utils.closest(this, SLIDES_ARROW_NEXT_SEL);\n\tconst isArrow = utils.matches(this, SLIDES_ARROW_SEL) || utils.closest(this, SLIDES_ARROW_SEL);\n\tconst isPrevOrNext = isPrev || isNext;\n\tconst isPrevOrNextOrArrow = isPrevOrNext || isArrow;\n\tif (isPrevOrNextOrArrow) {\n\t\tconst section = utils.closest(this, SECTION_SEL);\n\t\tconst isAllowed = getIsScrollAllowed();\n\t\tif (isPrev && isAllowed.left) {\n\t\t\tconst sectionIndex = utils.index(section);\n\t\t\tsetState({\n\t\t\t\tactiveSectionIndex: sectionIndex - 1\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideLeft, {\n\t\t\t\tactiveSectionIndex: sectionIndex - 1\n\t\t\t});\n\t\t}\n\t\tif (isNext && isAllowed.right) {\n\t\t\tconst sectionIndex = utils.index(section);\n\t\t\tsetState({\n\t\t\t\tactiveSectionIndex: sectionIndex + 1\n\t\t\t});\n\t\t\tEventEmitter.emit(events.moveSlideRight, {\n\t\t\t\tactiveSectionIndex: sectionIndex + 1\n\t\t\t});\n\t\t}\n\t}\n}", "CodeBleu_score": 25.83073100547936}]}
{"instance_id": "69ef3030fb15", "generation_result": [{"code": "export function addSlidesNavigation(section){\n\t\n}", "CodeBleu_score": 0.3137190174729479}, {"code": "export function addSlidesNavigation(section){\n\t", "CodeBleu_score": 0.2614893410616341}, {"code": "export function addSlidesNavigation(section){\n\t\n}", "CodeBleu_score": 0.3137190174729479}]}
{"instance_id": "d86cd1fd918a", "generation_result": [{"code": "function menuItemsHandler(e){\n\t\tvar menuItem = e.target;\n\tvar menuAnchor = menuItem.getAttribute('data-menuanchor');\n\tvar scrollTriggerState = 'menu';\n\n\t//If the menu exists and anchors are locked or not defined, prevent the default event behavior and emit an onMenuClick event\n\tif(utils.one(getOptions().menu) && (getOptions().lockAnchors === true || !getOptions().lockAnchors)) {\n\t\tutils.preventDefault(e);\n\t\tEventEmitter.emit(events.onMenuClick, menuAnchor);\n\t}\n\n\t//Set the scroll trigger state to menu\n\tsetState(scrollTriggerState);\n}", "CodeBleu_score": 43.9752965524039}, {"code": "function menuItemsHandler(e){\n\t\tvar target = e.target;\n\tvar menu = closest(target, getOptions().menu);\n\n\tif(menu){\n\t\tif(getOptions().lockAnchors){\n\t\t\tif(closest(target, getOptions().menu + ' [data-menuanchor]')){\n\t\t\t\te.preventDefault();\n\t\t\t\tvar anchor = target.getAttribute('data-menuanchor');\n\t\t\t\tEventEmitter.emit(events.onMenuClick, anchor);\n\t\t\t}\n\t\t}else{\n\t\t\tif(closest(target, getOptions().menu + ' [data-menuanchor]')){\n\t\t\t\te.preventDefault();\n\t\t\t\tvar anchor = target.getAttribute('data-menuanchor');\n\t\t\t\tEventEmitter.emit(events.onMenuClick, anchor);\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 36.58576859877729}, {"code": "function menuItemsHandler(e){\n\t", "CodeBleu_score": 0.5668265444969216}]}
{"instance_id": "19fb16a46144", "generation_result": [{"code": "export function setScrolling(element, val){\n\t\tif (element === window) {\n\t\twindow.scrollTo(0, val);\n\t} else {\n\t\tif (element.classList.contains(SLIDES_WRAPPER)) {\n\t\t\telement.scrollLeft = val;\n\t\t} else {\n\t\t\telement.scrollTo(0, val);\n\t\t}\n\t}\n}", "CodeBleu_score": 32.51385537297106}, {"code": "export function setScrolling(element, val){\n\t\tif (val === undefined) {\n\t\treturn;\n\t}\n\n\tif (element === window) {\n\t\twindow.scrollTo(0, val);\n\t} else if (utils.hasClass(element, SLIDES_WRAPPER)) {\n\t\telement.scrollLeft = val;\n\t} else {\n\t\telement.style.top = val + 'px';\n\t}\n}", "CodeBleu_score": 41.784558707604454}, {"code": "export function setScrolling(element, val){\n\t\tvar options = getOptions();\n\tvar scrollSettings = getScrollSettings(val);\n\n\tif(options.autoScrolling && !options.scrollBar && !utils.isWin(element) && utils.$(SLIDES_WRAPPER, element).length) {\n\t\telement.scrollLeft = scrollSettings.options;\n\t}\n\telse {\n\t\telement.scrollTo(0, scrollSettings.options);\n\t}\n}", "CodeBleu_score": 27.559519094746186}]}
{"instance_id": "09a10e1f1af9", "generation_result": [{"code": "function activateMenuElement(name){\n\t\tif (getOptions(name)) {\n\t\tconst menuElements = document.querySelectorAll(`.${ACTIVE_SEL}`);\n\t\tfor (let i = 0; i < menuElements.length; i++) {\n\t\t\tmenuElements[i].classList.remove(ACTIVE);\n\t\t}\n\t\tconst menu = document.querySelector(`[data-menuanchor='${name}']`);\n\t\tif (menu) {\n\t\t\tmenu.classList.add(ACTIVE);\n\t\t}\n\t}\n}", "CodeBleu_score": 28.865318611281566}, {"code": "function activateMenuElement(name){\n\t\tvar menuOptions = getOptions('menu');\n\tif (menuOptions) {\n\t\tvar anchors = menuOptions.anchors;\n\t\tif (anchors) {\n\t\t\tfor (var i = 0; i < anchors.length; i++) {\n\t\t\t\tvar anchor = anchors[i];\n\t\t\t\tif (anchor.name == name) {\n\t\t\t\t\tvar currentActive = document.querySelector(ACTIVE_SEL);\n\t\t\t\t\tif (currentActive) {\n\t\t\t\t\t\tcurrentActive.classList.remove(ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t\tvar element = document.querySelector('[data-menuanchor=\"' + name + '\"]');\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\telement.classList.add(ACTIVE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 21.65699664775518}, {"code": "function activateMenuElement(name){\n\t\tvar menu = document.querySelector(`.${MENU_CLASS}`);\n\tif (menu) {\n\t\tvar activeMenuItem = menu.querySelector(`.${ACTIVE_SEL}`);\n\t\tif (activeMenuItem) {\n\t\t\tactiveMenuItem.classList.remove(ACTIVE);\n\t\t}\n\t\tvar menuItem = menu.querySelector(`[data-menuanchor='${name}']`);\n\t\tif (menuItem) {\n\t\t\tmenuItem.classList.add(ACTIVE);\n\t\t}\n\t}\n}", "CodeBleu_score": 23.148599511890428}]}
{"instance_id": "4556a956fd7c", "generation_result": [{"code": "export function lazyLoadOthers(){\n\t\tif (state.isDestroying || !state.isEnabled || !state.isLazyLoad) {\n\t\treturn;\n\t}\n\n\t// Check if there are any auto-height sections\n\tif (utils.$(AUTO_HEIGHT_SEL).length || utils.$(AUTO_HEIGHT_RESPONSIVE_SEL).length) {\n\t\tlazyLoad();\n\t}\n\n\t// Check if responsive mode is active with responsive auto-height sections\n\tif (isResponsiveMode() && utils.$(AUTO_HEIGHT_RESPONSIVE_SEL).length) {\n\t\tlazyLoad();\n\t}\n}", "CodeBleu_score": 22.13500859846217}, {"code": "export function lazyLoadOthers(){\n\t\n    const options = getOptions();\n    const isLazyLoadEnabled = options.lazyLoad;\n    const isAutoHeightEnabled = options.autoHeight || options.autoHeightInViewport;\n    const isAutoHeightInViewportEnabled = options.autoHeightInViewport;\n    const isResponsiveModeEnabled = isResponsiveMode();\n    const $sections = $(SECTION_SEL);\n    const $activeSection = $sections.filter(ACTIVE_SEL);\n    const $autoHeightSections = $sections.filter(AUTO_HEIGHT_SEL);\n    const $autoHeightInViewportSections = $sections.filter(AUTO_HEIGHT_RESPONSIVE_SEL);\n    const isLazyLoadOn = isLazyLoadEnabled && !isAutoHeightEnabled;\n    const isAutoHeightInViewportOn = isAutoHeightInViewportEnabled && isResponsiveModeEnabled;\n    const isLazyLoadOnAndAutoHeightInViewportOn = isLazyLoadOn && isAutoHeightInViewportOn;\n    const isLazyLoadOnAndAutoHeightOn = isLazyLoadOn && isAutoHeightEnabled;\n    const isLazyLoadOnAndAutoHeightInViewportOnAndNotActiveSection = isLazyLoadOnAndAutoHeightInViewportOn && !$activeSection.length;\n    const isLazyLoadOnAndAutoHeightOnAndNotActiveSection = isLazyLoadOnAndAutoHeightOn && !$activeSection.length;\n\n    if (isLazyLoadOnAndAutoHeightInViewportOnAndNotActiveSection || isLazyLoadOnAndAutoHeightOnAndNotActiveSection) {\n        const $allSections = $sections.add($autoHeightSections).add($autoHeightInViewportSections);\n        const $allSectionsInViewport = $allSections.filter(utils.isInViewport);\n        const $allSectionsNotInViewport = $allSections.not($allSectionsInViewport);\n        const $allSectionsInViewportNotActive = $allSectionsInViewport.not($activeSection);\n\n        if ($allSectionsInViewportNotActive.length) {\n            lazyLoad($allSectionsNotInViewport);\n        }\n    }\n}", "CodeBleu_score": 25.10875613070489}, {"code": "export function lazyLoadOthers(){\n\t", "CodeBleu_score": 0.5409347080319666}]}
{"instance_id": "a4324e094376", "generation_result": [{"code": "function keepSlidesPosition(){\n\t\n    const activeSlides = utils.make2DArray(getState().slides.length, () => []);\n    const activeSlideElements = document.querySelectorAll(SLIDE_ACTIVE_SEL);\n    activeSlideElements.forEach(slide => {\n        const section = slide.closest(SECTION_SEL);\n        activeSlides[getState().sections.indexOf(section)].push(slide);\n    });\n    activeSlides.forEach((sectionActiveSlides, sectionIndex) => {\n        silentLandscapeScroll(sectionActiveSlides[0], 'internal', sectionIndex);\n    });\n}", "CodeBleu_score": 24.80528423639949}, {"code": "function keepSlidesPosition(){\n\t\n    const activeSlides = utils.makeArray(document.querySelectorAll(SECTION_SEL + ' ' + SLIDE_ACTIVE_SEL));\n    for (let i = 0; i < activeSlides.length; i++) {\n        silentLandscapeScroll(activeSlides[i], 'internal');\n    }\n}", "CodeBleu_score": 46.636635570363524}, {"code": "function keepSlidesPosition(){\n\t\n    const slides = utils.make2DArray(getState().sections.length, () => []);\n    const activeSlides = document.querySelectorAll(SECTION_SEL + SLIDE_ACTIVE_SEL);\n    for (let i = 0; i < activeSlides.length; i++) {\n        const slide = activeSlides[i];\n        const section = slide.closest(SECTION_SEL);\n        const sectionIndex = [...section.parentElement.children].indexOf(section);\n        const slideIndex = [...section.children].indexOf(slide);\n        slides[sectionIndex].push(slideIndex);\n    }\n    slides.forEach((sectionSlides, sectionIndex) => {\n        sectionSlides.forEach((slideIndex) => {\n            silentLandscapeScroll(document.querySelectorAll(SECTION_SEL + ':nth-child(' + (sectionIndex + 1) + ') > .stack > .slide:nth-child(' + (slideIndex + 1) + ')')[0], 'internal');\n        });\n    });\n}", "CodeBleu_score": 29.880375730907932}]}
{"instance_id": "9eb664182655", "generation_result": [{"code": "export function updateStructuralState(){\n\t\n    let sections = getPanelByElement(getContainer(), 'section');\n    let visibleSections = sections.filter(section => utils.isVisible(section.item));\n    state.sections = visibleSections.map((section, index) => {\n        let sectionState = {\n            item: section.item,\n            index: index,\n            isActive: utils.hasClass(section.item, ACTIVE),\n            hasScroll: scrollOverflowHandler.hasScroll(section.item),\n            slides: [],\n            activeSlide: null\n        };\n\n        let slides = getPanelByElement(section.item, 'section');\n        let visibleSlides = slides.filter(slide => utils.isVisible(slide.item));\n        sectionState.slides = visibleSlides.map((slide, index) => {\n            let slideState = {\n                item: slide.item,\n                index: index,\n                isActive: utils.hasClass(slide.item, ACTIVE),\n                hasScroll: scrollOverflowHandler.hasScroll(slide.item)\n            };\n            return slideState;\n        });\n\n        return sectionState;\n    });\n\n    state.numSections = sections.length;\n    state.numSlides = visibleSections.reduce((acc, section) => acc + section.slides.length, 0);\n\n    if (state.activeSection) {\n        g_prevActiveSectionIndex = state.activeSection.index;\n        g_prevActiveSlideIndex = state.activeSection.activeSlide ? state.activeSection.activeSlide.index : null;\n    }\n}", "CodeBleu_score": 38.244359379715654}, {"code": "export function updateStructuralState(){\n\t\tconst container = getContainer();\n\tconst options = getOptions();\n\n\t// Get all section items and filter them to get visible ones.\n\tconst sectionItems = Array.from(container.querySelectorAll(SECTION_SELECTOR));\n\tconst visibleSectionItems = sectionItems.filter(item => !utils.isHidden(item));\n\n\t// Create SectionPanel objects for each section item and filter them by visibility.\n\tconst sections = visibleSectionItems.map(item => new SectionPanel(item, options));\n\tconst visibleSections = sections.filter(section => section.isVisible);\n\n\t// Gather all slides from the visible sections.\n\tconst visibleSlideItems = visibleSectionItems.reduce((acc, item) => acc.concat(Array.from(item.querySelectorAll(SLIDE_SELECTOR))), []);\n\n\t// Create SlidePanel objects for each slide item and filter them by visibility.\n\tconst slides = visibleSlideItems.map(item => new SlidePanel(item, options));\n\tconst visibleSlides = slides.filter(slide => slide.isVisible);\n\n\t// Update the state with the number of sections, number of slides, and lists of sections, slides, and panels.\n\tstate.sections = sections;\n\tstate.slides = slides;\n\tstate.panels = visibleSections.map(section => section.panel).concat(visibleSlides.map(slide => slide.panel));\n\n\t// Keep track of the previously active section and slide indices.\n\tg_prevActiveSectionIndex = state.activeSection ? state.activeSection.index : null;\n\tg_prevActiveSlideIndex = state.activeSection && state.activeSection.activeSlide ? state.activeSection.activeSlide.index : null;\n}", "CodeBleu_score": 45.923691377073496}, {"code": "export function updateStructuralState(){\n\t\tconst container = getContainer();\n\tconst sections = Array.from(container.querySelectorAll(SECTION_SELECTOR));\n\tconst visibleSections = sections.filter(section => utils.isVisible(section));\n\n\tstate.sections = visibleSections.map(section => {\n\t\tconst sectionPanel = getPanelByElement(section);\n\t\tconst slides = Array.from(section.querySelectorAll(SLIDE_SELECTOR));\n\t\tconst visibleSlides = slides.filter(slide => utils.isVisible(slide));\n\t\tconst sectionItems = [sectionPanel, ...visibleSlides];\n\t\treturn {\n\t\t\titem: section,\n\t\t\tsectionPanel,\n\t\t\tslides,\n\t\t\tvisibleSlides,\n\t\t\tsectionItems,\n\t\t\tisActive: false,\n\t\t\thasScroll: false,\n\t\t\tactiveSlide: null\n\t\t};\n\t});\n\n\tstate.numSections = state.sections.length;\n\tstate.numSlides = state.sections.reduce((acc, section) => acc + section.visibleSlides.length, 0);\n\tstate.panels = state.sections.map(section => section.sectionPanel);\n\tstate.slides = state.sections.reduce((acc, section) => acc.concat(section.visibleSlides), []);\n\tstate.sectionItems = state.sections.reduce((acc, section) => acc.concat(section.sectionItems), []);\n\n\tconst prevActiveSection = state.activeSection;\n\tconst prevActiveSlide = state.activeSection && state.activeSection.activeSlide;\n\n\tstate.activeSectionIndex = prevActiveSection ? state.sections.indexOf(prevActiveSection) : null;\n\tstate.activeSlideIndex = prevActiveSlide ? state.slides.indexOf(prevActiveSlide) : null;\n\n\tg_prevActiveSectionIndex = state.activeSectionIndex;\n\tg_prevActiveSlideIndex = state.activeSlideIndex;\n}", "CodeBleu_score": 37.6672299791479}]}
{"instance_id": "2b3c1077db45", "generation_result": [{"code": "function performHorizontalMove(slides, v, fireCallback){\n\t", "CodeBleu_score": 1.522250845899262}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\t", "CodeBleu_score": 1.522250845899262}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\t", "CodeBleu_score": 1.522250845899262}]}
{"instance_id": "82491a251576", "generation_result": [{"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\tconst query = Object.keys(params).sort().map(key => {\n\t\tconst value = params[key]\n\t\treturn `${encodeURIComponent(key)}=${encodeURIComponent(value)}`\n\t}).join('&')\n\treturn `${name}?${query}`\n}", "CodeBleu_score": 40.56889644844331}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\tconst keys = Object.keys(params).sort()\n\tconst query = keys.map((key) => {\n\t\tconst value = params[key]\n\t\tif (value === undefined) {\n\t\t\treturn ''\n\t\t}\n\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(value)\n\t}).filter((value) => value !== '').join('&')\n\treturn name + (query ? '?' + query : '')\n}", "CodeBleu_score": 45.44521629292092}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\n}", "CodeBleu_score": 7.615973019528041}]}
{"instance_id": "89f175570176", "generation_result": [{"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\t\tconst isObject = shouldBeObject(options)\n\tif (!isObject.res) {\n\t\tconst res = { errMsg: `showLoading${isObject.msg}` }\n\t\tconsole.error(res.errMsg)\n\t\treturn Promise.reject(res)\n\t}\n\n\tlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\n\tconst res = { errMsg: 'showLoading:ok' }\n\n\ttry {\n\t\treturn showToast({\n\t\t\ttitle,\n\t\t\ticon: 'loading',\n\t\t\tduration: 0,\n\t\t\tmask,\n\t\t\tsuccess,\n\t\t\tfail,\n\t\t\tcomplete\n\t\t})\n\t} catch (e) {\n\t\tres.errMsg = `showLoading:fail invalid ${e}`\n\t\treturn errorHandler(fail, complete)(res)\n\t}\n}", "CodeBleu_score": 69.15048247326331}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\t\tconst isObject = shouldBeObject(options)\n\tif (!isObject.res) {\n\t\tconst res = { errMsg: `showLoading${isObject.msg}` }\n\t\tconsole.error(res.errMsg)\n\t\treturn Promise.reject(res)\n\t}\n\n\tlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\n\tconst res = { errMsg: 'showLoading:ok' }\n\n\tconst maskStyle = mask ? styles.container : styles.noMaskContainer\n\n\tconst ToastView = <WXLoading title={title} mask={mask} />\n\n\ttry {\n\t\t// setTimeout fires incorrectly when using chrome debug #4470\n\t\t// https://github.com/facebook/react-native/issues/4470\n\t\tglobalAny.wxToastRootSiblings && globalAny.wxToastRootSiblings.destroy()\n\n\t\tglobalAny.wxToastRootSiblings = new RootSiblings(ToastView)\n\t\tsetTimeout(() => {\n\t\t\tglobalAny.wxToastRootSiblings && globalAny.wxToastRootSiblings.update(ToastView)\n\t\t}, 100)\n\t\treturn successHandler(success, complete)(res)\n\t} catch (e) {\n\t\tres.errMsg = `showLoading:fail invalid ${e}`\n\t\treturn errorHandler(fail, complete)(res)\n\t}\n}", "CodeBleu_score": 55.30817753271873}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\t\tconst isObject = shouldBeObject(options)\n\tif (!isObject.res) {\n\t\tconst res = { errMsg: `showLoading${isObject.msg}` }\n\t\tconsole.error(res.errMsg)\n\t\treturn Promise.reject(res)\n\t}\n\n\tlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\n\treturn showToast({\n\t\ttitle,\n\t\ticon: 'loading',\n\t\tduration: 0,\n\t\tmask,\n\t\tsuccess,\n\t\tfail,\n\t\tcomplete\n\t})\n}", "CodeBleu_score": 83.9911554217616}]}
{"instance_id": "7d41757a0645", "generation_result": [{"code": "export function HomepageTweets(){\n\t\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"text--center margin-bottom--xl\">\n\t\t\t\t<h2 className=\"home-page__section-heading\">Latest Tweets</h2>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t{TweetList.map((item) => (\n\t\t\t\t\t<Tweet key={item.id} {...item} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 57.71104093582452}, {"code": "export function HomepageTweets(){\n\t\treturn (\n\t\t<div className=\\\"container\\\">\n\t\t\t<h2 className=\\\"container__title\\\">Latest Tweets</h2>\n\t\t\t<div className=\\\"row\\\">\n\t\t\t\t{TweetList.map(({ id, name, user, date, tweet }) => (\n\t\t\t\t\t<Tweet key={id} id={id} name={name} user={user} date={date} tweet={tweet} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 48.54865781330469}, {"code": "export function HomepageTweets(){\n\t\treturn (\n\t\t<div className=\"container margin-bottom--xl\">\n\t\t\t<div className=\"text--center\">\n\t\t\t\t<h2 className=\"margin-bottom--sm\">Latest from the community</h2>\n\t\t\t\t<p className=\"margin-bottom--xl\">\n\t\t\t\t\tFind out what other developers are saying about Cheerio.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"row\">\n\t\t\t\t{TweetList.map((tweet) => (\n\t\t\t\t\t<Tweet key={tweet.id} {...tweet} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 54.768322010970515}]}
