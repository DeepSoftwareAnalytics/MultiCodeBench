{"instance_id": "112855ce32e1", "generation_result": [{"code": "handleOpenMarketplace = (): void => {\n\tps.actions.openModal({\nid: ModalIdentifiers.MARKETPLACE,\ndialogType: MarketplaceModal.DialogTypes.OPEN_PLUGIN_MARKETPLACE,\ndialogProps: {\nsource: 'actions_menu',\n},\n});\n}", "CodeBleu_score": 15.575126709413306}, {"code": "handleOpenMarketplace = (): void => {\n\tcanOpenMarketplace, teamId}", "CodeBleu_score": 4.37105452679063}, {"code": "handleOpenMarketplace = (): void => {\n\tanOpenMarketplace, teamId}", "CodeBleu_score": 4.370209485545278}]}
{"instance_id": "421836df0bf0", "generation_result": [{"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tpost,\nteamId,\nactions: {\nhandleBindingClick,\npostEphemeralCallResponseForPost,\n},\n}", "CodeBleu_score": 1.2229246436636563}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tntext = createCallContext(binding.app_id, binding.location, binding.channel_id, binding.team_id, binding.post_id, binding.root_id);\nconst {data: response} = await this.props.actions.handleBindingClick(binding, context, this.props.intl);\n\nif (response.error) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, response.error);\n} else if (response.type === AppCallResponseTypes.OK) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, response.message);\n} else if (response.type === AppCallResponseTypes.NAVIGATE) {\nUtils.handleNavigate(response.url);\n} else if (response.type === AppCallResponseTypes.FORM) {\nthis.props.actions.openAppsModal(response.modal_data);\n} else {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.post, {\nmessage: this.props.intl.formatMessage({id: 'apps.actions_menu.unsupported_response_type', defaultMessage: 'Unsupported response type'}),\n});\n}\n}", "CodeBleu_score": 26.370789870178225}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tctions, intl, post}", "CodeBleu_score": 1.207263771388782}]}
{"instance_id": "7b2d58ae93e2", "generation_result": [{"code": "handleDropdownOpened = (open: boolean) =>{\n\tif (this.props.handleDropdownOpened) {\nthis.props.handleDropdownOpened(open);\n}\n\nif (!open) {\nreturn;\n}\n\nconst {top, left, height} = this.buttonRef.current!.getBoundingClientRect();\nconst windowHeight = window.innerHeight;\nconst spaceAbove = top;\nconst spaceBelow = windowHeight - (top + height);\n\nif (spaceAbove > spaceBelow) {\nthis.setState({openUp: true});\n} else {\nthis.setState({openUp: false});\n}\n}", "CodeBleu_score": 29.733418009431723}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\tconst {handleDropdownOpened, isMenuOpen} = this.props;\n\nif (handleDropdownOpened) {\nhandleDropdownOpened(open);\n}\n\nif (!open) {\nreturn;\n}\n\nconst button = this.buttonRef.current;\nif (!button) {\nreturn;\n}\n\nconst {bottom, top} = button.getBoundingClientRect();\nconst {height: windowHeight} = window.document.documentElement.getBoundingClientRect();\n\nconst availableSpaceBelow = windowHeight - bottom;\nconst availableSpaceAbove = top;\n\nthis.setState({\nopenUp: availableSpaceBelow < availableSpaceAbove,\n});\n}", "CodeBleu_score": 28.542621950688098}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\tif (this.props.handleDropdownOpened) {\nthis.props.handleDropdownOpened(open);\n}\nif (!open) {\nreturn;\n}\n\nconst buttonRect = this.buttonRef.current!.getBoundingClientRect();\nconst buttonTop = buttonRect.top;\nconst buttonBottom = buttonRect.bottom;\nconst windowHeight = window.innerHeight;\nconst menuHeight = this.menuRef.current!.getBoundingClientRect().height;\nconst windowTop = window.pageYOffset;\nconst windowBottom = windowTop + windowHeight;\n\nconst menuTop = buttonTop - menuHeight;\nconst menuBottom = buttonBottom + menuHeight;\n\nconst availableSpaceTop = menuTop - windowTop;\nconst availableSpaceBottom = windowBottom - menuBottom;\n\nthis.setState({openUp: availableSpaceTop > availableSpaceBottom});\n}", "CodeBleu_score": 38.096777547450976}]}
{"instance_id": "024f57c26061", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\townProps;\nconst {user} = state;\nconst currentUserId = getCurrentUser(state).id;\nconst isSystemAdmin = isSystemAdministrator(state);\nconst isMarketplaceEnabled = isMarketplaceEnabledSelector(state);\nconst isAppsEnabled = appsEnabled(state);\nconst isCurrentTeamMember = haveICurrentTeamPermission(state, Permissions.MANAGE_SYSTEM);\nconst currentTeamId = getCurrentTeamId(state);\nconst isMobileView = getIsMobileView(state);\nconst isSystemMessage = isSystemMessage(post);\nconst isCombinedUserActivityPost = isCombinedUserActivityPost(post);\nconst postOptionBindings = getPostOptionBinding(state, post);\nconst bindings = isSystemMessage || isCombinedUserActivityPost? emptyBindings : postOptionBindings;\n\nreturn {\nbindings,\nisAppsEnabled,\nisMarketplaceEnabled,\nisSystemAdmin,\nisCurrentTeamMember,\ncurrentTeamId,\nisMobileView,\nisSystemMessage,\nisCombinedUserActivityPost,\ncurrentUserId,\n};\n}", "CodeBleu_score": 39.573731909110435}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\tnProps.post;\n\nconst isSystemMessage = isSystemAdmin(getCurrentUser(state)) || isSystemMessage(post);\nconst isMarketplaceEnabled = isMarketplaceEnabled(state);\nconst appsEnabled = appsEnabled(state);\nconst haveICurrentTeamPermission = haveICurrentTeamPermission(state);\nconst currentTeamId = getCurrentTeamId(state);\nconst isMobileView = getIsMobileView(state);\n\nconst {appBindings, pluginComponents} = fetchBindings(state, post);\n\nreturn {\n    appBindings: isSystemMessage? emptyBindings : appBindings,\n    appsEnabled,\n    haveICurrentTeamPermission,\n    currentTeamId,\n    isMobileView,\n    isMarketplaceEnabled,\n    pluginComponents,\n    post,\n};\n}", "CodeBleu_score": 34.38163425313696}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\tnProps.post;\nconst isSystemMessage = isSystemAdmin(getCurrentUser(state)) || isSystemMessage(post);\nconst isMarketplaceEnabled = isMarketplaceEnabled(state);\nconst bindings = isSystemMessage? emptyBindings : getPostOptionBinding(state, post.id);\nconst appsEnabled = appsEnabled(state);\nconst teamId = getCurrentTeamId(state);\nconst haveICurrentTeamPermission = haveICurrentTeamPermission(state, Permissions.MANAGE_SYSTEM);\nconst isMobileView = getIsMobileView(state);\nconst isCombinedUserActivityPost = isCombinedUserActivityPost(post);\n\nreturn {\nbindings,\nappsEnabled,\nisMarketplaceEnabled,\nteamId,\nhaveICurrentTeamPermission,\nisMobileView,\nisCombinedUserActivityPost,\n};\n}", "CodeBleu_score": 36.363144684259844}]}
{"instance_id": "ae0a07f4dbea", "generation_result": [{"code": "export default function DeviceIcon(props: Props){\n\tst intl = useIntl();\nconst title = isMessageDescriptor(props.deviceTitle)? intl.formatMessage(props.deviceTitle) : props.deviceTitle;\nreturn <i className={props.devicePicture} title={title} />;\n}", "CodeBleu_score": 40.81932515955236}, {"code": "export default function DeviceIcon(props: Props){\n\tst intl = useIntl();\nconst title = isMessageDescriptor(props.deviceTitle)? intl.formatMessage(props.deviceTitle) : props.deviceTitle;\nreturn (\n<i className={props.devicePicture} title={title} />\n);\n}", "CodeBleu_score": 49.84220190835566}, {"code": "export default function DeviceIcon(props: Props){\n\tst intl = useIntl();\nconst title = isMessageDescriptor(props.deviceTitle)? intl.formatMessage(props.deviceTitle) : props.deviceTitle;\n\nreturn (\n<i className={props.devicePicture} title={title}/>\n);\n}", "CodeBleu_score": 45.66226269695669}]}
{"instance_id": "e0a805402908", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\twFixMe\nconst channel = getCurrentChannel(state, ownProps.channel.id);\nconst team = getTeam(state, channel.team_id);\nconst groups = selectGroupsNotAssociatedToChannel(state, ownProps.channel.id);\nconst groupsAssociatedToChannel = getAllGroupsAssociatedToChannel(state, ownProps.channel.id);\nconst groupsAssociatedToTeam = getAllGroupsAssociatedToTeam(state, team.id);\nconst excludeGroups = ownProps.excludeGroups.map((group) => group.id);\nconst excludeGroupsAssociatedToChannel = groupsAssociatedToChannel.map((group) => group.id);\nconst excludeGroupsAssociatedToTeam = groupsAssociatedToTeam.map((group) => group.id);\nconst excludeGroupsCombined = excludeGroups.concat(excludeGroupsAssociatedToChannel, excludeGroupsAssociatedToTeam);\n\nreturn {\n    channel,\n    groups,\n    searchTerm: state.views.search.searchTerm,\n    excludeGroups: excludeGroupsCombined,\n};\n}", "CodeBleu_score": 37.46276387717174}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\turrentChannel = getCurrentChannel(state, ownProps.channel.id) || ownProps.channel;\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, ownProps.channel.id);\nconst team = getTeam(state, currentChannel.team_id);\nconst groupsNotAssociatedToChannelFiltered = groupsNotAssociatedToChannel.filter((group) => {\nreturn group.display_name.toLowerCase().indexOf(state.views.search.searchTerm.toLowerCase()) > -1;\n});\nreturn {\nchannel: currentChannel,\ngroupsNotAssociatedToChannel: groupsNotAssociatedToChannelFiltered,\nteam,\n};\n}", "CodeBleu_score": 37.344034924927996}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\thannel = getCurrentChannel(state, ownProps.channel.id) || ownProps.channel;\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state, channel.id);\nconst groupsAssociatedToChannel = getAllGroupsAssociatedToChannel(state, channel.id);\nconst groupsAssociatedToTeam = getAllGroupsAssociatedToTeam(state, channel.team_id);\nconst groupsNotAssociatedToTeam = groupsNotAssociatedToChannel.filter((group) => groupsAssociatedToTeam.indexOf(group.id) === -1);\nconst groupsNotAssociatedToChannelFiltered = groupsNotAssociatedToChannel.filter((group) => group.name.toLowerCase().indexOf(state.views.search.searchTerm.toLowerCase())!== -1);\nconst groupsAssociatedToChannelFiltered = groupsAssociatedToChannel.filter((group) => group.name.toLowerCase().indexOf(state.views.search.searchTerm.toLowerCase())!== -1);\nconst groupsNotAssociatedToTeamFiltered = groupsNotAssociatedToTeam.filter((group) => group.name.toLowerCase().indexOf(state.views.search.searchTerm.toLowerCase())!== -1);\n\nreturn {\n\n    channelName: channel.display_name,\n\n    channelId: channel.id,\n\n    teamId: channel.team_id,\n\n    groupsNotAssociatedToChannel: groupsNotAssociatedToChannelFiltered,\n\n    groupsAssociatedToChannel: groupsAssociatedToChannelFiltered,\n\n    groupsNotAssociatedToTeam: groupsNotAssociatedToTeamFiltered,\n\n};\n}", "CodeBleu_score": 37.779729877299104}]}
{"instance_id": "a3412b1c0762", "generation_result": [{"code": "componentDidUpdate(prevProps: Props){\n\t {searchTerm} = this.props;\nconst {searchTerm: prevSearchTerm} = prevProps;\n\nif (searchTerm!== prevSearchTerm) {\nif (this.searchTimeoutId) {\nclearTimeout(this.searchTimeoutId);\n        }\n\n        this.searchTimeoutId = setTimeout(() => {\n            this.setGroupsLoadingState(true);\n            this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, searchTerm, 0, GROUPS_PER_PAGE + 1, true).then(() => {\n                this.setGroupsLoadingState(false);\n            });\n        }, Constants.SEARCH_DEBOUNCE_TIME);\n    }\n}", "CodeBleu_score": 42.99254564755537}, {"code": "componentDidUpdate(prevProps: Props){\n\this.props.searchTerm!== prevProps.searchTerm) {\nif (this.searchTimeoutId) {\nclearTimeout(this.searchTimeoutId);\n\n\nthis.searchTimeoutId = 0;\n\n\n}\n\n\n\nif (this.props.searchTerm === '') {\nreturn;\n\n\n}\n\n\n\nthis.searchTimeoutId = setTimeout(() => {\n\n\nthis.setGroupsLoadingState(true);\n\n\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, this.props.searchTerm, 0, GROUPS_PER_PAGE + 1, true).then(() => {\n\n\nthis.setGroupsLoadingState(false);\n\n\n});\n\n\n}, Constants.SEARCH_DELAY);\n\n\n}\n}", "CodeBleu_score": 35.87408858685791}, {"code": "componentDidUpdate(prevProps: Props){\n\this.props.searchTerm!== prevProps.searchTerm) {\nif (this.searchTimeoutId!== 0) {\nclearTimeout(this.searchTimeoutId);\n\n}\n\n\nthis.searchTimeoutId = setTimeout(() => {\n\nthis.setGroupsLoadingState(true);\n\nif (this.props.searchTerm === '') {\n\nthis.setGroupsLoadingState(false);\n\nreturn;\n\n}\n\n\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, this.props.searchTerm, 0, GROUPS_PER_PAGE + 1, true).then(() => {\n\nthis.setGroupsLoadingState(false);\n\n});\n\n}, 250);\n\n}\n}", "CodeBleu_score": 30.514843735344517}]}
{"instance_id": "0f47faf97411", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\tchannel}", "CodeBleu_score": 3.443174499808624}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\tchannel}", "CodeBleu_score": 3.443174499808624}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\thannel = ownProps.channel || getCurrentChannel(state);\nconst team = getTeam(state, channel.team_id);\nconst groupsNotAssociatedToChannel = selectGroupsNotAssociatedToChannel(state);\nconst groupsAssociatedToChannel = getAllGroupsAssociatedToChannel(state, channel.id);\nconst groupsAssociatedToTeam = getAllGroupsAssociatedToTeam(state, team.id);\nconst groupsNotAssociatedToChannelFiltered = groupsNotAssociatedToChannel.filter(group => groupsAssociatedToChannel.indexOf(group.id) === -1 && groupsAssociatedToTeam.indexOf(group.id) === -1);\nconst groupsNotAssociatedToChannelFilteredAndExcluded = groupsNotAssociatedToChannelFiltered.filter(group => ownProps.excludeGroups.indexOf(group) === -1);\n\nreturn {\nsearchTerm: state.views.search.searchTerm,\nchannel,\ngroupsNotAssociatedToChannelFilteredAndExcluded,\n};\n}", "CodeBleu_score": 37.98788669708543}]}
{"instance_id": "923c0c472c01", "generation_result": [{"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\tage > prevPage) {\nthis.setUsersLoadingState(true);\n}\n\nif (this.props.groupId) {\nthis.props.actions.getProfilesNotInGroup(this.props.groupId, page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n} else {\nthis.props.actions.getProfiles(page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n}\n}", "CodeBleu_score": 68.86778592906624}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\tage > prevPage) {\nthis.setUsersLoadingState(true);\n}\n\nif (this.props.groupId) {\nthis.props.actions.getProfilesNotInGroup(this.props.groupId, page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n} else {\nthis.props.actions.getProfiles(page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n}\n}", "CodeBleu_score": 68.86778592906624}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\tpage > prevPage) {\nthis.setUsersLoadingState(true);\n}\n\nif (this.props.groupId) {\nthis.props.actions.getProfilesNotInGroup(this.props.groupId, page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n} else {\nthis.props.actions.getProfiles(page, USERS_PER_PAGE).then(() => {\nthis.setUsersLoadingState(false);\n});\n}\n}", "CodeBleu_score": 69.03813173710293}]}
{"instance_id": "4614bb3319bb", "generation_result": [{"code": "public search = (searchTerm: string): void => {\n\tearchTerm) {\nsearchTerm = searchTerm.trim();\nthis.setState({term: searchTerm});\nthis.clearSearchTimeout();\nthis.setUsersLoadingState(true);\nthis.searchTimeoutId = setTimeout(() => {\nif (searchTerm.length > 0) {\nthis.props.actions.searchProfiles(searchTerm, this.props.searchOptions).then(() => {\nthis.setUsersLoadingState(false);\n});\n}\n}, Constants.SEARCH_TIMEOUT);\n}\n}", "CodeBleu_score": 32.52135834587796}, {"code": "public search = (searchTerm: string): void => {\n\t trimmedTerm = searchTerm.trim();\n\nif (this.searchTimeoutId) {\nclearTimeout(this.searchTimeoutId);\n}\n\nthis.setState({\nterm: trimmedTerm,\n});\n\nif (trimmedTerm.length > 0) {\nthis.setUsersLoadingState(true);\n}\n\nthis.searchTimeoutId = setTimeout(() => {\nthis.searchProfiles(trimmedTerm, this.props.searchOptions);\n}, Constants.SEARCH_TIMEOUT);\n}", "CodeBleu_score": 29.662812414509172}, {"code": "public search = (searchTerm: string): void => {\n\this.searchTimeoutId) {\nclearTimeout(this.searchTimeoutId);\n        }\n\n        this.setState({\nterm: searchTerm.trim(),\nloadingUsers: true,\n}, () => {\n            if (this.state.term.length > 0) {\nthis.searchTimeoutId = setTimeout(() => {\nthis.searchProfiles();\n}, Constants.SEARCH_TIMEOUT);\n            }\n});\n}", "CodeBleu_score": 24.022633953942897}]}
{"instance_id": "aeafe2d0ee11", "generation_result": [{"code": "visibleSections = () =>{\n\tnew Set();\nconst {config, license, buildEnterpriseReady, consoleAccess, adminDefinition, cloud} = this.props;\nconst {PluginSettings} = config;\n\nif (PluginSettings?.Enable) {\n    const {Plugins} = this.props;\n    if (Plugins?.length) {\n        for (const plugin of Plugins) {\n            if (plugin.Schema && plugin.Schema.Settings && plugin.Schema.Settings.Section) {\n                const {Section} = plugin.Schema.Settings;\n                if (Section.Hidden) {\n                    continue;\n                }\n                result.add(Section.URL);\n            }\n        }\n    }\n}\n\nif (adminDefinition) {\n    for (const section of adminDefinition.Sections) {\n        if (section.Schema && section.Schema.Settings && section.Schema.Settings.Section) {\n            const {Section} = section.Schema.Settings;\n            if (Section.Hidden) {\n                continue;\n            }\n            result.add(Section.URL);\n        }\n\n        for (const subsection of section.Subsections) {\n            if (subsection.Schema && subsection.Schema.Settings && subsection.Schema.Settings.Section) {\n                const {Section} = subsection.Schema.Settings;\n                if (Section.Hidden) {\n                    continue;\n                }\n                result.add(Section.URL);\n            }\n        }\n    }\n}\n\nif (license?.IsLicensed === false &&!buildEnterpriseReady) {\n    result.add('/admin_console/license');\n}\n\nif (license?.IsLicensed === false && buildEnterpriseReady &&!cloud) {\n    result.add('/admin_console/cloud');\n}\n\nif (consoleAccess &&!buildEnterpriseReady) {\n    result.add('/admin_console/console_access');\n}\n\nreturn result;\n}", "CodeBleu_score": 34.37139038667665}, {"code": "visibleSections = () =>{\n\tlicense, buildEnterpriseReady, consoleAccess, adminDefinition, cloud}", "CodeBleu_score": 2.415985256694438}, {"code": "visibleSections = () =>{\n\t= new Set();\nconst {config, license, buildEnterpriseReady, consoleAccess, adminDefinition, cloud} = this.props;\nconst {Plugins} = config;\nconst {Plugins: cloudPlugins} = cloud;\n\nif (adminDefinition.sections) {\nfor (const section of adminDefinition.sections) {\nif (section.schema && section.title) {\nif (!section.hidden) {\nif (section.schema.showIf &&!section.schema.showIf(this.props)) {\ncontinue;\n}\n\nsections.add(section.url);\n}\n\nif (section.subsections) {\nfor (const subsection of section.subsections) {\nif (subsection.schema && subsection.title) {\nif (!subsection.hidden) {\nif (subsection.schema.showIf &&!subsection.schema.showIf(this.props)) {\ncontinue;\n}\n\nsections.add(subsection.url);\n}\n}\n}\n}\n}\n}\n}\n\nif (consoleAccess.plugins && consoleAccess.plugins.length > 0) {\nfor (const plugin of consoleAccess.plugins) {\nif (Plugins && Plugins[plugin] && Plugins[plugin].PluginSettings && Plugins[plugin].PluginSettings.Enable) {\nsections.add(plugin);\n}\n}\n}\n\nif (consoleAccess.cloudPlugins && consoleAccess.cloudPlugins.length > 0) {\nfor (const plugin of consoleAccess.cloudPlugins) {\nif (cloudPlugins && cloudPlugins[plugin] && cloudPlugins[plugin].PluginSettings && cloudPlugins[plugin].PluginSettings.Enable) {\nsections.add(plugin);\n}\n}\n}\n\nif (license.IsLicensed === true) {\nif (buildEnterpriseReady) {\nsections.add('enterprise_edition');\n} else {\nsections.add('community_edition');\n}\n}\n\nreturn sections;\n}", "CodeBleu_score": 34.104906642437754}]}
{"instance_id": "e869682a1b2c", "generation_result": [{"code": "handleImageChange = () =>{\n\tt fileInput = this.fileInputRef.current;\n\nif (fileInput && fileInput.files && fileInput.files.length > 0) {\nthis.setState({\ndeleteBrandImage: false,\nbrandImage: fileInput.files[0],\n});\n\nthis.props.setSaveNeeded();\n}\n}", "CodeBleu_score": 29.094831831897512}, {"code": "handleImageChange = () =>{\n\tthis.fileInputRef.current && this.fileInputRef.current.files.length > 0) {\nthis.setState({\ndeleteBrandImage: false,\nbrandImage: this.fileInputRef.current.files[0],\n});\n}\n}", "CodeBleu_score": 16.273516219013608}, {"code": "handleImageChange = () =>{\n\tthis.fileInputRef.current && this.fileInputRef.current.files && this.fileInputRef.current.files.length > 0) {\nthis.setState({\ndeleteBrandImage: false,\nbrandImage: this.fileInputRef.current.files[0],\n});\n}\n}", "CodeBleu_score": 18.247144156194683}]}
{"instance_id": "8bc13681a6b2", "generation_result": [{"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tthis.props.channelsToRemove[channel.id]) {\nreturn;\n}\n\nconst {page, total} = this.getPaginationProps();\nconst endCount = (page + 1) * PAGE_SIZE;\n\nif (endCount <= total) {\nthis.setStatePage(page - 1);\n}\n\nthis.props.onRemoveCallback(channel);\n}", "CodeBleu_score": 27.8682113738413}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tt {channelsToRemove, channelsToAdd, onRemoveCallback} = this.props;\nif (channelsToRemove[channel.id]) {\nreturn;\n}\n\nconst {page, startCount, endCount, total} = this.getPaginationProps();\n\nonRemoveCallback(channel);\n\nif (endCount === total && page > 0) {\nthis.setStatePage(page - 1);\n}\n\nthis.setStatePage(page);\n}", "CodeBleu_score": 33.57515996026029}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tthis.props.channelsToRemove[channel.id]) {\nreturn;\n}\n\nconst {page} = this.state;\nconst {startCount, endCount, total} = this.getPaginationProps();\nconst {onRemoveCallback} = this.props;\n\nif (endCount === total && page > 0) {\nthis.previousPage();\n}\n\nonRemoveCallback(channel);\n\nthis.setState({\npage: page - 1,\n});\n}", "CodeBleu_score": 43.94065891867313}]}
{"instance_id": "ac41454927ac", "generation_result": [{"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id!== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 93.78800897326276}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id!== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 93.78800897326276}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\tlet {removedChannelsCount} = this.state;\nconst {newChannels, removedChannels} = this.state;\nif (newChannels[channel.id]?.id === channel.id) {\ndelete newChannels[channel.id];\n} else if (removedChannels[channel.id]?.id!== channel.id) {\nremovedChannelsCount += 1;\nremovedChannels[channel.id] = channel;\n}\nthis.setState({removedChannels: {...removedChannels}, newChannels: {...newChannels}, removedChannelsCount, saveNeeded: true});\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 93.78800897326276}]}
{"instance_id": "bdc81f9a884e", "generation_result": [{"code": "private removeTeam = (team: Team) =>{\n\tt {teamsToRemove, onRemoveCallback} = this.props;\nconst teamId = team.id;\nif (teamsToRemove[teamId]) {\nreturn;\n}\n\nthis.props.actions.setTeamListSearch('');\n\nconst teamsToRemoveCount = Object.keys(teamsToRemove).length;\nconst teamsToAddCount = Object.keys(this.props.teamsToAdd).length;\nconst totalCount = this.getVisibleTotalCount();\n\nlet page = this.state.page;\nif (teamsToRemoveCount > teamsToAddCount) {\nif (page > 0) {\npage -= 1;\n}\n} else if (teamsToAddCount > teamsToRemoveCount) {\nif (page < this.pageLoaded - 1) {\npage += 1;\n}\n}\n\nthis.setStatePage(page);\n\nonRemoveCallback(team);\n}", "CodeBleu_score": 32.920155705396404}, {"code": "private removeTeam = (team: Team) =>{\n\tt {teamsToRemove, teamsToAdd, onRemoveCallback} = this.props;\n\nif (teamsToAdd[team.id]) {\nreturn;\n}\n\nconst newTeamsToRemove = {...teamsToRemove};\ndelete newTeamsToRemove[team.id];\n\nthis.props.actions.setTeamListSearch('');\nonRemoveCallback(team);\nthis.setStatePage(this.state.page);\n}", "CodeBleu_score": 22.59446333520121}, {"code": "private removeTeam = (team: Team) =>{\n\tt {teamsToRemove, teamsToAdd} = this.props;\n\nif (teamsToRemove[team.id]) {\nreturn;\n}\n\nconst newTeamsToRemove = {...teamsToRemove};\ndelete newTeamsToRemove[team.id];\n\nconst newTeamsToAdd = {...teamsToAdd};\ndelete newTeamsToAdd[team.id];\n\nconst newTeams = [...this.props.teams];\nconst teamIndex = newTeams.findIndex((t) => t.id === team.id);\nif (teamIndex > -1) {\nnewTeams.splice(teamIndex, 1);\n}\n\nconst newTotalCount = this.getVisibleTotalCount() - 1;\nconst newPage = this.state.page;\n\nif (newTotalCount < (newPage * PAGE_SIZE)) {\nnewPage = Math.max(0, newPage - 1);\n}\n\nthis.setStatePage(newPage);\\\nthis.props.onRemoveCallback(team);\\\nthis.props.actions.setTeamListSearch(this.props.searchTerm);\\\nthis.props.actions.setTeamListTeamsToRemove(newTeamsToRemove);\\\nthis.props.actions.setTeamListTeamsToAdd(newTeamsToAdd);\\\nthis.props.actions.setTeamListTeams(newTeams);\\\nthis.props.actions.setTeamListTotalCount(newTotalCount);\\\n}", "CodeBleu_score": 28.635072965105895}]}
{"instance_id": "e55dd105e5d2", "generation_result": [{"code": "async function loadListInPageNumber(page: number){\n\t", "CodeBleu_score": 1.0859482106836236}, {"code": "async function loadListInPageNumber(page: number){\n\t teams = await getTeams(page);\nconst teamOptions = teams.map((team: Team) => ({label: team.display_name, value: team.id}));\nconst sortedTeams = teamOptions.sort((a, b) => a.label.localeCompare(b.label));\nif (page === 0) {\nsetList(sortedTeams);\n} else {\nsetList(list.concat(sortedTeams));\n}\nsetPageNumber(page);\n}", "CodeBleu_score": 30.656774430075718}, {"code": "async function loadListInPageNumber(page: number){\n\t {client} = props;\nconst {filter} = props.option;\nconst {teamIds} = props.values;\n\nconst opts: PagedTeamSearchOpts = {\nfilter,\npage,\nper_page: TEAMS_PER_PAGE,\n};\n\nif (teamIds && teamIds.length) {\nopts.exclude_team_ids = teamIds;\n}\n\ntry {\nconst teams = await client.searchTeams(opts);\nconst teamSelectOptions = teams.map((team: Team) => ({label: team.display_name, value: team.id}));\n\nif (page === 0) {\nsetList(teamSelectOptions);\n} else {\nsetList(list.concat(teamSelectOptions));\n}\n\nsetPageNumber(page + 1);\n} catch (error) {\nconsole.error(error);\n}\n}", "CodeBleu_score": 38.89763899711718}]}
{"instance_id": "2de31ed13207", "generation_result": [{"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t", "CodeBleu_score": 6.976382142893884}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t", "CodeBleu_score": 6.976382142893884}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\tn    useEffect(() => {\n        if (props.option.value === props.option.key) {\n            loadListInPageNumber(0);\n        }\n    }, [props.option.key]);\n\n    const handleLoadOptions = async (inputValue: string, callback: (options: OptionsType<TeamSelectOption>) => void) => {\n        const options = await searchInList(inputValue, callback);\n    };\n\n    const handleInputChange = (newValue: ValueType<TeamSelectOption>, actionMeta: ActionMeta<TeamSelectOption>) => {\n        if (actionMeta.action ==='select-option') {\n            const {value} = newValue;\n            props.updateValues([value], props.option.key);\n        }\n    };\n\n    const handleInputBlur = () => {\n        props.updateValues([], props.option.key);\n    };\n\n    const handleClear = () => {\n        props.updateValues([], props.option.key);\n    };\n\n    return (\n        <AsyncSelect\n            cacheOptions\n            defaultOptions\n            loadOptions={handleLoadOptions}\n            isClearable\n            isMulti\n            onChange={handleInputChange}\n            onBlur={handleInputBlur}\n            onClear={handleClear}\n            options={list}\n            placeholder={formatMessage({\n                id: 'admin.team_filter.placeholder',\n                defaultMessage: 'Search for a team',\n            })}\n            value={props.option.value.map((value) => ({value, label: ''}))}\n        >\n            <LoadingSpinner/>\n        </AsyncSelect>\n    );\n}", "CodeBleu_score": 32.39251262440707}]}
{"instance_id": "845d63ff0f74", "generation_result": [{"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {\ngroupTeams,\ngroupChannels,\nrolesToChange = {},\n} = this.state;\nconst {\nactions,\n} = this.props;\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nif (syncableType === SyncableType.Team) {\nthis.setState({\nsaveNeeded: true,\nrolesToChange: {\n...rolesToChange,\n[id]: schemeAdmin,\n},\ngroupTeams: groupTeams.map((team) => {\nif (team.team_id === id) {\nreturn {\n...team,\nscheme_admin: schemeAdmin,\n};\n}\nreturn team;\n}),\n});\n} else if (syncableType === SyncableType.Channel) {\nthis.setState({\nsaveNeeded: true,\nrolesToChange: {\n...rolesToChange,\n[id]: schemeAdmin,\n},\ngroupChannels: groupChannels.map((channel) => {\nif (channel.channel_id === id) {\nreturn {\n...channel,\nscheme_admin: schemeAdmin,\n};\n}\nreturn channel;\n}),\n});\n}\nactions.setNavigationBlocked(true);\n}", "CodeBleu_score": 29.499052670811622}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {groupTeams, groupChannels, rolesToChange = {}, itemsToRemove = []} = this.state;\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nif (syncableType === SyncableType.Team) {\nconst newRolesToChange = {\n...rolesToChange,\n[id]: schemeAdmin,\n};\nthis.setState({\nsaveNeeded: true,\nrolesToChange: newRolesToChange,\nitemsToRemove: itemsToRemove.filter((item) => item.id!== id),\n});\n} else if (syncableType === SyncableType.Channel) {\nconst newRolesToChange = {\n...rolesToChange,\n[id]: schemeAdmin,\n};\nthis.setState({\nsaveNeeded: true,\nrolesToChange: newRolesToChange,\nitemsToRemove: itemsToRemove.filter((item) => item.id!== id),\n});\n}\nthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 31.99963061999594}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\tconst {groupTeams, groupChannels, rolesToChange = {}} = this.state;\nconst {actions} = this.props;\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nif (syncableType === SyncableType.Team) {\n    const groupTeam = groupTeams?.find((gt) => gt.team_id === id);\n    if (groupTeam) {\n        groupTeam.scheme_admin = schemeAdmin;\n        rolesToChange[id] = groupTeam;\n    }\n} else if (syncableType === SyncableType.Channel) {\n    const groupChannel = groupChannels?.find((gc) => gc.channel_id === id);\n    if (groupChannel) {\n        groupChannel.scheme_admin = schemeAdmin;\n        rolesToChange[id] = groupChannel;\n    }\n}\n\nthis.setState({\n    saveNeeded: true,\n    rolesToChange,\n});\nactions.setNavigationBlocked(true);\n}", "CodeBleu_score": 38.094429491419014}]}
{"instance_id": "02b54f0774f3", "generation_result": [{"code": "handleRolesToUpdate = async () =>{\n\tconst {rolesToChange} = this.state;\n\nif (Object.keys(rolesToChange).length > 0) {\nconst promises = [];\n\nfor (const key in rolesToChange) {\nconst [id, type] = key.split('/');\nconst schemeAdmin = rolesToChange[key];\nconst promise = this.props.actions.updateGroupSyncable(\nthis.props.groupID,\nid,\ntype,\nschemeAdmin,\n);\npromises.push(promise);\n}\n\nconst results = await Promise.all(promises);\n\nconst errors = results.filter((result) => result.error);\n\nif (errors.length > 0) {\nconst errorMessage = (\n<FormattedMessage\nid='admin.group_settings.group_detail.failedToUpdateRolesError'\ndefaultMessage='Failed to update roles.'\n/>\n);\n\nthis.setState({serverError: errorMessage});\nreturn false;\n}\n\nthis.setState({rolesToChange: {}});\nreturn true;\n}\n\nreturn true;\n}", "CodeBleu_score": 51.18777973576813}, {"code": "handleRolesToUpdate = async () =>{\n\tconst {rolesToChange = {}} = this.state;\nconst {groupID} = this.props;\n\nconst promises = [];\n\nObject.keys(rolesToChange).forEach((key) => {\nconst [id, type] = key.split('/');\nconst schemeAdmin = rolesToChange[key];\n\npromises.push(this.props.actions.updateGroupSchemeAdmin(groupID, id, type, schemeAdmin));\n});\n\nconst results = await Promise.all(promises);\n\nconst hasErrors = results.some((result) => result.error);\n\nif (hasErrors) {\nthis.setState({serverError: results.find((result) => result.error).error.message});\n} else {\nthis.setState({rolesToChange: {}});\n}\n\nreturn!hasErrors;\n}", "CodeBleu_score": 35.81789950583438}, {"code": "handleRolesToUpdate = async () =>{\n\tconst {rolesToChange = {}, groupTeams = [], groupChannels = []} = this.state;\nconst promises = [];\n\nfor (const key in rolesToChange) {\nconst [id, type] = key.split('/');\nconst schemeAdmin = rolesToChange[key];\nconst syncableType = this.syncableTypeFromEntryType(type);\n\nif (syncableType) {\nconst syncable = {id, type: syncableType};\nconst patchGroupResult = await this.props.actions.patchGroupSyncable(\nthis.props.groupID,\nsyncable,\n{scheme_admin: schemeAdmin},\n);\n\nif (patchGroupResult.error) {\npromises.push(patchGroupResult);\n}\n}\n}\n\nconst results = await Promise.all(promises);\n\nconst hasErrors = results.some((result) => result.error);\n\nif (hasErrors) {\nthis.setState({serverError: results[0].error?.message});\n} else {\nthis.setState({\nrolesToChange: {},\ngroupTeams: groupTeams.map((item) => {\nconst key = this.roleChangeKey(item);\nif (rolesToChange[key]) {\nitem.scheme_admin = rolesToChange[key];\n}\nreturn item;\n}),\ngroupChannels: groupChannels.map((item) => {\nconst key = this.roleChangeKey(item);\nif (rolesToChange[key]) {\nitem.scheme_admin = rolesToChange[key];\n}\nreturn item;\n}),\n});\n}\n\nreturn!hasErrors;\n}", "CodeBleu_score": 43.85269129427659}]}
{"instance_id": "30463a7bcb15", "generation_result": [{"code": "nextPage = async () =>{\n\tt page = this.state.page + 1;\nconst {total} = this.props;\nif (page * GROUP_MEMBERS_PAGE_SIZE >= total) {\nreturn;\n}\nthis.setState({loading: true});\nawait this.props.getMembers(this.props.groupID, page, GROUP_MEMBERS_PAGE_SIZE);\nthis.setState({loading: false, page});\n}", "CodeBleu_score": 17.6364853281714}, {"code": "nextPage = async () =>{\n\tt {getMembers, total} = this.props;\nconst {page} = this.state;\n\n// Calculate the next page based on the current page and the total number of members.\nconst nextPage = page + 1;\nconst nextPageOffset = nextPage * GROUP_MEMBERS_PAGE_SIZE;\n\n// If the next page exceeds the total number of members, return without loading additional members.\nif (nextPageOffset >= total) {\nreturn;\n}\n\n// Set the loading state to true and fetch the next page of members.\nthis.setState({loading: true});\nawait getMembers(this.props.groupID, nextPage, GROUP_MEMBERS_PAGE_SIZE);\nthis.setState({loading: false, page: nextPage});\n}", "CodeBleu_score": 19.686037216473988}, {"code": "nextPage = async () =>{\n\tt page = this.state.page + 1;\nif (page * GROUP_MEMBERS_PAGE_SIZE >= this.props.total) {\nreturn;\n}\nthis.setState({loading: true});\nawait this.props.getMembers(this.props.groupID, page, GROUP_MEMBERS_PAGE_SIZE);\nthis.setState({loading: false, page});\n}", "CodeBleu_score": 15.55298003699276}]}
{"instance_id": "d6aba286f65f", "generation_result": [{"code": "public handleGroupSearchKeyUp(e: any){\n\tconst {searchString} = this.state;\n\nlet newState = {...this.state};\n\nif (e.key === 'Enter') {\nnewState = {...this.state};\nnewState.page = 0;\nnewState.loading = true;\nthis.setState(newState);\nthis.searchGroups();\n} else if (e.key === 'Escape') {\nthis.setState({searchString: '', showFilters: false});\n} else {\nnewState = {...this.state};\nnewState.searchString = searchString + e.target.value;\nthis.setState(newState);\n}\n}", "CodeBleu_score": 30.727830749503838}, {"code": "public handleGroupSearchKeyUp(e: any){\n\tif (e.keyCode === 13) {\nthis.setState({\npage: 0,\nshowFilters: false,\n}, () => {\nthis.searchGroups();\n});\n}\n\nconst newState = {...this.state};\n\nlet searchString = e.target.value;\n\nObject.entries(FILTER_STATE_SEARCH_KEY_MAPPING).forEach(([key, value]) => {\nconst re = this.regex(value.filter);\nif (re.test(searchString)) {\n(newState as any)[key] = true;\nsearchString = searchString.replace(re, '');\n} else if ((this.state as any)[key]) {\nsearchString +='' + value.filter;\n}\n});\n\nnewState.searchString = searchString;\nnewState.showFilters = false;\nthis.setState(newState);\n}", "CodeBleu_score": 41.23197903456447}, {"code": "public handleGroupSearchKeyUp(e: any){\n\tconst searchString = e.target.value;\n\nconst newState = {...this.state};\n\nlet q = searchString;\nlet opts = {q: ''};\n\nObject.entries(FILTER_STATE_SEARCH_KEY_MAPPING).forEach(([key, value]) => {\nconst re = this.regex(value.filter);\nif (re.test(searchString)) {\n(newState as any)[key] = true;\nq = q.replace(re, '');\nopts = Object.assign(opts, value.option);\n} else if ((this.state as any)[key]) {\nsearchString +='' + value.filter;\n}\n});\n\nopts.q = q.trim();\n\nnewState.searchString = searchString;\nnewState.showFilters = false;\nnewState.loading = true;\nnewState.showFilters = false;\nthis.setState(newState);\n\nthis.props.actions.getLdapGroups(0, LDAP_GROUPS_PAGE_SIZE, opts).then(this.handleGetGroupsResponse);\n}", "CodeBleu_score": 35.209966855945126}]}
{"instance_id": "f0ab31c8ac4b", "generation_result": [{"code": "reloadPercentage = async () => {\n\tthis.interval) {\nclearInterval(this.interval);\\\n}\n\nlet upgradePercentage = 0;\\\nlet upgradeError = null;\\\ntry {\nconst upgradeStatus = await this.props.actions.upgradeToE0Status();\nupgradePercentage = upgradeStatus.percentage;\\\nupgradeError = upgradeStatus.error;\\\n} catch (error) {\nupgradePercentage = 0;\\\nupgradeError = error;\\\n}\n\nthis.setState({\n    upgradingPercentage: upgradePercentage,\n    upgradeError: upgradeError,\n});\n\nif (upgradePercentage > 0 &&!this.interval) {\nthis.interval = setInterval(async () => {\n    let upgradePercentage = 0;\n    let upgradeError = null;\n    try {\n        const upgradeStatus = await this.props.actions.upgradeToE0Status();\n        upgradePercentage = upgradeStatus.percentage;\n        upgradeError = upgradeStatus.error;\n    } catch (error) {\n        upgradePercentage = 0;\n        upgradeError = error;\n    }\n\n    this.setState({\n        upgradingPercentage: upgradePercentage,\n        upgradeError: upgradeError,\n    });\n\n    if (upgradePercentage === 100) {\n        clearInterval(this.interval);\n        this.interval = null;\n        if (upgradeError) {\n            trackEvent('admin_console', 'upgrade_to_enterprise_0_failed', 'upgrade_to_enterprise_0_failed');\n        } else {\n            trackEvent('admin_console', 'upgrade_to_enterprise_0_success', 'upgrade_to_enterprise_0_success');\n        }\n    }\n}, 2000);\\\n}\n}", "CodeBleu_score": 35.9059186450915}, {"code": "reloadPercentage = async () => {\n\tthis.interval) {\nclearInterval(this.interval);\\\n}\n\nconst {upgradeToE0Status} = this.props.actions;\nconst {percentage, error} = await upgradeToE0Status();\n\nif (percentage > 0) {\nthis.interval = setInterval(this.reloadPercentage, 2000);\\\n}\n\nif (percentage === 100) {\nthis.setState({clickNormalUpgradeBtn: true});\n}\n\nif (error) {\nthis.setState({upgradeError: error});\n}\n\nthis.setState({upgradingPercentage: percentage});\n}", "CodeBleu_score": 34.47307606745129}, {"code": "reloadPercentage = async () => {\n\t(this.interval) {\n\t\tclearInterval(this.interval);\n\t}\n\n\tconst upgradePercentage = await this.props.actions.upgradeToE0Status();\n\tif (upgradePercentage.percentage > 0) {\n\t\tthis.setState({upgradingPercentage: upgradePercentage.percentage});\n\t\tthis.interval = setInterval(this.reloadPercentage, 2000);\n\t} else {\n\t\tclearInterval(this.interval);\n\t\tif (upgradePercentage.error) {\n\t\t\tthis.setState({upgradeError: upgradePercentage.error});\n\t\t\ttrackEvent('upgrade_to_e0_error', {error: upgradePercentage.error});\n\t\t} else {\n\t\t\ttrackEvent('upgrade_to_e0_complete');\n\t\t}\n\t}\n}", "CodeBleu_score": 39.667375775637694}]}
{"instance_id": "f91ab43e6fe1", "generation_result": [{"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\tement = fileInputRef.current;\nif (element === null || element.files === null || element.files.length === 0 || element.files[0].size === 0) {\nreturn;\n}\nsetFileObj(element.files[0]);\nsetServerError(null);\nsetIsUploading(true);\n\ntry {\nawait dispatch(uploadLicense(element.files[0]));\n} catch (error) {\nsetFileObj(null);\nsetIsUploading(false);\nsetServerError(error.message);\n}\n\nif (serverError === null) {\nawait dispatch(getLicenseConfig());\nsetFileObj(null);\nsetServerError(null);\nsetIsUploading(false);\nsetUploadSuccessful(true);\n}\n}", "CodeBleu_score": 52.83522530387237}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\t", "CodeBleu_score": 2.4314967846563276}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\t", "CodeBleu_score": 2.4314967846563276}]}
{"instance_id": "840d965d4dcc", "generation_result": [{"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t.preventDefault();\n}", "CodeBleu_score": 2.2141532319751587}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t.preventDefault();\n}", "CodeBleu_score": 2.2141532319751587}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\tefault();\n\nif (this.state.saveNeeded === 'both') {\nthis.setState({saveNeeded: 'permissions'});\n} else if (this.state.saveNeeded === 'config') {\nthis.setState({saveNeeded: false});\nthis.props.setNavigationBlocked(false);\n} else {\nthis.setState({saveNeeded: 'both'});\n}\n\nif (this.state.saveNeeded) {\nreturn;\n}\n\nthis.setState({saving: true, serverError: null, errorTooltip: false});\n\ntry {\nif (this.state.saveNeeded === 'permissions') {\nawait this.updateRoles();\n} else {\nawait this.updateConfig();\n}\n} catch (error) {\nthis.setState({saving: false, serverError: error, errorTooltip: true});\n}\n}", "CodeBleu_score": 14.194965246676611}]}
{"instance_id": "86453b2860e5", "generation_result": [{"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tnst {buttonTextElement, eventID, customClass} = props;\nconst handleClick = useOpenSalesLink();\nconst handleButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\nevent.preventDefault();\ntrackEvent('button', 'click', eventID);\nhandleClick();\n};\nreturn (\n<button\ntype='button'\nclassName={`btn btn-primary btn-block ${customClass}`}\nonClick={handleButtonClick}\n>\n<FormattedMessage\nid='contact_us.contact_us_button'\ndefaultMessage='Contact us'\n/>\n{buttonTextElement}\n</button>\n);\n}", "CodeBleu_score": 37.67744515044387}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tnst {buttonTextElement = <FormattedMessage id='contact_us.contact_us_button_text'/>, eventID = 'contact_us_button', customClass = ''} = props;\n\nconst openSalesLink = useOpenSalesLink();\n\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    trackEvent(eventID);\n    openSalesLink();\n};\n\nreturn (\n    <button\n        type='button'\n        className={`contact_us_button ${customClass}`}\n        onClick={handleClick}\n    >\n        {buttonTextElement}\n    </button>\n);\n}", "CodeBleu_score": 40.29541741411469}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tnst {buttonTextElement = <FormattedMessage id='contact_us.contact_us_button'/>, eventID = 'contact_us_button', customClass = ''} = props;\nconst {openSalesLink} = useOpenSalesLink();\n\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\ne.preventDefault();\ntrackEvent(eventID);\nopenSalesLink();\n};\n\nreturn (\n<button className={`btn btn-link btn-link-sales ${customClass}`} onClick={handleClick}>\n{buttonTextElement}\n</button>\n);\n}", "CodeBleu_score": 36.4620849674323}]}
{"instance_id": "49713e95ae2e", "generation_result": [{"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tnst {openContactSales} = useOpenSalesLink();\n\nconst handleClick = () => {\n    openContactSales();\n};\n\nconst {isDisabled = false, customBtnText} = props;\n\nreturn (\n    <div className='renewal-link'>\n        <button\n            className='btn btn-primary'\n            disabled={isDisabled}\n            onClick={handleClick}\n        >\n            {customBtnText || (\n                <FormattedMessage\n                    id='renewal_link.contact_sales'\n                    defaultMessage='Contact Sales'\n                />\n            )}\n        </button>\n    </div>\n);\n}", "CodeBleu_score": 42.67363810258615}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tnst {\n    telemetryInfo,\n    actions: {openModal},\n    isDisabled = false,\n    customBtnText,\n} = props;\n\nconst openContactSales = useOpenSalesLink(telemetryInfo);\n\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    openContactSales();\n};\n\nconst text = customBtnText || (\n    <FormattedMessage\n        id='renew_link.contact_sales'\n        defaultMessage='Contact Sales'\n    />\n);\n\nreturn (\n    <button\n        className='btn btn-primary btn-sm renewal-link'\n        type='button'\n        onClick={handleClick}\n        disabled={isDisabled}\n    >\n        {text}\n    </button>\n);\n}", "CodeBleu_score": 44.9545235170374}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tnst {telemetryInfo, actions, isDisabled, customBtnText} = props;\nconst openContactSales = useOpenSalesLink();\n\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    openContactSales(telemetryInfo);\n};\n\nreturn (\n    <button\n        className='renewal-link'\n        disabled={isDisabled}\n        onClick={handleClick}\n    >\n        {customBtnText? customBtnText : (\n            <FormattedMessage\n                id='renewal.renewal_link'\n                defaultMessage='Renew'\n            />\n        )}\n    </button>\n);\n}", "CodeBleu_score": 46.55483472617551}]}
{"instance_id": "23618eba67aa", "generation_result": [{"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\tintl}", "CodeBleu_score": 4.562899946594414}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\tintl}", "CodeBleu_score": 4.562899946594414}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\tintl}", "CodeBleu_score": 4.562899946594414}]}
{"instance_id": "10be7e79f7e0", "generation_result": [{"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\telsSearchResults: Channel[] = await this.props.actions.autocompleteChannels(userInput.toLowerCase(), (channels) => {}, () => {});\n\nreturn channelsSearchResults.map((channel) => ({...channel, label: channel.display_name, value: channel.id}));\n}", "CodeBleu_score": 53.11859623170665}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\telsSearchResults: Channel[] = await this.props.actions.autocompleteChannels(userInput.toLowerCase(), () => {}, () => {});\n\nreturn channelsSearchResults.map((channel) => {\nconst label = channel.display_name_normalized || channel.name;\n\nreturn {...channel, label, value: channel.id, icon_data: imageURLForChannel(channel.id)};\n});\n}", "CodeBleu_score": 52.543487056830664}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\telsSearchResults = await this.props.actions.autocompleteChannels(userInput.toLowerCase(), (channels) => {}, () => {});\n\nreturn channelsSearchResults.filter((channel) =>!channel.is_group &&!channel.is_private).map((channel) => {\nreturn {...channel, label: channel.display_name, value: channel.id, icon_data: imageURLForUser(channel.id)};\n});\n}", "CodeBleu_score": 42.42770118457181}]}
{"instance_id": "b44d060ba306", "generation_result": [{"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\tis.props.myChannelMemberships[channel.id]) {\n    done();\n    return;\n}\n\ntry {\n    await this.props.actions.joinChannel(this.props.currentUserId, this.props.teamId, channel.id);\n    const channelMemberCount = this.props.channelsMemberCount[channel.id];\n    this.props.actions.setGlobalItem(StoragePrefixes.CHANNEL_MEMBER_COUNT + channel.id, String(channelMemberCount));\n    getHistory().push(getRelativeChannelURL(this.props.teamName, channel.name));\n    this.props.actions.closeRightHandSide();\n    done();\n} catch (error) {\n    this.setState({\n        serverError: error.message,\n    });\n}\n}", "CodeBleu_score": 33.734284854232754}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t{currentUserId, teamId, teamName, actions} = this.props;\nconst {id} = channel;\n\nif (currentUserId === id) {\n    return;\n}\n\nconst result = await actions.joinChannel(currentUserId, teamId, id);\nif (result.error) {\n    this.setState({serverError: result.error});\n    return;\n}\n\nthis.props.actions.getChannelsMemberCount([id]);\n\nif (done) {\n    done();\n}\n\nconst channelURL = getRelativeChannelURL(teamName, channel.name);\ngetHistory().push(channelURL);\n\nthis.closeEditRHS();\n}", "CodeBleu_score": 43.860612910161116}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t{actions, currentUserId, teamId, teamName} = this.props;\n\nif (currentUserId && teamId && teamName) {\ntry {\nawait actions.joinChannel(currentUserId, teamId, channel.id);\n\nif (this.props.rhsState === RHSStates.EDIT_HISTORY) {\nthis.props.actions.closeRightHandSide();\n}\n\nthis.props.actions.getChannelsMemberCount([channel.id]);\n\ngetHistory().push(getRelativeChannelURL(channel.name, teamName));\n\ndone();\n} catch (error) {\nthis.setState({serverError: error.message});\n}\n}\n}", "CodeBleu_score": 38.76487961513559}]}
{"instance_id": "c6636f0c9c0b", "generation_result": [{"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\tonst { children, expanded, onClick } = props;\nconst cardHeaderClass = classNames('CardHeader', { 'CardHeader--expanded': expanded });\n\nreturn (\n<div\nclassName={cardHeaderClass}\nonClick={onClick}\n>\n{children}\n{expanded && <hr className='CardHeader__divider' />}\n</div>\n);\n}", "CodeBleu_score": 43.28809756683981}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\tonst {\n    children,\n    expanded,\n    onClick,\n} = props;\n\nconst headerClasses = classNames(\n    'card-header',\n    {\n        'card-header--expanded': expanded,\n    },\n);\n\nreturn (\n    <div className={headerClasses} onClick={onClick}>\n        {children}\n        {expanded && <hr className='card-header__divider' />}\n    </div>\n);\n}", "CodeBleu_score": 32.741602670764905}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\tonst {\n    children,\n    expanded,\n    onClick,\n} = props;\n\nreturn (\n<div\nclassName={classNames('CardHeader', {'CardHeader--expanded': expanded})}\nonClick={onClick}\n>\n{children}\n{expanded && <hr className='CardHeader__separator' />}\n</div>\n);\n}", "CodeBleu_score": 30.26044425338881}]}
{"instance_id": "230cb3cd6dd5", "generation_result": [{"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\tonst {title, subtitle, buttonText, isDisabled, onClick} = props;\n\nreturn (\n<div className='title-and-button-card-header'>\n<div className='title-and-button-card-header__title'>{title}</div>\n{subtitle && <div className='title-and-button-card-header__subtitle'>{subtitle}</div>}\n{buttonText && onClick && <button className='title-and-button-card-header__button' disabled={isDisabled} onClick={onClick}>{buttonText}</button>}\n</div>\n);\n}", "CodeBleu_score": 33.26943437902913}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\tonst {title, subtitle, buttonText, isDisabled, onClick} = props;\n\nreturn (\n<div className='TitleAndButtonCardHeader'>\n{title && <h2 className='TitleAndButtonCardHeader__title'>{title}</h2>}\n{subtitle && <p className='TitleAndButtonCardHeader__subtitle'>{subtitle}</p>}\n{buttonText && onClick && (\n<button\nclassName='TitleAndButtonCardHeader__button'\nonClick={onClick}\ndisabled={isDisabled}\n>\n{buttonText}\n</button>\n)}\n</div>\n);\n}", "CodeBleu_score": 17.957938435446998}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\tonst { title, subtitle, buttonText, isDisabled, onClick } = props;\n\nreturn (\n    <div className='TitleAndButtonCardHeader'>\n        <div className='TitleAndButtonCardHeader__title'>{title}</div>\n        {subtitle && <div className='TitleAndButtonCardHeader__subtitle'>{subtitle}</div>}\n        {buttonText && onClick && <button\n            className='TitleAndButtonCardHeader__button'\n            disabled={isDisabled}\n            onClick={onClick}\n        >{buttonText}</button>}\n    </div>\n);\n}", "CodeBleu_score": 36.484887324721214}]}
{"instance_id": "eb5c7946fd59", "generation_result": [{"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t/**\n * This function, show, displays a notification with the provided title, body, color, icon, lifetime, and onClose behavior.\nIt returns a function to remove the notification.\n */\nconst show = (title: string, body: string, color: string, icon: string, lifetime: number, onClose: () => void): () => void => { {\n\n/**\n * This function, remove, removes a notification from the DOM.\n */\nconst remove = (notification: React.ReactElement<any>): void => { {\n\n/**\n * This function, success, displays a success notification with the provided title and body.\n */\nconst success = (title: string, body: string): () => void => { {\n\n/**\n * This function, warning, displays a warning notification with the provided title and body.\n */\nconst warning = (title: string, body: string): () => void => { {\n\n/**\n * This function, danger, displays a danger notification with the provided title and body.\n */\nconst danger = (title: string, body: string): () => void => { {\n\n/**\n * This function, notifications, returns an object with the show, success, warning, and danger functions.\n */\nconst notifications = (): KibanaReactNotifications => ({ show, success, warning, danger });\n\nreturn notifications;\n\n};\n\n};\n\n};\n\n};\n\n};\n\n};\n\n};\n\n};\n\n};\n\n};\n\n}", "CodeBleu_score": 11.333113397342006}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t", "CodeBleu_score": 0.9833424411998644}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t", "CodeBleu_score": 0.9833424411998644}]}
{"instance_id": "e8c4d43e5232", "generation_result": [{"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\theckCoreService();\nconst mountPoint = toMountPoint(node, options?.theme);\nservices.overlays.openFlyout(mountPoint, options);\n}", "CodeBleu_score": 40.64457930175567}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\theckCoreService();\n\nreturn services.overlays.openFlyout(toMountPoint(node, options?.theme));\n}", "CodeBleu_score": 38.55973874911498}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\theckCoreService();\n\nconst mountPoint = toMountPoint(node);\nservices.overlays.openFlyout(mountPoint, options);\n}", "CodeBleu_score": 37.85341301943055}]}
{"instance_id": "89d99efaa3c9", "generation_result": [{"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t  if (onClickCallback) {\n//      onClickCallback(event);\n//    }\n\n    if (isModifiedEvent(event) ||!isLeftClickEvent(event)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    const target = event.target as HTMLElement;\n    if (target && target.getAttribute('target')) {\n      return;\n    }\n\n    history.push(to);\n  }", "CodeBleu_score": 33.878672663439374}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t  if (onClickCallback) {\n//      onClickCallback(event);\n//    }\n    if (isModifiedEvent(event) ||!isLeftClickEvent(event)) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    history.push(toLocationObject(to));\n  }", "CodeBleu_score": 33.283804067896604}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\tonClickCallback) {\n  onClickCallback(event);\n}\n\n// Prevent default behavior if the event is modified or not a left-click\nif (isModifiedEvent(event) ||!isLeftClickEvent(event)) {\n  return;\n}\n\n// Prevent default behavior if the event target has a 'target' attribute\nif (event.currentTarget.hasAttribute('target')) {\n  return;\n}\n\n// Prevent default behavior and navigate to the specified location\nevent.preventDefault();\nhistory.push(toLocationObject(to));\n}", "CodeBleu_score": 46.06575010610374}]}
{"instance_id": "8d8e28c04bbd", "generation_result": [{"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t", "CodeBleu_score": 4.13671600665714}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\tnst {\n  services: { settings },\n} = useKibana();\n\nif (!settings) {\n  throw new TypeError('uiSettings service not available in kibana-react context.');\n}\n\nconst observable$ = useMemo(() => settings!.globalClient.get$(key, defaultValue), [key, defaultValue, settings]);\nconst value = useObservable<T>(observable$, settings!.globalClient.get(key, defaultValue));\nconst set = useCallback((newValue: T) => settings!.globalClient.set(key, newValue), [key]);\n\nreturn [value, set];\n}", "CodeBleu_score": 76.04116818260498}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\tnst {\n    services: { settings },\n  } = useKibana();\n\n  if (!settings) {\n    throw new TypeError('uiSettings service not available in kibana-react context.');\n  }\n\n  const observable$ = useMemo(\n    () => settings!.globalClient.get$(key, defaultValue),\n    [key, defaultValue, settings]\n  );\n  const value = useObservable<T>(observable$, settings!.globalClient.get(key, defaultValue));\n  const set = useCallback((newValue: T) => settings!.globalClient.set(key, newValue), [key]);\n\n  return [value, set];\n}", "CodeBleu_score": 83.26189397925576}]}
{"instance_id": "7da631faf620", "generation_result": [{"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t", "CodeBleu_score": 2.806704880912733}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t", "CodeBleu_score": 2.806704880912733}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t", "CodeBleu_score": 2.806704880912733}]}
{"instance_id": "7a1a98211380", "generation_result": [{"code": "private scheduleFlush(){\n\this.pendingTasks.size === 0) {\nconst tasks = uniqBy(this.batchingQueue, 'action');\nthis.batchingQueue.length = 0;\n\nif (tasks.some(task => task.alwaysShowPopup)) {\nopenContextMenu(buildContextMenuForActions(tasks, this.execute));\n} else if (tasks.length === 1) {\nthis.execute(tasks[0]);\n} else {\nopenContextMenu(buildContextMenuForActions(tasks, this.execute));\n}\n}\n}", "CodeBleu_score": 23.515340788734054}, {"code": "private scheduleFlush(){\n\t tasks = this.batchingQueue.length > 0? uniqBy(this.batchingQueue, 'action') : [...this.pendingTasks];\n\nif (tasks.length > 0) {\nif (tasks.some(task => task.alwaysShowPopup)) {\nopenContextMenu(buildContextMenuForActions(tasks));\n} else if (tasks.length === 1) {\ntasks[0].defer.resolve();\n} else {\nopenContextMenu(buildContextMenuForActions(tasks));\n}\n}\n\nthis.batchingQueue.length = 0;\n}", "CodeBleu_score": 23.326037146925575}, {"code": "private scheduleFlush(){\n\this.pendingTasks.size > 0) {\nreturn;\n}\n\nconst tasks = uniqBy(this.batchingQueue, 'action.id');\nthis.batchingQueue.length = 0;\n\nif (tasks.some(task => task.alwaysShowPopup)) {\nopenContextMenu(buildContextMenuForActions(tasks));\n} else if (tasks.length === 1) {\ntasks[0].defer.resolve();\n} else {\nopenContextMenu(buildContextMenuForActions(tasks));\n}\n}", "CodeBleu_score": 29.322652770203415}]}
{"instance_id": "702779fd9f4a", "generation_result": [{"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\t//  this.service.execute(this.contract, context, alwaysShowPopup);\n}", "CodeBleu_score": 5.6625905030308346}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\t\tconst actions = this.contract.getCompatibleActions(context);\n\tconst results = await Promise.all(actions.map(action => {\n\t\treturn this.service.executeAction(action, context, this.trigger, alwaysShowPopup);\n\t}));\n\n\treturn results.map(result => {\n\t\treturn {\n\t\t\taction: result.action,\n\t\t\tresult: result.result\n\t\t};\n\t});\n}", "CodeBleu_score": 38.11748420157629}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\tconst actions = this.contract.actions.filter(action => action.isCompatible(context));\n\nconst executions = actions.map(action => {\nreturn this.service.execute(action, context, this.trigger, alwaysShowPopup);\n});\n\nreturn Promise.all(executions);\n}", "CodeBleu_score": 39.46595135629574}]}
{"instance_id": "16fd1e46a9be", "generation_result": [{"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\tnst images: Uint8Array[] = [];\nfor (let i = 0; i < frameCount; i++) {\nconst subChunk = chunk.subChunks[i];\nif (subChunk.chunkId!== 'icon') {\nthrow new Error(\\`Expected sub-chunk. Expected 'icon', got '${subChunk.chunkId}'\\`);\n}\nimages.push(subChunk.chunkData.slice(subChunk.chunkData.start, subChunk.chunkData.end));\n}\nreturn images;\n}", "CodeBleu_score": 48.726381079150386}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\tnst images: Uint8Array[] = [];\n\nfor (let i = 0; i < frameCount; i++) {\nconst subChunk = chunk.subChunks[i];\nif (subChunk.chunkId!== \\\"icon\\\") {\nthrow new Error(\\`Expected chunkId. Expected \\\"icon\\\", got \\\"${subChunk.chunkId}\\\" in frame ${i}\\`);\n}\nimages.push(chunk.chunkData.data.slice(subChunk.chunkData.start, subChunk.chunkData.end));\n}\n\nreturn images;\n}", "CodeBleu_score": 47.20479594924446}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\tonst imageChunks = chunk.subChunks.slice(0, frameCount).filter((subChunk) => {\n\nif (subChunk.format!== \\\"icon\\\") {\n\nthrow new Error(\\`Expected format. Expected \\\"icon\\\", got \\\"${subChunk.format}\\\"\"\\`);\n\n}\n\nreturn true;\n\n});\n\nreturn imageChunks.map((subChunk) => {\n\nconst data = subChunk.chunkData;\n\nreturn arr.slice(data.start, data.end);\n\n});\n\n}", "CodeBleu_score": 51.078821248794014}]}
{"instance_id": "6b6f91239073", "generation_result": [{"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t\tconst ani = parseAni(contents);\n\tconst displayRate = ani.displayRate;\n\tconst totalDuration = ani.frames.length / displayRate;\n\tconst frames = ani.frames.map((frame, index) => {\n\t\tconst url = `data:image/png;base64,${frame.imageData}`;\n\t\tconst percents = [];\n\t\tfor (let i = 0; i < displayRate; i++) {\n\t\t\tpercents.push(Math.round((i / displayRate) * 100));\n\t\t}\n\t\treturn { url, percents };\n\t});\n\treturn { frames, duration: totalDuration };\n}", "CodeBleu_score": 39.661964214008535}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\tconst cursor = parseAni(contents);\n\nconst displayRate = cursor.displayRate;\nconst duration = cursor.frames.length * displayRate;\n\nconst frames = cursor.frames.map((frame) => {\nconst percents = [];\nlet elapsed = 0;\n\nfor (let i = 0; i < frame.length; i++) {\nconst pixel = frame[i];\n\nif (pixel.isTransparent) {\npercents.push(0);\n} else {\npercents.push(elapsed);\nelapsed += displayRate;\n}\n}\n\nreturn {\nurl: `data:image/png;base64,${frame.data.toString(\"base64\")}`,\npercents,\n};\n});\n\nreturn {\nframes,\nduration,\n};\n}", "CodeBleu_score": 37.98496962472916}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t\tconst {\n\t\tframes,\n\t\tduration,\n\t} = parseAni(contents);\n\n\tconst frameCount = frames.length;\n\tconst displayRate = JIFFIES_PER_MS / duration;\n\n\tconst framePercents: number[] = [];\n\tfor (let i = 0; i < frameCount; i++) {\n\t\tframePercents[i] = i * displayRate;\n\t}\n\n\tconst aniCursorImage: AniCursorImage = {\n\t\tframes: frames.map((frame) => {\n\t\t\treturn {\n\t\t\t\turl: frame.url,\n\t\t\t\tpercents: framePercents,\n\t\t\t};\n\t\t}),\n\t\tduration,\n\t};\n\n\treturn aniCursorImage;\n}", "CodeBleu_score": 31.232874752691426}]}
{"instance_id": "f059427111a8", "generation_result": [{"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t", "CodeBleu_score": 1.4926772784021654}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t\n// Create a new Knex instance\n  const db = knex();\n\n// Retrieve all items with non-empty metadata\n  const items = await db(\\\"items\\\").select(\\\"id\\\", \\\"metadata_json\\\").whereNotNull(\\\"metadata_json\\\");\n\n// Create arrays to store items with too many files, too few files, and missing skin file\n  const tooManyFiles = [];\n  const tooFewFiles = [];\n  const missingSkinFile = [];\n\n// Iterate through each item\n  for (const item of items) {\n\n// Parse the metadata JSON and extract the files array\n    const { files } = JSON.parse(item.metadata_json);\n\n// Filter the files array to only include files that are not generated files\n    const filteredFiles = files.filter(file => isNotGeneratedFile(file));\n\n// Check if the files array has more than 100 files\n    if (filteredFiles.length > 100) {\n      tooManyFiles.push(item.id);\n    }\n\n// Check if the files array has fewer than 10 files\n    if (filteredFiles.length < 10) {\n      tooFewFiles.push(item.id);\n    }\n\n// Check if the files array does not contain a skin file\n    if (!filteredFiles.some(file => file.format === \\\"Skin\\\")) {\n      missingSkinFile.push(item.id);\n    }\n  }\n\n// Log a table summarizing the results of the categorization\n  console.log(\\\"Summary of categorization:\\\");\n  console.log(\\\"- Items with too many files: \\\", tooManyFiles);\n  console.log(\\\"- Items with too few files: \\\", tooFewFiles);\n  console.log(\\\"- Items missing skin file: \\\", missingSkinFile);\n}", "CodeBleu_score": 25.143120699078953}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t", "CodeBleu_score": 1.4926772784021654}]}
{"instance_id": "9d9b04763521", "generation_result": [{"code": "function useSkinKeyboardControls(){\n\t\n}", "CodeBleu_score": 1.485785396343634}, {"code": "function useSkinKeyboardControls(){\n\t\n}", "CodeBleu_score": 1.485785396343634}, {"code": "function useSkinKeyboardControls(){\n\t", "CodeBleu_score": 1.4014229840871502}]}
{"instance_id": "c49e878d86ad", "generation_result": [{"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\n}", "CodeBleu_score": 19.579200422785167}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\n}", "CodeBleu_score": 19.579200422785167}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t", "CodeBleu_score": 19.43816909516725}]}
{"instance_id": "afa715d20f88", "generation_result": [{"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t   console.log(\\\"loadMedia\\\");\n  return (dispatch, getState) => {\n    const { handleTrackDropEvent } = getState().ui;\n    if (handleTrackDropEvent) {\n      const { index, style } = handleTrackDropEvent(e);\n      if (index!== undefined && style!== undefined) {\n        dispatch(loadMediaFiles(e.dataTransfer.files, style, index));\n        return;\n      }\n    }\n    dispatch(loadFilesFromReferences(e.dataTransfer.files, loadStyle, atIndex));\n  };\n}", "CodeBleu_score": 46.48926628371742}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t  const fileReferences = e.dataTransfer?.files;\n  if (!fileReferences) {\n    return;\n  }\n  const handleTrackDropEvent = e.dataTransfer?.getData(\\\"application/x-webamp-track-drop\\\");\n  if (handleTrackDropEvent) {\n    const {\n      windowId,\n      trackId,\n      playlistIndex,\n      playlistWindowId,\n    } = JSON.parse(handleTrackDropEvent);\n    const trackIsVisible = getTrackIsVisibleFunction(getState());\n    if (trackIsVisible(trackId)) {\n      return handleTrackDropEvent(e, loadStyle, atIndex);\n    }\n    return;\n  }\n  return loadFilesFromReferences(fileReferences, loadStyle, atIndex);\n}", "CodeBleu_score": 41.66096778189332}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\teturn async (dispatch, getState, { handleTrackDropEvent }) => {\n    const { files } = e.dataTransfer;\n    if (!files) {\n      return;\n    }\n    if (handleTrackDropEvent) {\n      await handleTrackDropEvent(e, loadStyle, atIndex);\n    } else {\n      dispatch(loadFilesFromReferences(files, loadStyle, atIndex));\n    }\n  };\n}", "CodeBleu_score": 55.3774665296714}]}
{"instance_id": "0faea0aa350c", "generation_result": [{"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t//     if (!requireMusicMetadata) {\n//       throw new Error(\n//         \\\"Webamp has not been configured to support fetching media tags.\\\"\n//       );\n//     }\n    dispatch({ type: FETCHING_MEDIA_TAGS, id });\n    try {\n      const tags = await fetchMediaTagsInner(file, requireMusicMetadata);\n      dispatch({ type: SET_MEDIA_TAGS,...tags, id });\n    } catch (e) {\n      console.error(e);\n      dispatch({ type: FETCH_MEDIA_TAGS_FAILURE, id });\n    }\n  }", "CodeBleu_score": 18.691776733593144}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t// TODO: This is a hack to make the test suite work. Remove this when we can figure out how to make the test suite work.\n    if (requireMusicMetadata == null) {\n      requireMusicMetadata = require(\"music-metadata\");\n    }\n\n    if (!requireMusicMetadata) {\n      alert(\"Webamp has not been configured to support media tags.\");\n      return;\n    }\n\n    dispatch({ type: FETCHING_MEDIA_TAGS, id });\n\n    try {\n      const metadata = await requireMusicMetadata(file);\n      const { artist, title, album } = metadata;\n      const albumArt = metadata.common.picture;\n      dispatch({\n        type: SET_MEDIA_TAGS,\n        artist,\n        title,\n        album,\n        albumArt,\n        // For now, we lie about these next three things.\n        // TODO: Ideally we would leave these as null and force a media data\n        // fetch when the user starts playing.\n        sampleRate: 44000,\n        bitrate: 192000,\n        numberOfChannels: 2,\n        id,\n      });\n    } catch (e) {\n      console.error(e);\n      dispatch({ type: FETCHING_MEDIA_TAGS_FAILED, id });\n      alert(\"Failed to fetch media tags\");\n    }\n  }", "CodeBleu_score": 35.24112888701808}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\n// TODO: This is a temporary hack to get around the fact that we don't have a way to load\n// metadata from a blob yet. We should remove this when we do.\nif (typeof file === \\\"string\\\") {\n  const url = new URL(file);\n  if (url.protocol === \\\"file:\\\" && url.hostname === \\\"localhost\\\") {\n    file = await fetch(file).then((response) => response.blob());\n  }\n}\n\n    dispatch({ type: FETCH_MEDIA_TAGS_START, id });\n    try {\n      const metadata = await requireMusicMetadata(file);\n      const { artist, title, album, albumArt } = metadata;\n      dispatch({\n        type: SET_MEDIA_TAGS,\n        artist,\n        title,\n        album,\n        albumArt,\n        id,\n      });\n    } catch (e) {\n      console.error(e);\n      dispatch({ type: FETCH_MEDIA_TAGS_FAILURE, id });\n    }\n  }", "CodeBleu_score": 31.769083160385804}]}
{"instance_id": "02174213852f", "generation_result": [{"code": "export function playTrack(id: number): Thunk {{\n\treturn async (dispatch: Dispatch, getState: GetState) => { {\n  const { mediaStatus } = getState(); {\n    if (mediaStatus === MEDIA_STATUS.STOPPED) { {\n      dispatch(bufferTrack(id));\n    } } else { {\n      dispatch(playTrackAction(id));\n    } } } } } }", "CodeBleu_score": 31.224898437652303}, {"code": "export function playTrack(id: number): Thunk {{\n\treturn (dispatch: Dispatch, getState: GetState) => {\nconst state = getState();\nif (Selectors.isStopped(state)) {\ndispatch(bufferTrack(id));\n} else {\ndispatch(playTrackAction(id));\n}\n};\n}", "CodeBleu_score": 32.875638890261904}, {"code": "export function playTrack(id: number): Thunk {{\n\tconst state = Selectors.getState();\nif (state.media.status === MEDIA_STATUS.STOPPED) {\nreturn dispatch => {\ndispatch(bufferTrack(id));\n};\n}\nreturn dispatch => {\ndispatch(playTrackAction(id));\n};\n}", "CodeBleu_score": 26.562374786096644}]}
{"instance_id": "643b829015d2", "generation_result": [{"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\treturn (dispatch, getState) => {\n\t\te.preventDefault();\n\t\tconst currentVolume = getState().media.volume;\n\t\tconst delta = e.deltaY < 0? 1 : -1;\n\t\treturn dispatch(setVolume(currentVolume + delta));\n\t};\n}", "CodeBleu_score": 71.24337778553047}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault();\n\tconst delta = e.deltaY;\n\tconst currentVolume = Selectors.getVolume(getState());\n\treturn dispatch(setVolume(currentVolume + delta));\n}", "CodeBleu_score": 47.74181116718734}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault();\n\treturn (dispatch, getState) => {\n\t\tconst currentVolume = getState().media.volume;\n\t\tdispatch(setVolume(currentVolume + e.deltaY));\n\t};\n}", "CodeBleu_score": 84.87562595323853}]}
{"instance_id": "d97c127090ce", "generation_result": [{"code": "function FullScreen(props: Props){\n\t\nconst { enabled, children, onChange } = props;\n\n// Track the target element\nconst targetRef = useRef<HTMLDivElement>(null);\n\n// Add event listener for fullscreen changes\nuseEffect(() => {\nif (enabled) {\nfscreen.addEventListener(\\\"fullscreenchange\\\", () => {\nonChange(fscreen.fullscreenElement === targetRef.current);\n});\n}\nreturn () => {\nfscreen.removeEventListener(\\\"fullscreenchange\\\", () => {\nonChange(fscreen.fullscreenElement === targetRef.current);\n});\n};\n}, [enabled]);\n\n// Toggle fullscreen mode based on enabled prop\nuseLayoutEffect(() => {\nif (enabled) {\nenterFullScreen(targetRef.current);\n} else {\nleaveFullScreen();\n}\n}, [enabled]);\n\nreturn (\n<div ref={targetRef} style={{ height: \\\"100%\\\", width: \\\"100%\\\" }}>{children}</div>\n);\n}", "CodeBleu_score": 44.311761316382125}, {"code": "function FullScreen(props: Props){\n\t\tconst { children, enabled, onChange } = props;\n\tconst targetRef = useRef<HTMLDivElement>(null);\n\n\tuseLayoutEffect(() => {\n\t\tif (enabled) {\n\t\t\tenterFullScreen(targetRef.current!);\n\t\t} else {\n\t\t\tleaveFullScreen();\n\t\t}\n\t}, [enabled]);\n\n\tuseEffect(() => {\n\t\tif (enabled) {\n\t\t\tconst listener = () => onChange(false);\n\t\t\tfscreen.addEventListener(\\\"fullscreenchange\\\", listener);\n\t\t\treturn () => fscreen.removeEventListener(\\\"fullscreenchange\\\", listener);\n\t\t}\n\t}, [enabled, onChange]);\n\n\treturn <div ref={targetRef}>{children}</div>;\n}", "CodeBleu_score": 34.08351997671661}, {"code": "function FullScreen(props: Props){\n\tconst { children, enabled, onChange } = props;\nconst fullscreenRef = useRef<HTMLDivElement>(null);\nconst isFullscreen = fscreen.fullscreenElement!== null;\n\nuseLayoutEffect(() => {\nif (enabled) {\nenterFullScreen(fullscreenRef.current!);\n} else {\nleaveFullScreen();\n}\n}, [enabled]);\n\nuseEffect(() => {\nif (enabled) {\nreturn;\n}\n\nif (isFullscreen) {\nonChange(true);\n}\n}, [isFullscreen]);\n\nreturn (\n<div ref={fullscreenRef}>{children}</div>\n);\n}", "CodeBleu_score": 30.00493344346593}]}
{"instance_id": "d333738337a8", "generation_result": [{"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\taths = {};\nfor (const [regionName, polygons] of Object.entries(skinRegion)) {\nif (polygons) {\nconst id = mapRegionNamesToIds[regionName];\nclipPaths[id] = polygons;\n}\n}\nreturn clipPaths;\n}", "CodeBleu_score": 50.74899216615746}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\tction, getClipPaths, is a selector that processes skin region data.\nIt creates an object to store clip paths, iterates over the skin regions, and maps region names to IDs if polygons are present.\nThe resulting object containing these clip paths is then returned.\n  const clipPaths = {};\n  for (const [regionName, polygons] of Object.entries(skinRegion)) {\n    if (polygons) {\n      const id = mapRegionNamesToIds[regionName];\n      clipPaths[id] = new ClipPaths(polygons);\n    }\n  }\n  return clipPaths;\n}", "CodeBleu_score": 45.509121948907584}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\tPaths = {};\n\nfor (const [regionName, polygons] of Object.entries(skinRegion)) {\nif (polygons) {\nconst id = mapRegionNamesToIds[regionName];\nclipPaths[id] = new ClipPaths(polygons);\n}\n}\n\nreturn clipPaths;\n\n}", "CodeBleu_score": 45.10810719289988}]}
{"instance_id": "6d30b280ffbe", "generation_result": [{"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\nconst buckets: number[] = [];\nconst bucketSize = bufferLength / NUM_BARS;\nlet frequency = 20;\n\nfor (let i = 0; i < NUM_BARS; i++) {\n\nconst index = Math.round(frequency / bucketSize);\nbuckets.push(index);\nfrequency *= 2;\n}\n\nreturn buckets;\n}", "CodeBleu_score": 21.258357229100998}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\nconst buckets = [];\nconst minHz = 20;\nconst maxHz = 20000;\nconst octave = Math.log2(maxHz / minHz);\nconst step = octave / NUM_BARS;\n\nfor (let i = 0; i < NUM_BARS; i++) {\nconst freq = minHz * Math.pow(2, i * step);\nbuckets.push(Math.floor(freq * bufferLength / sampleRate));\n}\n\nreturn buckets;\n}", "CodeBleu_score": 26.13161977164873}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\nconst octaveBucketIndices: number[] = [];\n\n// Initialize octave buckets\nfor (let i = 0; i < NUM_BARS; i++) {\noctaveBucketIndices[i] = 0;\n}\n\n// Calculate frequency steps from minHz to maxHz\nconst minHz = 20;\nconst maxHz = 20000;\nconst freqStep = Math.pow(2, 1 / 12) * minHz;\n\n// Map frequencies to indices in the buffer\nfor (let i = 0; i < bufferLength; i++) {\nconst freq = freqStep * Math.pow(2, i / NUM_BARS);\nconst index = Math.round(freq / (maxHz / bufferLength));\noctaveBucketIndices[i % NUM_BARS] = Math.max(index, octaveBucketIndices[i % NUM_BARS]);\n}\n\nreturn octaveBucketIndices;\n}", "CodeBleu_score": 38.15192732253547}]}
{"instance_id": "e7c399fb0db4", "generation_result": [{"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}]}
{"instance_id": "b858f410c3f3", "generation_result": [{"code": "const ClutterBar = memo(() =>{\n\t\nconst doubled = useTypedSelector(Selectors.doubled);\n\nconst setFocus = useActionCreator(Actions.setFocus);\nconst toggleDoubleSizeMode = useActionCreator(Actions.toggleDoubleSizeMode);\nconst unsetFocus = useActionCreator(Actions.unsetFocus);\n\nconst handleMouseUp = () => {\n  unsetFocus();\n  toggleDoubleSizeMode();\n};\n\nconst handleMouseDown = (e: React.MouseEvent<HTMLElement>) => {\n  setFocus(e.currentTarget.id);\n};\n\nconst handleMouseUpDouble = () => {\n  unsetFocus();\n  toggleDoubleSizeMode();\n};\n\nreturn (\n<div className=\\\"clutter-bar\\\">\n  <div className=\\\"clutter-bar-button\\\" id=\\\"single\\\" onMouseDown={handleMouseDown} onMouseUp={handleMouseUp} >\n    <svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"48\\\" stroke=\\\"black\\\" strokeWidth=\\\"2\\\" />\n    </svg>\n  </div>\n  <div className={classnames(\\\"clutter-bar-button\\\", { \\\"clutter-bar-button-doubled\\\": doubled })} id=\\\"double\\\" onMouseDown={handleMouseDown} onMouseUp={handleMouseUpDouble} >\n    <svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 100 100\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\n      <circle cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"48\\\" stroke=\\\"black\\\" strokeWidth=\\\"2\\\" />\n    </svg>\n  </div>\n  <ContextMenuTarget>\n    <OptionsContextMenu onMouseDown={handleMouseDown} />\n  </ContextMenuTarget>\n</div>\n);\n\n}", "CodeBleu_score": 26.532150239458286}, {"code": "const ClutterBar = memo(() =>{\n\t", "CodeBleu_score": 1.1151438765950388}, {"code": "const ClutterBar = memo(() =>{\n\t", "CodeBleu_score": 1.1151438765950388}]}
{"instance_id": "5946b13d68ba", "generation_result": [{"code": "const PlaylistToggleButton = memo(() =>{\n\tconst isPlaylistOpen = useTypedSelector(Selectors.isPlaylistOpen);\nconst togglePlaylist = useActionCreator(Actions.toggleWindow);\n\nreturn (\n<WinampButton\nid=\\\"playlist-toggle-button\\\"\nclassName={classnames({\n\\\"playlist-toggle-button--open\\\": isPlaylistOpen\n})}\nonClick={togglePlaylist}\ntitle=\\\"Toggle Playlist\\\"\n/>\n);\n}", "CodeBleu_score": 24.263616816600525}, {"code": "const PlaylistToggleButton = memo(() =>{\n\t\nconst isPlaylistOpen = useTypedSelector(Selectors.isPlaylistOpen);\nconst togglePlaylist = useActionCreator(Actions.toggleWindow);\n\nreturn (\n<WinampButton\nid=\\\"playlistToggleButton\\\"\nclassName={classnames({\nplaylistToggleButton: true,\nplaylistToggleButton_open: isPlaylistOpen\n})}\nonClick={togglePlaylist}\ntitle=\\\"Toggle the playlist editor\\\"\n/>\n);\n}", "CodeBleu_score": 23.3965135878159}, {"code": "const PlaylistToggleButton = memo(() =>{\n\t\nconst isPlaylistOpen = useTypedSelector(Selectors.isPlaylistOpen);\nconst togglePlaylist = useActionCreator(Actions.toggleWindow);\n\nreturn (\n<WinampButton\nid=\\\"playlist-toggle-button\\\"\nclassName={classnames(\\\"playlist-toggle-button\\\", { \\\"playlist-toggle-button--open\\\": isPlaylistOpen })}\nonClick={togglePlaylist}\ntitle=\\\"Toggle playlist\\\"\n/>\n);\n}", "CodeBleu_score": 25.00462145606461}]}
{"instance_id": "39ecf0db7a99", "generation_result": [{"code": "const Desktop = React.memo(({ children }: Props) =>{\n\t\nconst div = React.useRef(document.createElement('div'));\n\nReact.useEffect(() => {\n\ndocument.body.appendChild(div.current);\n\nreturn () => {\n\ndocument.body.removeChild(div.current);\n\n};\n\n}, []);\n\nreturn ReactDOM.createPortal(children, div.current);\n\n}", "CodeBleu_score": 30.829343019579248}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\tconst ref = React.useRef<HTMLDivElement>(null);\n\nReact.useEffect(() => {\nconst element = document.createElement(\\\"div\\\");\nelement.setAttribute(\\\"class\\\", \\\"webamp-desktop\\\");\ndocument.body.appendChild(element);\nref.current = element;\nreturn () => {\ndocument.body.removeChild(element);\n};\n}, []);\n\nreturn ReactDOM.createPortal(children, ref.current);\n}", "CodeBleu_score": 37.46550701336886}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\tconst ref = React.useRef(null);\nReact.useEffect(() => {\nif (ref.current) {\nconst desktop = document.createElement('div');\ndesktop.className = 'webamp-desktop';\ndocument.body.appendChild(desktop);\nReactDOM.createPortal(children, desktop);\nreturn () => {\ndocument.body.removeChild(desktop);\n};\n}\n}, [children]);\nreturn React.createElement('div', {\nref\n});\n}", "CodeBleu_score": 40.24303137687188}]}
{"instance_id": "41be320578a4", "generation_result": [{"code": "export default function PlaylistScrollBar(){\n\t\nconst [playlistHeight, setPlaylistHeight] = useState(0);\nconst [scrollPosition, setScrollPosition] = useState(0);\nconst [isDisabled, setIsDisabled] = useState(false);\n\nconst handleScroll = useCallback(\n(e) => {\nconst { scrollTop } = e.target;\nsetScrollPosition(scrollTop);\n},\n[setScrollPosition]\n);\n\nuseEffect(() => {\nconst { playlistHeight, scrollPosition, isDisabled } = useTypedSelector(\n[Selectors.getPlaylistHeight, Selectors.getPlaylistScrollPosition, Selectors.getPlaylistIsDisabled]\n);\n\nsetPlaylistHeight(playlistHeight);\nsetScrollPosition(scrollPosition);\nsetIsDisabled(isDisabled);\n}, [playlistHeight, scrollPosition, isDisabled]);\n\nconst handleScrollChange = useActionCreator(Actions.setPlaylistScrollPosition);\n\nreturn (\n<div className=\\\"playlist-scrollbar-container\\\" style={{ height: playlistHeight }}>\n<VerticalSlider\nmin={0}\nmax={playlistHeight - WINDOWS.PLAYLIST.HEIGHT}\nvalue={scrollPosition}\ndisabled={isDisabled}\nonChange={handleScrollChange}\n>\n<Handle />\n</VerticalSlider>\n</div>\n);\n}", "CodeBleu_score": 35.644293300745254}, {"code": "export default function PlaylistScrollBar(){\n\t\nconst [playlistHeight, setPlaylistHeight] = useState(0);\nconst [scrollPosition, setScrollPosition] = useState(0);\nconst [isScrollBarVisible, setIsScrollBarVisible] = useState(false);\n\nconst handleScroll = useCallback((e) => {\nconst { scrollTop } = e.target;\nsetScrollPosition(scrollTop);\n}, []);\n\nconst handleScrollEnd = useCallback(() => {\nsetIsScrollBarVisible(false);\n}, []);\n\nconst handleScrollStart = useCallback(() => {\nsetIsScrollBarVisible(true);\n}, []);\n\nconst handleScrollTo = useActionCreator(Actions.playlist.scrollTo);\n\nuseEffect(() => {\nconst playlist = useTypedSelector(Selectors.playlist.getPlaylist);\nconst playlistHeight = playlist.reduce((acc, track) => acc + track.height, 0);\nsetPlaylistHeight(playlistHeight);\n}, [playlist]);\n\nuseEffect(() => {\nif (isScrollBarVisible) {\nhandleScrollTo(scrollPosition);\n}\n}, [isScrollBarVisible, scrollPosition]);\n\nuseEffect(() => {\nconst playlist = useTypedSelector(Selectors.playlist.getPlaylist);\nconst isScrollBarVisible = playlist.length > WINDOWS.PLAYLIST;\nsetIsScrollBarVisible(isScrollBarVisible);\n}, [playlist]);\n\nreturn (\n<div className=\\\"playlist-scrollbar-container\\\" onScroll={handleScroll} onScrollEnd={handleScrollEnd} onScrollStart={handleScrollStart}>\n<VerticalSlider\nmin={0}\nmax={playlistHeight}\nvalue={scrollPosition}\nonChange={setScrollPosition}\nhandle={<Handle />}\n/>\n</div>\n);\n}", "CodeBleu_score": 27.711510959531786}, {"code": "export default function PlaylistScrollBar(){\n\tconst playlistHeight = useTypedSelector(Selectors.getPlaylistHeight);\nconst scrollPosition = useTypedSelector(Selectors.getPlaylistScrollPosition);\nconst allTracksVisible = useTypedSelector(Selectors.allTracksVisible);\nconst updateScrollPosition = useActionCreator(Actions.updateScrollPosition);\n\nreturn (\n<VerticalSlider\n\n  min={0}\n\n  max={playlistHeight - WINDOWS.PLAYLIST_HEIGHT}\n\n  value={scrollPosition}\n\n  disabled={allTracksVisible}\n\n  handle={Handle}\n\n  onChange={updateScrollPosition}\n\n/>\n\n);\n}", "CodeBleu_score": 34.28102182866793}]}
{"instance_id": "fccf51432007", "generation_result": [{"code": "export function genMediaDuration(url: string): Promise<number>{\n\treturn new Promise((resolve, reject) => {\n\t\tconst audio = new Audio();\n\t\taudio.crossOrigin = \\\"anonymous\\\";\n\t\taudio.addEventListener(\\\"durationchange\\\", () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener(\\\"durationchange\\\", () => {});\n\t\t});\n\t\taudio.addEventListener(\\\"error\\\", (e) => {\n\t\t\treject(e);\n\t\t\taudio.removeEventListener(\\\"error\\\", () => {});\n\t\t});\n\t\taudio.src = url;\n\t});\n}", "CodeBleu_score": 34.375329387798914}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\tconst audio = document.createElement('audio');\n\taudio.crossOrigin = 'anonymous';\n\taudio.src = url;\n\n\tconst promise = new Promise<number>((resolve, reject) => {\n\t\taudio.addEventListener('durationchange', () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener('durationchange', () => {});\n\t\t});\n\t\taudio.addEventListener('error', (e) => {\n\t\t\treject(e);\n\t\t\taudio.removeEventListener('error', () => {});\n\t\t});\n\t});\n\n\treturn promise;\n}", "CodeBleu_score": 46.342765929606635}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\tconst audio = document.createElement('audio');\n\taudio.crossOrigin = 'anonymous';\n\taudio.addEventListener('durationchange', () => {\n\t\taudio.removeEventListener('durationchange', null);\n\t\taudio.removeEventListener('error', null);\n\t\tresolve(audio.duration);\n\t});\n\taudio.addEventListener('error', (e) => {\n\t\taudio.removeEventListener('durationchange', null);\n\t\taudio.removeEventListener('error', null);\n\t\treject(e);\n\t});\n\taudio.src = url;\n\treturn new Promise((resolve, reject) => {\n\t\taudio.load();\n\t});\n}", "CodeBleu_score": 39.27599925486022}]}
{"instance_id": "8055da9c9425", "generation_result": [{"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t/ TODO: This should be a type\n  invariant(\n    fileReference!= null,\n    \"Attempted to get the ArrayBuffer of a file reference without passing a file reference\"\n  );\n  const fileReader = new FileReader();\n  return new Promise((resolve, reject) => {\n    fileReader.addEventListener(\"load\", () => {\n      resolve(fileReader.result);\n    });\n    fileReader.addEventListener(\"error\", (e) => {\n      reject(e);\n    });\n    fileReader.readAsArrayBuffer(fileReference);\n  });\n}", "CodeBleu_score": 60.05197779389275}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t/ TODO: This is a hack to get around the fact that the type definition of\n// FileReference is missing the \"file\" property.\n// This should be fixed in the future.\nconst file = fileReference as any;\ninvariant(\n  fileReference!= null,\n  \"Attempted to get ArrayBuffer from file reference without passing a file reference\"\n);\n\nconst reader = new FileReader();\n\nreturn new Promise((resolve, reject) => {\n  reader.addEventListener(\"load\", (e) => {\n    resolve(e.target?.result);\n  });\n  reader.addEventListener(\"error\", (e) => {\n    reject(e);\n  });\n  reader.readAsArrayBuffer(file);\n});\n}", "CodeBleu_score": 49.05116469012158}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t/ TODO: This should be a type\n  const file = fileReference as File;\n  invariant(file!= null, \"Attempted to get the ArrayBuffer of a null file reference\");\n  const reader = new FileReader();\n  return new Promise((resolve, reject) => {\n    reader.addEventListener(\"load\", () => {\n      resolve(reader.result);\n    });\n    reader.addEventListener(\"error\", (e) => {\n      reject(e);\n    });\n    reader.readAsArrayBuffer(file);\n  });\n}", "CodeBleu_score": 49.11581751684041}]}
{"instance_id": "b3dc12d7d309", "generation_result": [{"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = useState<T | null>(null);\n\tconst [disposed, setDisposed] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tpropValue.then(setValue);\n\t}, [propValue]);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsetDisposed(true);\n\t\t};\n\t}, []);\n\n\treturn value;\n}", "CodeBleu_score": 60.50339614311322}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = useState<T | null>(null);\n\tconst unmountedRef = useUnmountedRef();\n\n\tuseEffect(() => {\n\t\tpropValue\n\t\t\t.then((value) => {\n\t\t\t\tif (!unmountedRef.current) {\n\t\t\t\t\tsetValue(value);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t}, [propValue]);\n\n\treturn value;\n}", "CodeBleu_score": 53.81953337536729}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = useState<T | null>(null);\n\tconst [disposed, setDisposed] = useState(false);\n\n\tuseEffect(() => {\n\t\tpropValue.then(setValue);\n\t}, [propValue]);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tsetDisposed(true);\n\t\t};\n\t}, []);\n\n\tif (disposed) {\n\t\treturn null;\n\t}\n\n\treturn value;\n}", "CodeBleu_score": 56.37920354778618}]}
{"instance_id": "7fc14a50df16", "generation_result": [{"code": "export default function regionParser(regionStr: string): RegionData{\n\tconst regionData: RegionData = {};\nconst regionSections = parseIni(regionStr);\n\nfor (const [section, sectionData] of Object.entries(regionSections)) {\nconst polygonPoints = sectionData.map((point) => point.split(',')).filter((point) => point.length === 2);\nif (polygonPoints.length > 0) {\nregionData[section] = polygonPoints;\n}\n}\n\nreturn regionData;\n}", "CodeBleu_score": 16.920781944952363}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t\n// 1. Parse the input string into sections\nconst sections = parseIni(regionStr);\n\n// 2. Process each section to extract polygon points\nconst regionData = {};\nfor (const section in sections) {\nconst points = sections[section];\n\n// 3. Filter out invalid polygons\nconst validPolygons = points.filter(polygon => polygon.length >= 6);\n\n// 4. Store valid polygons in the output object\nregionData[section] = validPolygons;\n}\n\nreturn regionData;\n}", "CodeBleu_score": 12.332461554811793}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t//   const regionData: RegionData = {};\n//   const rawRegionData = parseIni(regionStr);\n//   for (const section in rawRegionData) {\n//     const sectionData = rawRegionData[section];\n//     if (sectionData.length === 0) {\n//       continue;\n//     }\n//     const polygonPoints = pointPairs(sectionData);\n//     const polygons = polygonPoints.map(polygon => {\n//       const points = polygon.split(\\\",\\\").map(point => {\n//         const [x, y] = point.split(\\\"/\\\");\n//         return [parseInt(x), parseInt(y)];\n//       });\n//       return points;\n//     });\n//     regionData[section] = polygons.filter(polygon => {\n//       const [x1, y1] = polygon[0];\n//       const [x2, y2] = polygon[1];\n//       const [x3, y3] = polygon[2];\n//       const [x4, y4] = polygon[3];\n//       return x1!== x2 && x2!== x3 && x3!== x4 && x4!== x1 && y1!== y2 && y2!== y3 && y3!== y4 && y4!== y1;\n//     });\n//   }\n//   return regionData;\n// }", "CodeBleu_score": 1.3588827273498159}]}
{"instance_id": "6e97ec2706cf", "generation_result": [{"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\tgetMediaIsPlaying,\ngetCurrentTrackId,\ngetMediaTags,\n}", "CodeBleu_score": 0.5016354190307902}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\tgetMediaIsPlaying,\ngetCurrentTrackId,\ngetTracks,\n}", "CodeBleu_score": 0.4332555011668913}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\tgetCurrentTrack,\ngetMediaIsPlaying,\ngetMediaStatus,\n}", "CodeBleu_score": 0.5280085361376539}]}
{"instance_id": "5dbbdd07f829", "generation_result": [{"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t", "CodeBleu_score": 2.5019891902114106}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t\t// Wait for the skin to load.\n\t// TODO #leak\n\tawait storeHas(this.store, (state) =>!state.display.loading);\n\t// We attempt to pre-resolve these promises before we declare the skin\n\t// loaded. That's because `<EqGraph>` needs these in order to render fully.\n\t// As long as these are resolved before we attempt to render, we can ensure\n\t// that we will have all the data we need on first paint.\n\t//\n\t// Note: This won't help for non-initial skin loads.\n\tawait Promise.all([\n\t\tSelectors.getPreampLineImage(this.store.getState()),\n\t\tSelectors.getLineColorsImage(this.store.getState()),\n\t]);\n\treturn;\n}", "CodeBleu_score": 34.710560936692445}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t", "CodeBleu_score": 2.5019891902114106}]}
{"instance_id": "2598a3bbc50d", "generation_result": [{"code": "handleContextMenu(e: any){\n\tif (e.target.tagName === \\\"TEXTAREA\\\" || e.target.tagName === \\\"INPUT\\\" && e.target.type === \\\"text\\\") {\nthis.contextEditMenu(e, {\ncut: true,\ncopy: true,\npaste: true,\nselect: true,\n});\n} else if (e.target.tagName === \\\"INPUT\\\" && e.target.type === \\\"text\\\" && document.getSelection().toString()!== \\\"\\\") {\nthis.contextEditMenu(e, {\ncut: true,\ncopy: true,\npaste: true,\nselect: true,\n});\n} else {\nthis.contextEditMenu(e, {\ncut: false,\ncopy: false,\npaste: false,\nselect: false,\n});\n}\n}", "CodeBleu_score": 13.927033133404127}, {"code": "handleContextMenu(e: any){\n\tif (e.target.tagName === \\\"TEXTAREA\\\" || e.target.tagName === \\\"INPUT\\\" && e.target.type === \\\"text\\\") {\nthis.contextMenuInput = true;\n} else if (document.getSelection().toString().length > 0) {\nthis.contextMenuInput = true;\n}\nthis.contextEditMenu(e, {\ncut: this.contextMenuInput,\ncopy: this.contextMenuInput,\npaste: this.contextMenuInput,\n});\n}", "CodeBleu_score": 13.020652079611212}, {"code": "handleContextMenu(e: any){\n\t", "CodeBleu_score": 0.995738382331795}]}
{"instance_id": "9a7475588195", "generation_result": [{"code": "handleChangeFontSize(fontSize: string): void{\n\tconst currentFontSize = this.props.model.fontSize;\nconst newFontSize = parseInt(fontSize, 10);\nif (newFontSize!== currentFontSize) {\nthis.props.model.fontSize = newFontSize;\ncommandRtnHandler(this.props.model.changeFontSizeCommand, this.props.model.commandRunner, (rtn) => {\nif (rtn.error) {\nthis.errorMessage.set(rtn.error.message);\n}\n}, this.props.model.commandRunner);\n}\n}", "CodeBleu_score": 37.14875224489557}, {"code": "handleChangeFontSize(fontSize: string): void{\n\tconst fontNumber = parseInt(fontSize);\nif (fontNumber!== this.props.model.fontSize) {\nthis.props.model.fontSize = fontNumber;\nconst commandResult = this.props.model.setTerminalFontSize(fontNumber);\ncommandRtnHandler(commandResult, (err) => {\nthis.errorMessage.set(err.message);\n});\n}\n}", "CodeBleu_score": 45.4533303948421}, {"code": "handleChangeFontSize(fontSize: string): void{\n\tconst currentFontSize = GlobalModel.clientSettingsViewModel.fontSize;\nconst newFontSize = parseFloat(fontSize);\nif (currentFontSize!== newFontSize) {\nGlobalModel.clientSettingsViewModel.fontSize = newFontSize;\ncommandRtnHandler(GlobalCommandRunner.executeCommand(\\\"clientsettings\\\", \\\"set-font-size\\\", newFontSize), (error) => {\n    this.errorMessage.set(error);\n});\n}\n}", "CodeBleu_score": 38.99656384101735}]}
{"instance_id": "d4d74a9c8035", "generation_result": [{"code": "handleChangeTermTheme(theme: string): void{\n\tconst currentTheme = GlobalModel.getTermTheme();\nif (currentTheme == theme) {\nreturn;\n}\nconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\ncommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 66.97318808551765}, {"code": "handleChangeTermTheme(theme: string): void{\n\tconst currentTheme = GlobalModel.getTermTheme();\nif (currentTheme == theme) {\nreturn;\n}\nconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\ncommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 66.97318808551765}, {"code": "handleChangeTermTheme(theme: string): void{\n\tconst currentTheme = GlobalModel.getTermTheme();\nif (currentTheme == theme) {\nreturn;\n}\nconst prtn = GlobalCommandRunner.setTermTheme(theme, false);\ncommandRtnHandler(prtn, this.errorMessage);\n}", "CodeBleu_score": 66.97318808551765}]}
{"instance_id": "329444949255", "generation_result": [{"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\nreturn (\n\n<div className=\\\"modal-header\\\">\n<div className=\\\"modal-header-title\\\">\n{title}\n</div>\n\n<If condition={onClose}>\n<div className=\\\"modal-header-close\\\">\n<Button onClick={onClose} icon=\\\"close\\\" />\n</div>\n</If>\n\n<If condition={keybindings}>\n<ModalKeybindings />\n</If>\n\n</div>\n\n);\n\n}", "CodeBleu_score": 34.589203120262475}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\nreturn (\n<div className=\\\"modal-header\\\">\n    <div className=\\\"modal-title\\\">\n        {title}\n    </div>\n    <If condition={onClose && keybindings}>\n        <ModalKeybindings />\n    </If>\n    <If condition={onClose}>\n        <Button className=\\\"modal-close-button\\\" onClick={onClose} icon=\\\"close\\\" />\n\n    </If>\n</div>\n);\n}", "CodeBleu_score": 39.25728387031084}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\tconst id = uuidv4();\nreturn (\n<div className=\\\"modal-header\\\" id={id}>\n<div className=\\\"modal-header-title\\\">\n{title}\n</div>\n{onClose && (\n<div className=\\\"modal-header-close\\\">\n<Button\nclassName=\\\"modal-header-close-button\\\"\nicon=\\\"close\\\"\nonClick={() => {\nGlobalModel.dispatch(\\\"modal-close\\\", { id });\nif (onClose) {\nonClose();\n}\n}}\n/>\n</div>\n)}\n{keybindings && (\n<If condition={onClose}>\n<ModalKeybindings id={id} />\n</If>\n)}\n</div>\n);\n}", "CodeBleu_score": 23.376514596244537}]}
{"instance_id": "1da69d707d33", "generation_result": [{"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t (rptr == null || isBlank(rptr.remoteid)) {\n\t\treturn \\\"\\\";\n\t}\n\tconst name = rnames[rptr.remoteid];\n\tif (name == null) {\n\t\treturn `[${rptr.remoteid.substr(0, 8)}]`;\n\t}\n\treturn `[${name}]`;\n}", "CodeBleu_score": 31.034370777314358}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t (rptr == null || rptr.remoteid == null || rptr.remoteid == \\\"\\\") {\n\t\treturn \\\"\\\";\n\t}\n\tconst rname = rnames[rptr.remoteid];\n\tif (rname == null) {\n\t\treturn \\\"[\\\" + rptr.remoteid.substring(0, 8) + \\\"]\\\";\n\t}\n\tif (rptr.name == null || rptr.name == \\\"\\\") {\n\t\treturn \\\"[\\\" + rname + \\\"]\\\";\n\t}\n\treturn \\\"[\\\" + rname + \\\":\\\" + rptr.name + \\\"]\\\";\n}", "CodeBleu_score": 47.401477253068315}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t (rptr == null || rptr.remoteid == null || rptr.remoteid == \\\"\\\") {\n\t\treturn \\\"\\\";\n\t}\n\tconst rname = rnames[rptr.remoteid];\n\tif (rname == null) {\n\t\treturn `[${rptr.remoteid.substring(0, 8)}]`;\n\t}\n\tif (rptr.name!= null && rptr.name!= \\\"\\\") {\n\t\treturn `[${rname}:${rptr.name}]`;\n\t}\n\treturn `[${rname}]`;\n}", "CodeBleu_score": 46.32800387257115}]}
{"instance_id": "757ee5b9626f", "generation_result": [{"code": "adjustTextAreaHeight(){\n\tconst { termFontSize } = this;\nconst { current } = this.textAreaRef;\nif (!current) return;\nconst { scrollHeight } = current;\nconst minHeight = termFontSize + 2;\nconst maxHeight = 20 * termFontSize;\nconst newHeight = Math.min(maxHeight, Math.max(minHeight, scrollHeight));\ncurrent.style.height = `${newHeight}px`;\n}", "CodeBleu_score": 30.548442336841607}, {"code": "adjustTextAreaHeight(){\n\tconst textArea = this.textAreaRef.current;\nif (!textArea) {\nreturn;\n}\nconst fontSize = this.termFontSize;\nconst minLines = 2;\nconst maxLines = 10;\nconst minHeight = fontSize * minLines;\nconst maxHeight = fontSize * maxLines;\nconst scrollHeight = textArea.scrollHeight;\nconst height = Math.max(minHeight, Math.min(maxHeight, scrollHeight));\ntextArea.style.height = height + \\\"px\\\";\n}", "CodeBleu_score": 39.03185748497804}, {"code": "adjustTextAreaHeight(){\n\tconst { termFontSize } = this;\nconst { current } = this.textAreaRef;\nif (current) {\nconst minHeight = 1;\nconst maxHeight = 5;\nconst maxLines = 10;\nconst textAreaHeight = current.scrollHeight;\nconst newHeight = Math.min(maxHeight, Math.max(minHeight, textAreaHeight));\nconst lineCount = Math.min(maxLines, Math.floor(newHeight / termFontSize));\ncurrent.style.height = `${newHeight}px`;\ncurrent.style.lineHeight = `${termFontSize}px`;\ncurrent.style.height = `${lineCount * termFontSize}px`;\n}\n}", "CodeBleu_score": 37.94111305668304}]}
{"instance_id": "c0fa6e5d0067", "generation_result": [{"code": "onEnterKeyPressed(){\n\tconst curLine = GlobalModel.inputModel.curLine;\nconst selectedCodeBlockIndex = GlobalModel.sidebarchatModel.getSelectedCodeBlockIndex();\nif (selectedCodeBlockIndex!= null) {\nconst newCmdAndOutput = GlobalModel.sidebarchatModel.getCmdAndOutput();\nconst newValue = this.formChatMessage(newCmdAndOutput);\nthis.value.set(newValue);\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n} else {\nconst messageStr = this.value.get();\nthis.submitChatMessage(messageStr);\nthis.value.set(\\\"\\\");\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n}\nreturn true;\n}", "CodeBleu_score": 54.591393939240305}, {"code": "onEnterKeyPressed(){\n\tconst { selectedCodeBlockIndex } = GlobalModel.sidebarchatModel;\nconst messageStr = this.value.get();\nif (selectedCodeBlockIndex!= null) {\nthis.setCmdInputValue(messageStr);\n} else {\nthis.submitChatMessage(messageStr);\nthis.value.set(\\\"\\\");\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\n}\nreturn true;\n}", "CodeBleu_score": 53.414186624848355}, {"code": "onEnterKeyPressed(){\n\tif (GlobalModel.sidebarchatModel.getSelectedCodeBlockIndex()!= null) {\nconst newCmdAndOutput = GlobalModel.sidebarchatModel.getCmdAndOutput();\nconst newValue = this.formChatMessage(newCmdAndOutput);\nthis.value.set(newValue);\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\nreturn true;\n}\n\nconst messageStr = this.value.get();\nthis.submitChatMessage(messageStr);\nthis.value.set(\\\"\\\");\nGlobalModel.sidebarchatModel.resetCmdAndOutput();\nreturn true;\n}", "CodeBleu_score": 67.26600242154295}]}
{"instance_id": "a022487e54ff", "generation_result": [{"code": "function readAuthKey(): string{\n\tconst waveHome = getWaveHomeDir();\nconst authKeyPath = path.join(waveHome, AuthKeyFile);\nif (fs.existsSync(authKeyPath)) {\nconst authKey = fs.readFileSync(authKeyPath, { encoding: \\\"utf8\\\" });\nif (authKey.length!= 36) {\nthrow new Error(\\\"invalid auth key length\\\");\n}\nreturn authKey;\n}\nconst authKey = uuidv4();\nfs.writeFileSync(authKeyPath, authKey, { mode: 0o400 });\nreturn authKey;\n}", "CodeBleu_score": 29.491263292418996}, {"code": "function readAuthKey(): string{\n\tconst waveHome = getWaveHomeDir();\nconst authKeyPath = path.join(waveHome, AuthKeyFile);\nconst authKey = fs.readFileSync(authKeyPath, { encoding: \\\"utf8\\\" });\nif (authKey == null || authKey.length === 0) {\nconst newAuthKey = uuidv4();\nfs.writeFileSync(authKeyPath, newAuthKey, { mode: 0o600 });\nreturn newAuthKey;\n}\nif (authKey.length!== 36) {\nthrow new Error(\\\"invalid auth key: \\\" + authKey);\n}\nreturn authKey;\n}", "CodeBleu_score": 22.77973969608916}, {"code": "function readAuthKey(): string{\n\t\tconst waveHome = getWaveHomeDir();\n\tconst authKeyPath = path.join(waveHome, AuthKeyFile);\n\tif (!fs.existsSync(authKeyPath)) {\n\t\tconst authKey = uuidv4();\n\t\tfs.writeFileSync(authKeyPath, authKey, { mode: 0o400 });\n\t\treturn authKey;\n\t}\n\tconst authKey = fs.readFileSync(authKeyPath).toString();\n\tif (authKey.length!== 36) {\n\t\tthrow new Error(\\\"invalid auth key\\\");\n\t}\n\treturn authKey;\n}", "CodeBleu_score": 23.094950813469982}]}
{"instance_id": "9c3e2f93e1c1", "generation_result": [{"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\tthis.isRunning()) {\nreturn;\n}\nfor (let pos = 0; pos < data.length; pos += InputChunkSize) {\nlet dataChunk = data.slice(pos, pos + InputChunkSize);\nthis.handleInputChunk(dataChunk, renderer);\n}\n}", "CodeBleu_score": 80.79146841820865}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\tthis.isRunning()) {\nreturn;\n}\nfor (let pos = 0; pos < data.length; pos += InputChunkSize) {\nlet dataChunk = data.slice(pos, pos + InputChunkSize);\nthis.handleInputChunkFromRenderer(dataChunk, renderer);\n}\n}", "CodeBleu_score": 80.77211264149963}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\tthis.isRunning()) {\nreturn;\n}\nfor (let pos = 0; pos < data.length; pos += InputChunkSize) {\nlet dataChunk = data.slice(pos, pos + InputChunkSize);\nthis.handleInputChunk(dataChunk, renderer);\n}\n}", "CodeBleu_score": 80.79146841820865}]}
{"instance_id": "37ad09d7b939", "generation_result": [{"code": "function checkValidServiceWorker(swUrl) {\n\t", "CodeBleu_score": 0.4009199594793568}, {"code": "function checkValidServiceWorker(swUrl) {\n\t", "CodeBleu_score": 0.4009199594793568}, {"code": "function checkValidServiceWorker(swUrl) {\n\theck if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t.then(response => {\n\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\tif (\n\t\t\tresponse.status === 404 ||\n\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t) {\n\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\t// Service worker found. Proceed as normal.\n\t\t\tregisterValidSW(swUrl);\n\t\t}\n\t})\n\t.catch(() => {\n\t\tconsole.log(\n\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t);\n\t});\n}", "CodeBleu_score": 91.02075610921152}]}
{"instance_id": "27dabe0c40aa", "generation_result": [{"code": "function areAllRequiredElementsHighlighted{\n\t", "CodeBleu_score": 1.4781235350271247}, {"code": "function areAllRequiredElementsHighlighted{\n\t", "CodeBleu_score": 1.4781235350271247}, {"code": "function areAllRequiredElementsHighlighted{\n\t", "CodeBleu_score": 1.4781235350271247}]}
{"instance_id": "c60e532809af", "generation_result": [{"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\tctions = actionsFn(...handles);\n\treturn Object.entries(actions).map(([name, handler]) => {\n    const [eventName, selector] = delegateEventSplitter.exec(name) || [];\n    const eventHandler = (event: any) => {\n      const target = event.target;\n      if (!selector || hasMatchInAncestry(target, selector)) {\n        handler(event);\n      }\n    };\n    return { eventName, eventHandler };\n  });\n}", "CodeBleu_score": 51.59741740484639}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\tandlers = actionsFn(...handles);\n\treturn Object.entries(handlers).map(([name, handler]) => {\n    const [eventName, selector] = name.split(delegateEventSplitter);\n    return {\n      eventName,\n      handler: (event: any) => {\n        if (!selector || hasMatchInAncestry(event.target, selector)) {\n          handler(event);\n        }\n      },\n    };\n  });\n}", "CodeBleu_score": 56.484959130526576}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\tndlers = [];\nconst actions = actionsFn(...handles);\n\nObject.entries(actions).forEach(([actionName, handler]) => {\n  const [eventName, selector] = actionName.split(delegateEventSplitter);\n  handlers.push({\n    eventName,\n    handler: (event: any) => {\n      if (selector &&!hasMatchInAncestry(event.target, selector)) {\n        return;\n      }\n      handler(event);\n    },\n  });\n});\n\nreturn handlers;\n}", "CodeBleu_score": 49.8578818698016}]}
{"instance_id": "8c81ca953249", "generation_result": [{"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\tlers = createHandlers(actionsFn,...handles);\nconst root = document.getElementById('storybook-root');\nconst addHandler = (handler: any) => root.addEventListener(handler.eventName, handler.handler);\nconst removeHandler = (handler: any) => root.removeEventListener(handler.eventName, handler.handler);\nuseEffect(() => {\nhandlers.forEach(addHandler);\nreturn () => handlers.forEach(removeHandler);\n}, [actionsFn,...handles]);\n}", "CodeBleu_score": 42.12525393987511}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t-disable-next-line @typescript-eslint/no-explicit-any\nconst rootElement: any = document.querySelector('#storybook-root');\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst handlers: any = createHandlers(actionsFn,...handles);\n\nuseEffect(() => {\n\nhandlers.forEach(({ eventName, handler }) => {\n\nrootElement.addEventListener(eventName, handler);\n\n});\n\nreturn () => {\n\nhandlers.forEach(({ eventName, handler }) => {\n\nrootElement.removeEventListener(eventName, handler);\n\n});\n\n};\n\n}, [rootElement, actionsFn, handles]);\n\n}", "CodeBleu_score": 52.44498520357536}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\tlers = createHandlers(actionsFn,...handles);\nconst root = document.getElementById('storybook-root');\n\nuseEffect(() => {\nhandlers.forEach(({ eventName, handler }) => {\nroot.addEventListener(eventName, handler);\n});\n\nreturn () => {\nhandlers.forEach(({ eventName, handler }) => {\nroot.removeEventListener(eventName, handler);\n});\n};\n}, [root, actionsFn, handles]);\n}", "CodeBleu_score": 53.326472539582205}]}
{"instance_id": "3b9dc9070ef1", "generation_result": [{"code": "addAction = (action: ActionDisplay) =>{\n\tst { actions } = this.state;\nconst lastAction = actions[actions.length - 1];\nconst { options } = action;\n\nif (lastAction && lastAction.options.limit && lastAction.count >= options.limit) {\nreturn;\n}\n\nif (lastAction && safeDeepEqual(lastAction.action, action.action)) {\nthis.setState(prevState => ({\n  actions: prevState.actions.map(a => {\n    if (deepEqual(a.action, action.action)) {\n      return {...a, count: a.count + 1 };\n    }\n    return a;\n  }),\n}));\n} else {\nthis.setState(prevState => ({\n  actions: [...prevState.actions, {...action, count: 1 }],\n}));\n}\n}", "CodeBleu_score": 34.86364710117358}, {"code": "addAction = (action: ActionDisplay) =>{\n\tst { actions } = this.state;\nconst lastAction = actions[actions.length - 1];\nconst isLastAction = lastAction && safeDeepEqual(lastAction.action, action.action);\nconst newActions = isLastAction? actions.slice(0, actions.length - 1).concat([{...lastAction, count: lastAction.count + 1 }]) : actions.concat([{...action, count: 1 }]);\nthis.setState({ actions: newActions.slice(0, this.props.api.parameters.maxHistory) });\n}", "CodeBleu_score": 34.51387233644014}, {"code": "addAction = (action: ActionDisplay) =>{\n\tst { actions } = this.state;\nconst lastAction = actions[actions.length - 1];\n\nconst isLastAction = lastAction && safeDeepEqual(lastAction.data, action.data);\nconst newActions = isLastAction? [...actions.slice(0, -1), {...lastAction, count: lastAction.count + 1 }] : [...actions, {...action, count: 1 }];\n\nthis.setState({ actions: newActions.slice(0, this.props.api.parameters.maxHistory) });\n}", "CodeBleu_score": 34.76868588627353}]}
{"instance_id": "c58b95bdb84e", "generation_result": [{"code": "export const addGridStyle = (selector: string, css: string) => {\n\tonst styleElement = document.getElementById(selector) as HTMLStyleElement;\n\tif (styleElement) {\n\t\tif (styleElement.innerHTML!== css) {\n\t\t\tstyleElement.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst newStyleElement = document.createElement('style');\n\t\tnewStyleElement.setAttribute('id', selector);\n\t\tnewStyleElement.innerHTML = css;\n\t\tdocument.head.appendChild(newStyleElement);\n\t}\n}", "CodeBleu_score": 57.75466295972509}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\tnst styleElement = document.getElementById(selector);\nif (styleElement) {\nif (styleElement.textContent!== css) {\nstyleElement.textContent = css;\n}\n} else {\nconst style = document.createElement('style');\nstyle.id = selector;\nstyle.textContent = css;\ndocument.head.appendChild(style);\n}\n}", "CodeBleu_score": 54.5180405659055}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\tnst styleElement = document.querySelector(`style#${selector}`);\nif (styleElement) {\nif (styleElement.innerHTML!== css) {\nstyleElement.innerHTML = css;\n}\n} else {\nconst newStyleElement = document.createElement('style');\nnewStyleElement.id = selector;\nnewStyleElement.innerHTML = css;\ndocument.head.appendChild(newStyleElement);\n}\n}", "CodeBleu_score": 49.629974301474405}]}
{"instance_id": "882d870a20b2", "generation_result": [{"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\tnst existingStyle = document.getElementById(selector) as HTMLElement;\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML!== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style') as HTMLElement;\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild(style);\n\t}\n\n\tconst gridStyle = document.getElementById(storyId) as HTMLElement;\n\tif (gridStyle) {\n\t\tgridStyle.parentElement?.insertBefore(style, gridStyle);\n\t} else {\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 63.03442366271508}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\tnst existingStyle = document.getElementById(selector) as HTMLElement;\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML!== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style') as HTMLElement;\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild(style);\n\t}\n\n\tconst existingGridStyle = document.getElementById(storyId) as HTMLElement;\n\tif (existingGridStyle) {\n\t\texistingGridStyle.parentElement?.insertBefore(style, existingGridStyle);\n\t} else {\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 67.87534623990217}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\tnst existingStyle = document.getElementById(selector) as HTMLElement;\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML!== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style') as HTMLElement;\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild(style);\n\t}\n\n\tconst gridStyle = document.getElementById(storyId) as HTMLElement;\n\tif (gridStyle) {\n\t\tgridStyle.parentElement?.insertBefore(style, gridStyle);\n\t} else {\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 63.03442366271508}]}
{"instance_id": "c17e647327b5", "generation_result": [{"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\tentDefault();\nif (saving || creating) return;\nsetErrorMessage(null);\nsetSaving(true);\ntry {\nawait createStory(storyName);\nsetCreating(false);\nsetSaving(false);\n} catch (error) {\nsetErrorMessage(error.message);\nsetSaving(false);\n}\n}", "CodeBleu_score": 43.9315349134248}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\t || creating) return;\nsetErrorMessage(null);\nsetSaving(true);\nawait createStory(storyName).catch(() => {});\nsetCreating(false);\nsetSaving(false);\n}", "CodeBleu_score": 27.640580322780583}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\t || creating) {\nevent.preventDefault();\nreturn;\n}\nsetErrorMessage(null);\nsetSaving(true);\ntry {\nawait createStory(storyName).catch(() => {});\n} catch (error) {\nsetErrorMessage(error.message);\n}\nsetCreating(false);\nsetSaving(false);\n}", "CodeBleu_score": 33.88383348996026}]}
{"instance_id": "2d58c69eda27", "generation_result": [{"code": "function Title(){\n\t argTypes = useArgTypes();\n\tconst controlsCount = Object.keys(argTypes).filter((arg) =>!argTypes[arg].control).length;\n\tconst controlsLabel = controlsCount? `${controlsCount} controls` : 'No controls';\n\n\treturn (\n\t\t<div>\n\t\t\t<Spaced vertical={0.5}>\n\t\t\t\t<span>Controls</span>\n\t\t\t\t{controlsCount > 0 && <Badge color={color.secondary} label={controlsLabel} />}\n\t\t\t</Spaced>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 33.49540110766384}, {"code": "function Title(){\n\t { argTypes } = useArgTypes(PARAM_KEY);\n\tconst controls = Object.keys(argTypes).filter((key) =>!argTypes[key].disabled);\n\tconst controlsCount = controls.length;\n\treturn (\n\t\t<div>\n\t\t\t<Spaced vertical>\n\t\t\t\t<h1>Controls</h1>\n\t\t\t\t{controlsCount > 0 && <Badge color={color.secondary}>{controlsCount}</Badge>}\n\t\t\t</Spaced>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 27.169331214756998}, {"code": "function Title(){\n\t argTypes = useArgTypes();\nconst controlsCount = Object.values(argTypes).reduce((acc, argType) => {\n\nif (argType.controls) {\n\nif (argType.controls.disable) {\n\nreturn acc;\n}\n\nreturn acc + 1;\n}\n\nreturn acc;\n}, 0);\n\nif (controlsCount > 0) {\n\nreturn /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Spaced, null, /*#__PURE__*/React.createElement(\"div\", {\n\nstyle: {\n\ncolor: color.secondary,\n\nfontWeight: 'bold',\n\n}\n\n}, \"Controls\")), /*#__PURE__*/React.createElement(Spaced, null, /*#__PURE__*/React.createElement(Badge, {\n\ncolor: \"primary\",\n\nstyle: {\n\nmarginLeft: 'auto',\n\n}\n\n}, controlsCount)));\n}\n\nreturn /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Spaced, null, /*#__PURE__*/React.createElement(\"div\", {\n\nstyle: {\n\ncolor: color.secondary,\n\nfontWeight: 'bold',\n\n}\n\n}, \"Controls\")));\n}", "CodeBleu_score": 20.86941628977469}]}
{"instance_id": "b8fba20204d6", "generation_result": [{"code": "const highlight = (infos: HighlightInfo) =>{\n\tnst { elements, color, style } = infos;\n\n\t// Reset any existing highlights\n\tresetHighlight();\n\n\t// Ensure no duplicate selectors in the elements array\n\tconst uniqueElements = [...new Set(elements)];\n\n\t// Create a new style element and set its ID\n\tconst styleElement = document.createElement('style');\n\tstyleElement.id = HIGHLIGHT_STYLE_ID;\n\n\t// Define CSS rules for each element based on the highlight information\n\tuniqueElements.forEach((element) => {\n\t\tconst cssRule = `${element} {${highlightStyle(color, style)}}`;\n\t\tstyleElement.appendChild(document.createTextNode(cssRule));\n\t});\n\n\t// Append the style element to the document head\n\tdocument.head.appendChild(styleElement);\n\n\t// Dispatch a custom event to notify the preview that a highlight has been applied\n\tchannel.emit(STORY_CHANGED, { type: HIGHLIGHT, payload: infos });\n}", "CodeBleu_score": 44.145596799313246}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\tst { elements, color, style } = infos;\n\nconst newElements = elements.filter((element, index) => {\nconst existingElement = document.querySelector(element);\nif (existingElement) {\nreturn false;\n}\n\nreturn true;\n});\n\nconst styleElement = document.createElement('style');\nstyleElement.id = HIGHLIGHT_STYLE_ID;\nstyleElement.innerHTML = newElements.map((element) => highlightStyle(color, style)).join('');\n\ndocument.head.appendChild(styleElement);\n}", "CodeBleu_score": 41.438240478935036}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\tnst { elements, color, style } = infos;\n\tconst uniqueElements = [...new Set(elements)];\n\n\t// Reset any existing highlights\n\tresetHighlight();\n\n\t// Create a new style element and set its ID\n\tconst styleElement = document.createElement('style');\n\tstyleElement.id = HIGHLIGHT_STYLE_ID;\n\n\t// Define CSS rules for each element\n\tconst rules = uniqueElements.map((element) => `${element} { ${highlightStyle(color, style)} }`).join('\n');\n\n\t// Set the CSS rules on the style element\n\tstyleElement.innerHTML = rules;\n\n\t// Append the style element to the document head\n\tdocument.head.appendChild(styleElement);\n}", "CodeBleu_score": 45.37510259201174}]}
{"instance_id": "08a3fb827e48", "generation_result": [{"code": "const resetHighlight = () =>{\n\t id = HIGHLIGHT_STYLE_ID;\nconst sheet = document.getElementById(id);\nif (sheet) {\nsheet.parentNode.removeChild(sheet);\n}\n}", "CodeBleu_score": 45.59577896741782}, {"code": "const resetHighlight = () =>{\n\t id = HIGHLIGHT_STYLE_ID;\nconst sheet = document.getElementById(id);\nif (sheet) {\nsheet.parentNode.removeChild(sheet);\n}\n}", "CodeBleu_score": 45.59577896741782}, {"code": "const resetHighlight = () =>{\n\t id = HIGHLIGHT_STYLE_ID;\nconst element = document.getElementById(id);\n\nif (element) {\nelement.parentNode.removeChild(element);\n}\n}", "CodeBleu_score": 42.43360156341924}]}
{"instance_id": "1287df4e99b3", "generation_result": [{"code": "function parseQuery(queryString: string){\n\tnst query = {};\n\tconst pairs = (queryString[0] === '?'? queryString.substr(1) : queryString).split('&');\n\tfor (let i = 0; i < pairs.length; i++) {\n\t\tconst pair = pairs[i].split('=');\n\t\tconst key = decodeURIComponent(pair[0]);\n\t\tconst value = pair.length === 2? decodeURIComponent(pair[1]) : undefined;\n\t\tquery[key] = value;\n\t}\n\treturn query;\n}", "CodeBleu_score": 62.384731442866325}, {"code": "function parseQuery(queryString: string){\n\tnst query = {};\n\tlet pairs = (queryString[0] === '?'? queryString.substr(1) : queryString).split('&');\n\tfor (let i = 0; i < pairs.length; i++) {\n\t\tconst pair = pairs[i].split('=');\n\t\tconst key = decodeURIComponent(pair[0]);\n\t\tconst value = decodeURIComponent(pair.slice(1).join('='));\n\t\tquery[key] = value;\n\t}\n\treturn query;\n}", "CodeBleu_score": 60.43271276963969}, {"code": "function parseQuery(queryString: string){\n\tnst query = {};\n\tif (queryString.charAt(0) === '?') {\n\t\tqueryString = queryString.substr(1);\n\t}\n\tconst pairs = queryString.split('&');\n\tfor (let i = 0; i < pairs.length; i++) {\n\t\tconst pair = pairs[i].split('=');\n\t\tconst key = decodeURIComponent(pair[0]);\n\t\tconst value = decodeURIComponent(pair.slice(1).join('='));\n\t\tquery[key] = value;\n\t}\n\treturn query;\n}", "CodeBleu_score": 56.07204755018942}]}
{"instance_id": "83c4f520b99a", "generation_result": [{"code": "const linksListener = (e: Event) =>{\n\tt = e.target as HTMLElement;\nif (!target ||!target.dataset) {\nreturn;\n}\nconst { sbKind, sbStory } = target.dataset;\nif (sbKind && sbStory) {\ne.preventDefault();\nnavigate({ kind: sbKind, story: sbStory });\n}\n}", "CodeBleu_score": 37.9419636248898}, {"code": "const linksListener = (e: Event) =>{\n\tet = e.target as HTMLElement;\n\tconst { sbKind, sbStory } = target.dataset;\n\n\tif (sbKind && sbStory) {\n\t\te.preventDefault();\n\t\tnavigate({ kind: sbKind, story: sbStory });\n\t}\n}", "CodeBleu_score": 30.06412753118628}, {"code": "const linksListener = (e: Event) =>{\n\tt = e.target as HTMLElement;\nconst { sbKind, sbStory } = target.dataset;\nif (sbKind && sbStory) {\ne.preventDefault();\nnavigate({ kind: sbKind, story: sbStory });\n}\n}", "CodeBleu_score": 29.275093464470338}]}
{"instance_id": "8b8e277eb593", "generation_result": [{"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tif (node.shadowRoot) {\n\t\tconst element = node.shadowRoot.elementFromPoint(x, y) as HTMLElement;\n\t\tif (element === node) {\n\t\t\treturn node;\n\t\t} else if (element.shadowRoot) {\n\t\t\treturn crawlShadows(element);\n\t\t} else {\n\t\t\treturn element;\n\t\t}\n\t} else {\n\t\treturn node;\n\t}\n}", "CodeBleu_score": 42.618565628422516}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\n// If the element has a shadow root, it finds the nested element at specific coordinates using elementFromPoint.\n// If the nested element is the same as the root element, it returns the root element.\n// If the nested element also has a shadow root, the function calls itself recursively.\n// If there are no more shadow DOMs, it returns the nested element.\n// If the element does not have a shadow root, it returns the element itself.\n  if (node.shadowRoot) {\n    const element = deepElementFromPoint(x, y);\n    if (element === node) {\n      return node;\n    }\n    if (element.shadowRoot) {\n      return crawlShadows(element);\n    }\n    return element;\n  }\n  return node;\n}", "CodeBleu_score": 46.15513558557407}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tconst root = node.shadowRoot;\n\tif (root) {\n\t\tconst element = root.elementFromPoint(node.x, node.y) as HTMLElement;\n\t\tif (element === root) {\n\t\t\treturn root;\n\t\t} else if (element.shadowRoot) {\n\t\t\treturn crawlShadows(element);\n\t\t} else {\n\t\t\treturn element;\n\t\t}\n\t} else {\n\t\treturn node;\n\t}\n}", "CodeBleu_score": 44.00602025689994}]}
{"instance_id": "2fa298c35659", "generation_result": [{"code": "function createCanvas(): CanvasState{\n\t\tconst canvas = global.document.createElement('canvas');\n\tcanvas.id = 'canvas';\n\tconst context = canvas.getContext('2d');\n\tif (!context) {\n\t\tinvariant(false, 'Failed to create canvas context');\n\t}\n\tconst { width, height } = getDocumentWidthAndHeight();\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tcanvas.style.position = 'absolute';\n\tcanvas.style.top = '0';\n\tcanvas.style.left = '0';\n\tcanvas.style.zIndex = '9999';\n\tcanvas.style.pointerEvents = 'none';\n\tglobal.document.body.appendChild(canvas);\n\treturn { canvas, context, width, height };\n}", "CodeBleu_score": 77.51696092909287}, {"code": "function createCanvas(): CanvasState{\n\tconst canvas = global.document.createElement('canvas');\nconst context = canvas.getContext('2d');\nconst { width, height } = getDocumentWidthAndHeight();\ncanvas.id = 'canvas';\ncanvas.style.position = 'absolute';\ncanvas.style.top = '0';\ncanvas.style.left = '0';\ncanvas.style.zIndex = '10000';\ncanvas.style.pointerEvents = 'none';\ncanvas.width = width;\ncanvas.height = height;\nglobal.document.body.appendChild(canvas);\ninvariant(context, 'Canvas context is null');\nreturn { canvas, context, width, height };\n}", "CodeBleu_score": 70.92021362506986}, {"code": "function createCanvas(): CanvasState{\n\tconst canvas = global.document.createElement('canvas');\nconst context = canvas.getContext('2d');\nconst { width, height } = getDocumentWidthAndHeight();\ncanvas.id = 'canvas';\ncanvas.style.position = 'absolute';\ncanvas.style.top = '0';\ncanvas.style.left = '0';\ncanvas.style.zIndex = '1000';\ncanvas.style.pointerEvents = 'none';\ncanvas.width = width;\ncanvas.height = height;\nglobal.document.body.appendChild(canvas);\ninvariant(context, 'Context is null');\nreturn { canvas, context, width, height };\n}", "CodeBleu_score": 70.75439493865214}]}
{"instance_id": "0484eaeba359", "generation_result": [{"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\tnst { coreConfig } = options;\n\tconst telemetryEnabled =!coreConfig.disableTelemetry;\n\tconst { version } = require('../package.json');\n\n\tif (telemetryEnabled) {\n\t\tconst { addons } = coreConfig;\n\t\tconst addonsWithTelemetry = addons.filter((addon) => addon.includes('@storybook/addon-onboarding'));\n\t\tconst addonVersion = addonsWithTelemetry.length? addonsWithTelemetry[0] : version;\n\n\t\tconst telemetryEvent = (event: Event) => {\n\t\t\tconst { step, payload } = event;\n\t\t\tconst eventData = {\n\t\t\t\taddonVersion,\n\t\t\t\tstep,\n\t\t\t\t...payload,\n\t\t\t};\n\n\t\t\ttelemetry.post('addon-onboarding', eventData);\n\t\t};\n\n\t\tchannel.on(STORYBOOK_ADDON_ONBOARDING_CHANNEL, telemetryEvent);\n\t}\n\n\treturn channel;\n}", "CodeBleu_score": 35.408025313971045}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\tst { coreConfig, configType } = options;\n\nconst telemetryEnabled = coreConfig.addons?.some((addon) => addon === '@storybook/addon-onboarding');\n\nif (telemetryEnabled) {\nconst addonVersion = JSON.parse(\nfs.readFileSync(\nrequire.resolve('@storybook/addon-onboarding/package.json'),\n'utf8',\n)\n).version;\n\nchannel.on(STORYBOOK_ADDON_ONBOARDING_CHANNEL, (event: Event) => {\nconst { type, step, payload } = event;\n\ntelemetry.send({\ntype,\nstep,\npayload,\naddon: '@storybook/addon-onboarding',\naddonVersion,\nconfigType,\n});\n});\n}\n\nreturn channel;\n}", "CodeBleu_score": 38.95112583700094}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\t", "CodeBleu_score": 2.4844509156209336}]}
{"instance_id": "8552de1f8368", "generation_result": [{"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\tnst element = global.document.getElementById(selector);\n\tif (element) {\n\t\tif (element.innerHTML!== css) {\n\t\t\telement.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = global.document.createElement('style');\n\t\tstyle.id = selector;\n\t\tstyle.innerHTML = css;\n\t\tglobal.document.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 63.95647011784062}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\tnst element = global.document.getElementById(selector);\n\tif (element) {\n\t\tif (element.innerHTML!== css) {\n\t\t\telement.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = global.document.createElement('style');\n\t\tstyle.id = selector;\n\t\tstyle.innerHTML = css;\n\t\tglobal.document.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 63.95647011784062}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\tnst element = global.document.getElementById(selector);\n\tif (element) {\n\t\tif (element.textContent!== css) {\n\t\t\telement.textContent = css;\n\t\t}\n\t} else {\n\t\tconst style = global.document.createElement('style');\n\t\tstyle.setAttribute('id', selector);\n\t\tstyle.textContent = css;\n\t\tglobal.document.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 67.15144522699346}]}
{"instance_id": "2472b6d48b9a", "generation_result": [{"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t", "CodeBleu_score": 8.014880940697083}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\tnslations for all active locales, skipping the source locale.\nThe source locale is skipped if it is not marked for inlining.\n  for (const locale of i18n.inlineLocales) {\n    if (i18n.locales[locale] && i18n.locales[locale].translation) {\n      const loader = createTranslationLoader(\n        context.logger,\n        i18n.locales[locale].translation,\n        i18n.duplicateTranslation,\n      );\n\n      await loadTranslations(loader, locale, context.logger);\n    }\n  }\n}", "CodeBleu_score": 35.9533303798208}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t source locale translations.\n  const sourceLocaleTranslations = await loadTranslations(\n    context,\n    i18n.locales[i18n.sourceLocale],\n  );\n\n  // Create a translation loader for each locale that is marked for inlining.\n  const translationLoaders = [];\n  for (const locale of i18n.inlineLocales) {\n    // Skip the source locale.\n    if (locale === i18n.sourceLocale) {\n      continue;\n    }\n\n    // Skip locales that do not have translations.\n    if (!i18n.locales[locale].translation) {\n      continue;\n    }\n\n    // Create a translation loader for the locale.\n    const loader = createTranslationLoader(\n      context,\n      i18n.locales[locale].translation,\n      sourceLocaleTranslations,\n      i18n.missingTranslationBehavior,\n    );\n    translationLoaders.push(loader);\n  }\n\n  // Load the translations for each locale.\n  const translations = await Promise.all(translationLoaders);\n\n  // Return the translations.\n  return translations;\n}", "CodeBleu_score": 44.161945944083655}]}
{"instance_id": "24579c798101", "generation_result": [{"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t", "CodeBleu_score": 17.131300319115326}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\this function, buildApplicationInternal, builds an application based on provided options and context.\nIt handles optional plugins or extensions, normalizing them if they are an array of plugins.\nThe function iterates over results from an internal build function, yielding an object indicating success based on the result kind.\n */\n  return buildApplicationInternal(options, context, { plugins: normalizePlugins(pluginsOrExtensions) });\n}", "CodeBleu_score": 45.01427072870368}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t Integrate abort signal support into builder system\n  let signal: AbortSignal | undefined;\n  let extensions: ApplicationBuilderExtensions | undefined;\n  if (pluginsOrExtensions instanceof Array) {\n    signal = context.signal;\n    extensions = { plugins: pluginsOrExtensions };\n  } else {\n    extensions = pluginsOrExtensions;\n  }\n\n  return buildApplicationInternal(options, context, { signal }, extensions);\n}", "CodeBleu_score": 65.79074163081972}]}
{"instance_id": "126e9e9e4010", "generation_result": [{"code": "const diagnostics = checkDuplicateMessages{\n\tcheckFileSystem,\nextractionResult.messages,\n'warning',\nextractionResult.basePath\n}", "CodeBleu_score": 29.34966750436802}, {"code": "const diagnostics = checkDuplicateMessages{\n\tcheckFileSystem,\nextractionResult.messages,\n'warning',\nextractionResult.basePath,\n}", "CodeBleu_score": 28.212780856542572}, {"code": "const diagnostics = checkDuplicateMessages{\n\tcheckFileSystem,\nextractionResult.messages,\n'warning',\nextractionResult.basePath,\n}", "CodeBleu_score": 28.212780856542572}]}
{"instance_id": "349518a072df", "generation_result": [{"code": "function isTslibHelperName(name: string): boolean{\n\t\tconst parts = name.split('$');\n\tif (parts.length!== 2 ||!/\\d+/.test(parts[1])) {\n\t\treturn false;\n\t}\n\tconst originalName = parts[0];\n\treturn tslibHelpers.has(originalName);\n}", "CodeBleu_score": 58.98692521338484}, {"code": "function isTslibHelperName(name: string): boolean{\n\tconst parts = name.split('$');\nif (parts.length!== 2) {\nreturn false;\n}\nconst originalName = parts[0];\nconst index = parseInt(parts[1], 10);\nif (isNaN(index)) {\nreturn false;\n}\nreturn tslibHelpers.has(originalName);\n}", "CodeBleu_score": 64.990180708041}, {"code": "function isTslibHelperName(name: string): boolean{\n\t\nconst parts = name.split('$');\nif (parts.length!== 2 || isNaN(Number(parts[1]))) {\nreturn false;\n}\nreturn tslibHelpers.has(parts[0]);\n}", "CodeBleu_score": 44.0862044286373}]}
{"instance_id": "0a9b3093b5bc", "generation_result": [{"code": "async bundle(): Promise<BundleContextResult>{\n\t#shouldCacheResult) {\nthis.#esbuildResult = await this.cacheBundleResult();\n} else {\nthis.#esbuildResult = await this.bundleResult();\n}\n\nreturn this.#esbuildResult;\n}", "CodeBleu_score": 28.90055884398739}, {"code": "async bundle(): Promise<BundleContextResult>{\n\theKey = this.#shouldCacheResult? this.#optionsFactory(this.#loadCache) : undefined;\nif (this.#esbuildResult && this.#shouldCacheResult && this.#loadCache?.has(cacheKey)) {\nreturn this.#esbuildResult;\n}\nconst esbuildOptions = this.#optionsFactory(this.#loadCache);\nconst esbuildResult = await this.build(esbuildOptions);\nif (this.#shouldCacheResult && this.#loadCache) {\nthis.#loadCache.set(cacheKey, esbuildResult);\n}\nthis.#esbuildResult = esbuildResult;\nreturn esbuildResult;\n}", "CodeBleu_score": 44.26266688914061}, {"code": "async bundle(): Promise<BundleContextResult>{\n\t#shouldCacheResult) {\nif (this.#esbuildResult) {\nreturn this.#esbuildResult;\n}\n\nthis.#esbuildResult = await this.bundleInternal();\nthis.#loadCache?.set(this.#esbuildOptions!, this.#esbuildResult);\nreturn this.#esbuildResult;\n}\n\nreturn this.bundleInternal();\n}", "CodeBleu_score": 34.79185799544899}]}
{"instance_id": "f4fe3e6ac648", "generation_result": [{"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\tt changedFiles = new Set<string>();\nfor (const file of this.outputFiles) {\nconst previousHash = previousOutputHashes.get(file.path);\nif (previousHash === undefined || previousHash!== file.hash) {\nchangedFiles.add(file.path);\n}\n}\nreturn changedFiles;\n}", "CodeBleu_score": 85.17073603993583}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\tt changedFiles = new Set<string>();\nfor (const file of this.outputFiles) {\nconst previousHash = previousOutputHashes.get(file.path);\nif (previousHash === undefined || previousHash!== file.hash) {\nchangedFiles.add(file.path);\n}\n}\nreturn changedFiles;\n}", "CodeBleu_score": 85.17073603993583}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\tt changedFiles = new Set<string>();\nfor (const file of this.outputFiles) {\nconst previousHash = previousOutputHashes.get(file.path);\nif (previousHash === undefined || previousHash!== file.hash) {\nchangedFiles.add(file.path);\n}\n}\nreturn changedFiles;\n}", "CodeBleu_score": 85.17073603993583}]}
{"instance_id": "8969b8ce5198", "generation_result": [{"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\tf (localizeToolsModule === undefined) {\nlocalizeToolsModule = await loadEsmModule('@angular/localize/tools');\n}\nreturn localizeToolsModule;\n}", "CodeBleu_score": 38.92324041805068}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\tif (localizeToolsModule === undefined) {\nlocalizeToolsModule = await loadEsmModule('@angular/localize/tools');\n}\n\nreturn localizeToolsModule;\n}", "CodeBleu_score": 38.83301063568999}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\tif (localizeToolsModule === undefined) {\n\t\tlocalizeToolsModule = await loadEsmModule('@angular/localize/tools');\n\t}\n\treturn localizeToolsModule;\n}", "CodeBleu_score": 38.3367397325935}]}
{"instance_id": "d7c4df80e1ac", "generation_result": [{"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\tonst localizeTools = await loadLocalizeTools();\n\n\tconst diagnostics = localizeTools.diagnostics.createDiagnostics();\n\tconst missingTranslation = getMissingTranslationBehavior(missingTranslation);\n\tconst translationPlugin = localizeTools.translationPlugin(locale, translation, missingTranslation, diagnostics);\n\n\tconst plugins: PluginObj[] = [\n\t\t{\n\t\t\tvisitor: {\n\t\t\t\tLiteral: {\n\t\t\t\t\tenter(path) {\n\t\t\t\t\t\tif (path.node.value === locale) {\n\t\t\t\t\t\t\tpath.replaceWith(types.stringLiteral(locale));\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\ttranslationPlugin,\n\t];\n\n\treturn { diagnostics, plugins };\n}", "CodeBleu_score": 46.14915730685857}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\tonst localizeTools = await loadLocalizeTools();\n\tconst diagnostics = new localizeTools.Diagnostics();\n\tconst missingTranslation = localizeTools.MissingTranslationStrategy[missingTranslation];\n\n\tconst translationPlugin = new localizeTools.TranslationPlugin(locale, translation, missingTranslation, diagnostics);\n\tconst localePlugin = new localizeTools.LocalePlugin(locale, diagnostics);\n\n\treturn {\n\t\tdiagnostics,\n\t\tplugins: [translationPlugin, localePlugin],\n\t};\n}", "CodeBleu_score": 35.4466453098634}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t", "CodeBleu_score": 6.858667206095573}]}
{"instance_id": "9486259c4631", "generation_result": [{"code": "const readAsset = async function (filePath: string): Promise<string>{\n\tt relativePath = path.relative(virtualOutputPath, filePath);\nconst file = browserOutputFiles.find(({ path }) => path === relativePath);\n\nif (!file) {\nthrow new Error(`File not found: ${filePath}`);\n}\n\nreturn file.content;\n}", "CodeBleu_score": 52.18110349347439}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\tt relativePath = path.relative(virtualOutputPath, filePath);\nconst file = browserOutputFiles.find(file => file.path === relativePath);\nif (!file) {\nthrow new Error(`Cannot find asset file: ${filePath}`);\n}\nreturn file.content;\n}", "CodeBleu_score": 57.34564896225323}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\tt relativePath = path.relative(virtualOutputPath, filePath);\nconst file = browserOutputFiles.find(file => file.path === relativePath);\nif (file) {\nreturn file.content;\n} else {\nthrow new Error(`File not found: ${filePath}`);\n}\n}", "CodeBleu_score": 57.74627395777071}]}
{"instance_id": "2206ca03c7ec", "generation_result": [{"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\this.#loadResults.set(path, result);\nif (result.watchFiles) {\nfor (const watchFile of result.watchFiles) {\nconst normalizedWatchFile = normalize(watchFile);\nconst affectedPaths = this.#fileDependencies.get(normalizedWatchFile)?? new Set();\naffectedPaths.add(path);\nthis.#fileDependencies.set(normalizedWatchFile, affectedPaths);\n}\n}\n}", "CodeBleu_score": 66.52798914723323}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\this.#loadResults.set(path, result);\n\nif (result.watchFiles) {\nconst normalizedWatchFiles = new Set(result.watchFiles.map(normalize));\nthis.#fileDependencies.set(path, normalizedWatchFiles);\n\nfor (const watchFile of normalizedWatchFiles) {\nconst affectedPaths = this.#fileDependencies.get(watchFile);\nif (affectedPaths) {\naffectedPaths.add(path);\n} else {\nthis.#fileDependencies.set(watchFile, new Set([path]));\n}\n}\n}\n}", "CodeBleu_score": 56.90396698216252}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\this.#loadResults.set(path, result);\nif (result.watchFiles!== undefined) {\nconst normalizedWatchFiles = result.watchFiles.map(normalize);\nfor (const watchFile of normalizedWatchFiles) {\nlet affectedFiles = this.#fileDependencies.get(watchFile);\nif (affectedFiles === undefined) {\naffectedFiles = new Set();\nthis.#fileDependencies.set(watchFile, affectedFiles);\n}\naffectedFiles.add(path);\n}\n}\n}", "CodeBleu_score": 60.73699945439457}]}
{"instance_id": "a261d85630d0", "generation_result": [{"code": "invalidate(path: string): boolean{\n\tonst normalizedPath = normalize(path);\nlet affected = this.#fileDependencies.get(normalizedPath);\nif (affected === undefined) {\nreturn false;\n}\nconst found = new Set();\nfor (const affectedPath of affected) {\nconst result = this.#loadResults.get(affectedPath);\nif (result!== undefined) {\nthis.#loadResults.delete(affectedPath);\nfound.add(affectedPath);\n}\n}\naffected.delete(path);\nif (affected.size === 0) {\nthis.#fileDependencies.delete(normalizedPath);\n}\nreturn found.size > 0;\n}", "CodeBleu_score": 42.50007926369561}, {"code": "invalidate(path: string): boolean{\n\tonst normalizedPath = normalize(path);\nconst affected = this.#fileDependencies.get(normalizedPath);\nif (affected === undefined) {\nreturn false;\n}\nlet deleted = false;\nfor (const affectedPath of affected) {\nif (this.#loadResults.delete(affectedPath)) {\ndeleted = true;\n}\n}\nthis.#fileDependencies.delete(normalizedPath);\nreturn deleted;\n}", "CodeBleu_score": 64.15368585574772}, {"code": "invalidate(path: string): boolean{\n\tonst normalizedPath = normalize(path);\nconst affected = this.#fileDependencies.get(normalizedPath);\nif (affected === undefined) {\nreturn false;\n}\n\nlet deleted = false;\nfor (const affectedPath of affected) {\nif (this.#loadResults.delete(affectedPath)) {\ndeleted = true;\n}\n}\n\nthis.#fileDependencies.delete(normalizedPath);\nreturn deleted;\n}", "CodeBleu_score": 64.15368585574772}]}
{"instance_id": "8fa6dee0ba79", "generation_result": [{"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\tf (cumulative) {\nif (!cumulativeDurations) {\ncumulativeDurations = new Map();\n}\nconst durations = cumulativeDurations.get(name);\nif (durations) {\ndurations.push(Number(performance.now() - startTime));\n} else {\ncumulativeDurations.set(name, [Number(performance.now() - startTime)]);\n}\n} else {\n// eslint-disable-next-line no-console\nconsole.log(`DURATION[${name}]: ${Number(performance.now() - startTime).toFixed(9)}s`);\n}\n}", "CodeBleu_score": 37.453678977690096}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t/...\n}", "CodeBleu_score": 6.6511146342143554}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t// TODO(issue/24571): remove '!debugPerformance' from 'if' below\nif (!debugPerformance) {\n  return;\n}\n\nconst duration = performance.now() - Number(startTime);\nif (cumulative) {\n  if (!cumulativeDurations) {\n    cumulativeDurations = new Map();\n  }\n  let durations = cumulativeDurations.get(name);\n  if (!durations) {\n    durations = [];\n    cumulativeDurations.set(name, durations);\n  }\n  durations.push(duration);\n} else {\n  // eslint-disable-next-line no-console\n  console.log(`DURATION[${name}]: ${duration.toFixed(9)}s`);\n}\n}", "CodeBleu_score": 51.26082108039917}]}
{"instance_id": "0c530cbeb386", "generation_result": [{"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\n/**\n * This function, ensureSourceFileVersions, augments a TypeScript program to ensure each source file has a version.\nIt overrides the program's getSourceFiles method to compute and assign a SHA-256 hash as the version for files that do not have a version defined.\nThe hash is based on the file's text content.\n */\n  const getSourceFiles = program.getSourceFiles;\n  program.getSourceFiles = () => {\n    const sourceFiles = getSourceFiles();\n    sourceFiles.forEach((sourceFile) => {\n      if (!sourceFile.version) {\n        const hash = createHash('sha256');\n        hash.update(sourceFile.text);\n        sourceFile.version = hash.digest('base64');\n      }\n    });\n    return sourceFiles;\n  };\n}", "CodeBleu_score": 43.83003555471971}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\tconst getSourceFiles = program.getSourceFiles;\n\tprogram.getSourceFiles = function () {\n\t\tconst sourceFiles = getSourceFiles.apply(this, arguments);\n\t\tfor (const sourceFile of sourceFiles) {\n\t\t\tif (!sourceFile.version) {\n\t\t\t\tconst version = createHash('sha256')\n\t\t\t\t\t.update(sourceFile.text)\n\t\t\t\t\t.digest('hex');\n\t\t\t\tsourceFile.version = version;\n\t\t\t}\n\t\t}\n\t\treturn sourceFiles;\n\t};\n}", "CodeBleu_score": 46.815998499152855}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\tconst getSourceFiles = program.getSourceFiles;\nprogram.getSourceFiles = () => {\nconst sourceFiles = getSourceFiles();\nsourceFiles.forEach((sourceFile) => {\nif (!sourceFile.version) {\nconst fileText = sourceFile.getFullText();\nconst hash = createHash('sha256');\nhash.update(fileText);\nsourceFile.version = hash.digest('hex');\n}\n});\nreturn sourceFiles;\n};\n}", "CodeBleu_score": 39.95823704097436}]}
{"instance_id": "3faf480d56ae", "generation_result": [{"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\tresolvedModule) {\nreturn resolvedModule;\n}\nconst normalizedFileName = normalizePath(resolvedModule.resolvedFileName);\nconst normalizedReplacement = normalizedReplacements[normalizedFileName];\nif (normalizedReplacement) {\nconst isExternalLibrary = resolvedModule.isExternalLibraryImport;\nreturn {\nresolvedFileName: normalizedReplacement,\nisExternalLibraryImport: isExternalLibrary,\n};\n}\nreturn resolvedModule;\n}", "CodeBleu_score": 42.68373648104144}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t replacement = resolvedModule && normalizedReplacements[resolvedModule.resolvedFileName];\nif (replacement) {\nconst isExternalLibrary = resolvedModule.isExternalLibraryImport;\nreturn {\nresolvedFileName: replacement,\nisExternalLibraryImport: isExternalLibrary,\n};\n}\nreturn resolvedModule;\n}", "CodeBleu_score": 56.81293091368812}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t { resolvedFileName, isExternalLibraryImport } = resolvedModule || {};\nconst replacement = normalizedReplacements[resolvedFileName];\nreturn replacement? { resolvedFileName: replacement, isExternalLibraryImport } : resolvedModule;\n}", "CodeBleu_score": 34.244607759629744}]}
{"instance_id": "382672b61228", "generation_result": [{"code": "get waitUntilReady(): Promise<boolean>{\n\treturn this.#compilationReadyPromise??= new Promise(resolve => {\nthis.#resolveCompilationReady = resolve;\n\n});\n\n}", "CodeBleu_score": 36.109281812492775}, {"code": "get waitUntilReady(): Promise<boolean>{\n\tif (this.#pendingCompilation) {\nif (!this.#compilationReadyPromise) {\nthis.#compilationReadyPromise = new Promise(resolve => {\nthis.#resolveCompilationReady = resolve;\n});\n}\nreturn this.#compilationReadyPromise;\n} else {\nreturn Promise.resolve(this.#hasErrors);\n}\n}", "CodeBleu_score": 42.4301821712124}, {"code": "get waitUntilReady(): Promise<boolean>{\n\tif (!this.#pendingCompilation) {\nreturn Promise.resolve(this.#hasErrors);\n}\nif (!this.#compilationReadyPromise) {\nthis.#compilationReadyPromise = new Promise<boolean>(resolve => {\nthis.#resolveCompilationReady = resolve;\n});\n}\nreturn this.#compilationReadyPromise;\n}", "CodeBleu_score": 54.252835944407316}]}
{"instance_id": "27f631043b39", "generation_result": [{"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\treturn new BundlerContext(this.options.workspaceRoot, this.incremental, (loadCache) => {\nconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn buildOptions;\n});\n}", "CodeBleu_score": 12.571086053211317}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\treturn new BundlerContext(this.options.workspaceRoot, this.incremental, (loadCache) => {\nconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nreturn buildOptions;\n});\n}", "CodeBleu_score": 12.571086053211317}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\treturn new BundlerContext(this.options.workspaceRoot, this.incremental, (loadCache) => {\nconst buildOptions = createStylesheetBundleOptions(this.options, loadCache);\nbuildOptions.entryPoints = [entry];\n\nbuildOptions.plugins = [\n{\nname: 'Angular Component Stylesheets',\nsetup(build) {\nbuild.onResolve({ filter: /^angular:styles\\/component/ }, (args) => {\nconst [language, id, filename] = args.path.split(';');\nconst content = data;\nconst path = filename;\nconst namespace = 'angular:styles/component';\nconst loader = 'css';\nconst resolveDir = path.dirname(filename);\n\nreturn {\npath,\nnamespace,\ncontent,\nloader,\nresolveDir,\n};\n});\n},\n},\n];\n\nreturn buildOptions;\n});\n}", "CodeBleu_score": 34.38846302498273}]}
{"instance_id": "b89b44b794a7", "generation_result": [{"code": "invalidate(files: Iterable<string>) {\n\tonst normalizedFiles = Array.from(files).map((file) => path.normalize(file));\nthis.#fileContexts.invalidate(normalizedFiles);\nthis.#inlineContexts.invalidate(normalizedFiles);\n}", "CodeBleu_score": 23.632884169812908}, {"code": "invalidate(files: Iterable<string>) {\n\tonst normalizedFiles = Array.from(files).map((file) => path.normalize(file));\nthis.#fileContexts.invalidate(normalizedFiles);\nthis.#inlineContexts.invalidate(normalizedFiles);\n}", "CodeBleu_score": 23.632884169812908}, {"code": "invalidate(files: Iterable<string>) {\n\tonst normalizedFiles = Array.from(files).map((file) => path.normalize(file));\nthis.#fileContexts.invalidate(normalizedFiles);\nthis.#inlineContexts.invalidate(normalizedFiles);\n}", "CodeBleu_score": 23.632884169812908}]}
{"instance_id": "aa3aa0817adf", "generation_result": [{"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\t", "CodeBleu_score": 8.267777108135347}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\t The prefix is 'TS' for TypeScript diagnostics and 'NG' for Angular diagnostics.\nconst prefix = diagnostic.file? 'TS' : 'NG';\nconst code = `${prefix}${diagnostic.code}`;\nconst mainMessage: PartialMessage = {\n  code,\n  text: typescript.flattenDiagnosticMessageText(diagnostic.messageText, '\n'),\n};\n\nif (diagnostic.relatedInformation) {\n  const notes: PartialNote[] = [];\n  for (const info of diagnostic.relatedInformation) {\n    notes.push(convertTypeScriptDiagnosticInfo(typescript, info, code));\n  }\n  mainMessage.notes = notes;\n}\n\nreturn mainMessage;\n}", "CodeBleu_score": 42.1223215736756}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\tnst newLine = platform() === 'win32'? '\\r\n' : '\n';\n\nlet message: PartialMessage = {\n  code: diagnostic.code === 0? 'TS' : 'NG',\n  text: typescript.flattenDiagnosticMessageText(diagnostic.messageText, newLine),\n};\n\nif (diagnostic.file) {\n  message.location = {\n    file: diagnostic.file.fileName,\n    length: diagnostic.length,\n  };\n\n  // Calculate the line/column location and extract the full line text that has the diagnostic\n  if (diagnostic.start) {\n    const { line, character } = typescript.getLineAndCharacterOfPosition(diagnostic.file, diagnostic.start);\n    message.location.line = line + 1;\n    message.location.column = character;\n\n    // The start position for the slice is the first character of the error line\n    const lineStartPosition = typescript.getPositionOfLineAndCharacter(diagnostic.file, line, 0);\n\n    // The end position for the slice is the first character of the next line or the length of\n    // the entire file if the line is the last line of the file (getPositionOfLineAndCharacter\n    // will error if a nonexistent line is passed).\n    const { line: lastLineOfFile } = typescript.getLineAndCharacterOfPosition(diagnostic.file, diagnostic.file.text.length - 1);\n    const lineEndPosition = line < lastLineOfFile\n     ? typescript.getPositionOfLineAndCharacter(diagnostic.file, line + 1, 0)\n      : diagnostic.file.text.length;\n\n    message.location.lineText = diagnostic.file.text.slice(lineStartPosition, lineEndPosition).trimEnd();\n  }\n}\n\nif (diagnostic.relatedInformation) {\n  for (const info of diagnostic.relatedInformation) {\n    message.notes.push(convertTypeScriptDiagnosticInfo(typescript, info));\n  }\n}\n\nreturn message;\n}", "CodeBleu_score": 36.135377825064715}]}
{"instance_id": "0cd0285018f1", "generation_result": [{"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\tconst normalizedContainingFile = normalize(containingFile);\nfor (const referencedFile of referencedFiles) {\nconst normalizedReferencedFile = normalize(referencedFile);\nif (normalizedReferencedFile === normalizedContainingFile) {\ncontinue;\n}\nconst referencingFiles = this.#referencingFiles.get(normalizedReferencedFile);\nif (referencingFiles === undefined) {\nthis.#referencingFiles.set(normalizedReferencedFile, new Set([normalizedContainingFile]));\n} else {\nreferencingFiles.add(normalizedContainingFile);\n}\n}\n}", "CodeBleu_score": 87.0015838818456}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\tfor (const referencedFile of referencedFiles) {\nif (referencedFile === containingFile) {\ncontinue;\n}\nconst normalizedReferencedFile = normalize(referencedFile);\nconst normalizedContainingFile = normalize(containingFile);\nthis.#referencingFiles.set(\nnormalizedReferencedFile,\nthis.#referencingFiles.get(normalizedReferencedFile) || new Set(),\n);\nthis.#referencingFiles.get(normalizedReferencedFile)!.add(normalizedContainingFile);\n}\n}", "CodeBleu_score": 48.4479159392051}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\tconst normalizedContainingFile = normalize(containingFile);\nfor (const referencedFile of referencedFiles) {\nif (referencedFile === normalizedContainingFile) {\ncontinue;\n}\nconst normalizedReferencedFile = normalize(referencedFile);\nconst referencingFiles = this.#referencingFiles.get(normalizedReferencedFile);\nif (referencingFiles === undefined) {\nthis.#referencingFiles.set(normalizedReferencedFile, new Set([normalizedContainingFile]));\n} else {\nreferencingFiles.add(normalizedContainingFile);\n}\n}\n}", "CodeBleu_score": 79.98950893062529}]}
{"instance_id": "e22be1916b33", "generation_result": [{"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tconst angularCompilerCliModule = AngularCompilation.#angularCompilerCliModule;\nif (angularCompilerCliModule === undefined) {\nAngularCompilation.#angularCompilerCliModule = await loadEsmModule('@angular/compiler-cli', import.meta.url);\n}\nreturn AngularCompilation.#angularCompilerCliModule;\n}", "CodeBleu_score": 38.899799211977296}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tif (AngularCompilation.#angularCompilerCliModule) {\nreturn AngularCompilation.#angularCompilerCliModule;\n}\nAngularCompilation.#angularCompilerCliModule = await loadEsmModule('@angular/compiler-cli');\nreturn AngularCompilation.#angularCompilerCliModule;\n}", "CodeBleu_score": 38.31672540303101}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\tconst angularCompilerCliModule = AngularCompilation.#angularCompilerCliModule;\nif (angularCompilerCliModule!== undefined) {\nreturn angularCompilerCliModule;\n}\n\nconst module = await loadEsmModule('@angular/compiler-cli', 'compiler-cli');\nAngularCompilation.#angularCompilerCliModule = module;\nreturn module;\n}", "CodeBleu_score": 38.81710217402474}]}
{"instance_id": "64e42342101f", "generation_result": [{"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tconst { useParallelTs } = await useParallelTs();\n\tif (useParallelTs) {\n\t\treturn import('./parallel-compilation').then(m => m.ParallelCompilation);\n\t}\n\tif (jit) {\n\t\treturn import('./jit-compilation').then(m => m.JitCompilation);\n\t}\n\treturn import('./aot-compilation').then(m => m.AotCompilation);\n}", "CodeBleu_score": 33.748028270451314}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\treturn import('./parallel-compilation').then(m => m.ParallelCompilation);\n\t}\n\tif (jit) {\n\t\treturn import('./jit-compilation').then(m => m.JitCompilation);\n\t}\n\treturn import('./aot-compilation').then(m => m.AotCompilation);\n}", "CodeBleu_score": 26.48185250747596}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\tconst { ParallelCompilation } = await import('./parallel-compilation');\n\t\treturn new ParallelCompilation(jit);\n\t}\n\n\tif (jit) {\n\t\tconst { JitCompilation } = await import('./jit-compilation');\n\t\treturn new JitCompilation();\n\t}\n\n\tconst { AotCompilation } = await import('./aot-compilation');\n\treturn new AotCompilation();\n}", "CodeBleu_score": 90.11996228558381}]}
{"instance_id": "37804d74eb2d", "generation_result": [{"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t", "CodeBleu_score": 13.779119417598814}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\tap = btoa(JSON.stringify(sourceMap));\nconst relativeSources = sourceMap.sources.map((source) => relative(root, source));\nreturn `/*# sourceMappingURL=data:application/json;base64,${base64SourceMap} */\n/*# sourceURL=${relativeSources[0]} */`;\n}", "CodeBleu_score": 54.68404967651076}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\tn, relativePath, converts an absolute path to a relative path based on the given root.\nIt returns the relative path from the root to the absolute path.\n */\nfunction relativePath(path: string): string {\n  const relative = relative(root, path);\n  return relative === ''? './' : relative;\n}\n\n/**\n * This function, updateSourceMapSources, updates the sources in the source map to relative paths based on the given root.\nIt returns the updated source map.\n */\nfunction updateSourceMapSources(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): Exclude<CompileResult['sourceMap'], undefined> {\n  sourceMap.sources = sourceMap.sources.map(relativePath);\n  return sourceMap;\n}\n\n/**\n * This function, serializeSourceMap, serializes a source map to a base64-encoded JSON string.\nIt returns the serialized source map.\n */\nfunction serializeSourceMap(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n): string {\n  return btoa(JSON.stringify(updateSourceMapSources(sourceMap, root)));\n}\n\n/**\n * This function, createSourceMapUrlComment, creates a source map URL comment containing the given source map.\nIt returns the source map URL comment.\n */\nfunction createSourceMapUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n): string {\n  return `/*# sourceMappingURL=data:application/json;charset=utf-8;base64,${serializeSourceMap(\n    sourceMap,\n  )} */`;\n}\n\nreturn createSourceMapUrlComment(sourceMap);\n}", "CodeBleu_score": 45.14855174257342}]}
{"instance_id": "bccb5eeb4c4d", "generation_result": [{"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tconst cwd = process.cwd();\n\n\tfor (const line of lines) {\n\t\tconst segments = line.split(':');\n\t\tconst file = segments.slice(0, -2).join(':');\n\n\t\tif (file) {\n\t\t\tyield relative(cwd, file);\n\t\t}\n\t}\n}", "CodeBleu_score": 47.12534302610328}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\\\n');\n\tfor (const line of lines) {\n\t\tconst segments = line.split(':');\n\t\tif (segments.length > 1 && segments[0].endsWith('(')) {\n\t\t\tconst file = segments[1].trim();\n\t\t\tyield file;\n\t\t}\n\t}\n}", "CodeBleu_score": 38.97568880014706}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split(/\\r?\n/);\n\n\tfor (const line of lines) {\n\t\tconst segments = line.split(':');\n\n\t\t// The first segment is the file path\n\t\tconst filePath = segments[0];\n\n\t\t// The second segment is the location identifier\n\t\tconst locationIdentifier = segments[1];\n\n\t\t// The third segment is the line number\n\t\tconst lineNumber = segments[2];\n\n\t\tif (filePath && locationIdentifier && lineNumber) {\n\t\t\tconst file = path.join(process.cwd(), filePath);\n\n\t\t\tyield file;\n\t\t}\n\t}\n}", "CodeBleu_score": 39.2369085278043}]}
{"instance_id": "e73986d88a00", "generation_result": [{"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\treturn typeof contents ==='string'\n\t\t? contents.includes('@tailwind')\n\t\t: Buffer.from(contents).toString('utf-8').includes('@tailwind');\n}", "CodeBleu_score": 18.93833112058695}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t", "CodeBleu_score": 4.125658188672457}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t", "CodeBleu_score": 4.125658188672457}]}
{"instance_id": "ff27dc4f1deb", "generation_result": [{"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t", "CodeBleu_score": 15.511971827893072}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\tst headers = server.config.headers;\nif (headers) {\nfor (const [key, value] of Object.entries(headers)) {\nif (value!== undefined) {\nres.setHeader(key, value);\n}\n}\n}\n}", "CodeBleu_score": 52.31591313417376}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\tst headers = server.config.headers;\nif (headers) {\nObject.entries(headers).forEach(([key, value]) => {\nif (value!== undefined) {\nres.setHeader(key, value);\n}\n});\n}\n}", "CodeBleu_score": 41.948762304216864}]}
{"instance_id": "1d547de72724", "generation_result": [{"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\nconst parsers = await loadEsmModule('@angular/localize/tools', 'parsers');\nconst diagnostics = await loadEsmModule('@angular/localize/tools', 'diagnostics');\n\n/**\n * This function, loadTranslations, reads the file content, iterates through available parsers to analyze and parse the content, and returns translation details including format, locale, translations, diagnostics, and a content integrity hash if a suitable parser is found.\nIf no parser can handle the file, it throws an error listing the diagnostics from all attempted parsers.\n */\nreturn async function loadTranslations(path: string) {\n\nconst fileContent = fs.readFileSync(path, 'utf8');\nconst hash = createHash('sha256');\nhash.update(fileContent);\nconst integrity = hash.digest('hex');\n\nconst { format, locale, translations, diagnostics: diagnosticsForFile } = await Promise.any(\nObject.values(parsers).map(async (parser) => {\ntry {\nreturn parser(fileContent);\n} catch (e) {\nreturn { format: '', locale: '', translations: {}, diagnostics: diagnosticsForFile.concat(diagnostics.parseError(e)) };\n}\n}),\n);\n\nif (!format) {\nthrow new Error(diagnosticsForFile.map((d) => d.message).join('\n'));\n}\n\nreturn { format, locale, translations, diagnostics: diagnosticsForFile, integrity };\n};\n}", "CodeBleu_score": 35.117534116920694}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\nconst parsers = await loadEsmModule('@angular/localize/tools/src/translation_parsers');\nconst diagnostics = await loadEsmModule('@angular/localize/tools/src/diagnostics');\n\nreturn async function loadTranslations(path: string): Promise<{\n  translations: Record<string, import('@angular/localize').\u00c9\u00b5ParsedTranslation>;\n  format: string;\n  locale?: string;\n  diagnostics: Diagnostics;\n  integrity: string;\n}> {\n  const fileContent = fs.readFileSync(path, 'utf-8');\n  const integrity = createHash('sha256').update(fileContent).digest('hex');\n  const format = getFormat(path);\n  const locale = getLocale(path);\n  const diagnosticsFromParsers: Diagnostics[] = [];\n  let translations: Record<string, import('@angular/localize').\u00c9\u00b5ParsedTranslation> = {};\n\n  for (const parser of Object.values(parsers)) {\n    const { parsedTranslations, diagnostics: diagnosticsFromParser } = await parser.parse(\n      fileContent,\n      path,\n    );\n    if (parsedTranslations) {\n      translations = parsedTranslations;\n      break;\n    }\n    diagnosticsFromParsers.push(diagnosticsFromParser);\n  }\n\n  if (!translations) {\n    throw diagnostics.createError(diagnosticsFromParsers, 'No suitable parser found.');\n  }\n\n  return {\n    translations,\n    format,\n    locale,\n    diagnostics: diagnostics.merge(diagnosticsFromParsers),\n    integrity,\n  };\n};\n}", "CodeBleu_score": 34.08024018599532}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\n// Load the parsers and diagnostics modules from the localize package.\nconst { parse, diagnostics: parseDiagnostics } = await loadEsmModule('@angular/localize/tools/src/translation_parser');\nconst { parse: htmlParse, diagnostics: htmlParseDiagnostics } = await loadEsmModule('@angular/localize/tools/src/html_parser');\nconst { parse: xmbParse, diagnostics: xmbParseDiagnostics } = await loadEsmModule('@angular/localize/tools/src/xmb_parser');\nconst { parse: xliffParse, diagnostics: xliffParseDiagnostics } = await loadEsmModule('@angular/localize/tools/src/xliff_parser');\nconst { parse: xliff2Parse, diagnostics: xliff2ParseDiagnostics } = await loadEsmModule('@angular/localize/tools/src/xliff2_parser');\n\n// Return a function that loads translations from a file path.\nreturn async function loadTranslation(path: string): Promise<{\ntranslations: Record<string, import('@angular/localize').\u00c9\u00b5ParsedTranslation>;\nformat: string;\nlocale?: string;\ndiagnostics: Diagnostics;\nintegrity: string;\n}> {\n\n// Read the file content.\nconst content = fs.readFileSync(path, 'utf8');\n\n// Create a hash for the content integrity.\nconst hash = createHash('sha256');\nhash.update(content);\n\n// Create a diagnostics object to collect diagnostics from all parsers.\nconst diagnostics: Diagnostics = [];\n\n// Try to parse the file using the parsers.\nconst result = await parse(path, content);\nif (result) {\nreturn {\ntranslations: result.translations,\nformat: result.format,\nlocale: result.locale,\ndiagnostics: diagnostics,\nintegrity: hash.digest('hex'),\n};\n}\n\n// If no parser can handle the file, throw an error listing the diagnostics from all attempted parsers.\nthrow new Error(diagnostics.map(d => d.message).join('\n'));\n}\n}", "CodeBleu_score": 28.604921277085577}]}
{"instance_id": "0c0d3dcf983c", "generation_result": [{"code": "toggleSidebar(): boolean{\n\tidebarService.toggle(true,'menu-sidebar');\nthis.layoutService.changeLayoutSize();\nreturn false;\n}", "CodeBleu_score": 50.77678043993459}, {"code": "toggleSidebar(): boolean{\n\tidebarService.toggle(true,'menu-sidebar');\nthis.layoutService.changeLayoutSize();\nreturn false;\n}", "CodeBleu_score": 50.77678043993459}, {"code": "toggleSidebar(): boolean{\n\tidebarService.toggle(true,'menu-sidebar');\nthis.layoutService.changeLayoutSize();\nreturn false;\n}", "CodeBleu_score": 50.77678043993459}]}
{"instance_id": "c5ebbdd1dadf", "generation_result": [{"code": "loadNext(cardData){\n\tif (cardData.loading) {\nreturn;\n}\ncardData.loading = true;\ncardData.placeholders = Array(cardData.pageSize).fill(0);\nthis.newsService.getNews(cardData.pageToLoadNext).subscribe((news: any[]) => {\ncardData.placeholders = [];\ncardData.news = cardData.news.concat(news);\ncardData.loading = false;\ncardData.pageToLoadNext++;\n});\n}", "CodeBleu_score": 73.90162785744387}, {"code": "loadNext(cardData){\n\tif (cardData.loading) {\nreturn;\n}\ncardData.loading = true;\ncardData.placeholders = Array.from({ length: this.pageSize }, () => null);\nthis.newsService.getNews(cardData.pageToLoadNext)\n.subscribe(news => {\ncardData.placeholders = [];\ncardData.news = cardData.news.concat(news);\ncardData.loading = false;\ncardData.pageToLoadNext++;\n});\n}", "CodeBleu_score": 74.444871503814}, {"code": "loadNext(cardData){\n\tif (cardData.loading) {\nreturn;\n}\ncardData.loading = true;\ncardData.placeholders = Array(this.pageSize).fill(0);\nthis.newsService.getNews(cardData.pageToLoadNext).subscribe((news) => {\ncardData.placeholders = [];\ncardData.news = cardData.news.concat(news);\ncardData.loading = false;\ncardData.pageToLoadNext += 1;\n});\n}", "CodeBleu_score": 62.131079972370415}]}
{"instance_id": "1bd87ab8efa2", "generation_result": [{"code": "backToTop(){\n\tthis.isMoving = true\nlet scrollTop = window.pageYOffset\nlet scrollStep = Math.PI / (scrollTop / (this.backPosition / 2))\nlet cosParameter = scrollTop / this.backPosition\nlet scrollInterval = setInterval(() => {\nif (window.pageYOffset!== 0) {\nscrollTop = scrollTop - (scrollTop / (this.backPosition / 10))\nwindow.scrollTo(0, scrollTop)\n} else {\nclearInterval(scrollInterval)\nthis.isMoving = false\n}\n}, 16.7)\n}", "CodeBleu_score": 43.41724504245808}, {"code": "backToTop(){\n\tif (this.isMoving) {\nreturn\n}\n\nthis.isMoving = true\nlet scrollTop = window.pageYOffset\nconst easing = t => t < 0.5? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\nconst interval = setInterval(() => {\nconst step = Math.round(easing(scrollTop / this.backPosition) * 16.7)\nwindow.scroll(0, scrollTop - step)\nscrollTop -= step\nif (scrollTop <= 0) {\nclearInterval(interval)\nthis.isMoving = false\n}\n}, 16.7)\n}", "CodeBleu_score": 43.22736905473696}, {"code": "backToTop(){\n\tif (this.isMoving) {\nreturn\n}\nthis.isMoving = true\nconst scrollTop = window.pageYOffset\nconst scrollStep = Math.PI / (scrollTop / (this.backPosition / 2))\nconst interval = setInterval(() => {\nif (window.pageYOffset!== 0) {\nwindow.scroll(0, window.pageYOffset - this.backPosition)\n} else {\nclearInterval(interval)\nthis.isMoving = false\n}\n}, 16.7)\n}", "CodeBleu_score": 44.437341498960734}]}
{"instance_id": "0ef728b56235", "generation_result": [{"code": "getBreadcrumb(){\n\t\nconst matchedRoutes = this.$route.matched.filter(route => {\nreturn route.meta.title &&!route.meta.excludeFromBreadcrumb\n})\n\n// if the first matched route is not the dashboard, prepend a dashboard route to the list\nif (matchedRoutes[0].path!== '/') {\nmatchedRoutes.unshift({\npath: '/',\nmeta: { title: 'Dashboard' }\n})\n}\n\n// set the levelList to routes that have a meta title and are not explicitly excluded from the breadcrumb\nthis.levelList = matchedRoutes\n}", "CodeBleu_score": 40.70543563383801}, {"code": "getBreadcrumb(){\n\tconst routes = this.$router.options.routes\nconst matched = this.$route.matched\nconst breadcrumb = []\nconst excludedRoutes = this.$store.state.app.excludedRoutes\n\n// filter matched routes to include only those with a meta title\nconst metaTitleRoutes = matched.filter(route => {\nreturn route.meta.title &&!excludedRoutes.includes(route.path)\n})\n\n// prepend dashboard route to the list if the first matched route is not the dashboard\nif (metaTitleRoutes[0].path!== '/') {\nbreadcrumb.push({\npath: '/',\nmeta: {\ntitle: this.$t('routes.dashboard')\n}\n})\n}\n\n// add the remaining routes to the breadcrumb list\nmetaTitleRoutes.forEach(route => {\nbreadcrumb.push({\npath: route.path,\nmeta: route.meta\n})\n})\n\n// set the levelList\nthis.levelList = breadcrumb\n}", "CodeBleu_score": 34.273387557099774}, {"code": "getBreadcrumb(){\n\tconst routes = this.$router.options.routes\nconst matched = this.$router.match(this.$route).matched\nconst breadcrumb = matched.filter(route => route.meta && route.meta.title &&!route.meta.excludeBreadcrumb)\nconst levelList = []\nconst dashboardRoute = routes.find(route => route.path === '/')\nif (dashboardRoute) {\nlevelList.push(dashboardRoute)\n}\nlevelList.push(...breadcrumb)\nthis.levelList = levelList\n}", "CodeBleu_score": 37.01594200892152}]}
{"instance_id": "4431fde0a559", "generation_result": [{"code": "destroyListener(){\n\tthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\nwindow.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\n}", "CodeBleu_score": 60.463141609980795}, {"code": "destroyListener(){\n\tthis.$_resizeHandler = null\nwindow.removeEventListener('resize', this.$_resizeHandler)\n\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\n}", "CodeBleu_score": 55.11242387121722}, {"code": "destroyListener(){\n\tthis.$_resizeHandler && window.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\nthis.$_sidebarElm = null\n}", "CodeBleu_score": 60.69301448572385}]}
{"instance_id": "7215170e04cd", "generation_result": [{"code": "deleteEle(ele){\n\tis.list1.splice(this.list1.findIndex(e => e.id === ele.id), 1)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 34.061791715574294}, {"code": "deleteEle(ele){\n\tis.list1.splice(this.list1.indexOf(ele), 1)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 31.33634762852877}, {"code": "deleteEle(ele){\n\tis.list1 = this.list1.filter(v => v.id!== ele.id)\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 32.10947959210286}]}
{"instance_id": "b2acc5757074", "generation_result": [{"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tet res = []\nfor (let i = 0; i < routes.length; i++) {\nconst route = routes[i]\nconst tmp = {...route }\nif (tmp.component) {\ntmp.component = loadView(tmp.component)\n}\nif (tmp.meta && tmp.meta.title &&!tmp.meta.noRedirect) {\nconst title = tmp.meta.title\ntmp.title = prefixTitle.concat(title).join('/')\ntmp.path = path.resolve(basePath, tmp.path)\nif (tmp.children && tmp.children.length) {\nconst childRoutes = this.generateRoutes(tmp.children, tmp.path, title)\nres.push(...childRoutes)\n} else {\nres.push(tmp)\n}\n}\n}\nreturn res\n}", "CodeBleu_score": 39.856403130803564}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tonst res = []\nroutes.forEach(route => {\nconst tmp = {...route }\nif (tmp.component) {\ntmp.component = loadView(tmp.component)\n}\nif (tmp.children) {\ntmp.children = this.generateRoutes(tmp.children, `${basePath}${tmp.path}/`, tmp.meta && tmp.meta.title? prefixTitle.concat(tmp.meta.title) : prefixTitle)\n}\nif (tmp.name) {\ntmp.path = `${basePath}${tmp.path}`\n} else {\ntmp.path = basePath\n}\nif (tmp.meta &&!tmp.meta.noRedirect && (tmp.meta.title || (tmp.children && tmp.children.length))) {\nconst meta = {...tmp.meta }\nmeta.title = tmp.meta.title || prefixTitle.concat(tmp.title).join('/')\ntmp.meta = meta\n}\nres.push(tmp)\n})\nreturn res\n}", "CodeBleu_score": 30.03736734154402}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tonst result = []\nfor (let i = 0; i < routes.length; i++) {\nconst route = routes[i]\nconst { path, meta, children, hidden } = route\nif (hidden) {\ncontinue\n}\nconst currentPath = path === '/'? '/' : `${basePath}${path}`\nconst currentTitle = [...prefixTitle, meta && meta.title]\nif (meta && meta.title &&!meta.noRedirect) {\nresult.push({\npath: currentPath,\ntitle: currentTitle\n})\n}\nif (children && children.length > 0) {\nresult.push(...this.generateRoutes(children, currentPath, currentTitle))\n}\n}\nreturn result\n}", "CodeBleu_score": 34.85637161428371}]}
{"instance_id": "c4e47c376d30", "generation_result": [{"code": "closeSidebar(evt){\n\t(evt.target.closest('.rightPanel')) return\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}", "CodeBleu_score": 40.648189276322114}, {"code": "closeSidebar(evt){\n\tst el = evt.target\nif (!el.classList.contains('rightPanel')) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 45.44917935588116}, {"code": "closeSidebar(evt){\n\t(!this.$refs.rightPanel.contains(evt.target)) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 39.704462871300514}]}
{"instance_id": "ab91e02736a1", "generation_result": [{"code": "click(){\n\tf (!screenfull.enabled) {\nconsole.warn('your browser cannot work')\nreturn false\n}\nscreenfull.toggle()\n}", "CodeBleu_score": 26.974951431206556}, {"code": "click(){\n\tf (!screenfull.enabled) {\nconsole.warn('your browser cannot work')\nreturn false\n}\nscreenfull.toggle()\n}", "CodeBleu_score": 26.974951431206556}, {"code": "click(){\n\tf (screenfull.enabled) {\nscreenfull.toggle()\n} else {\nalert('your browser cannot work')\nreturn false\n}\n}", "CodeBleu_score": 23.07517513146237}]}
{"instance_id": "3f27cb09d8c2", "generation_result": [{"code": "function checkPermission(el, binding) {\n\t\tconst roles = store.state.auth.user.roles\n\tif (roles) {\n\t\tif (!binding.value ||!binding.value.length) {\n\t\t\tthrow new Error('You must provide at least one role to check for')\n\t\t}\n\t\tif (!binding.value.includes(roles)) {\n\t\t\tel.parentNode.removeChild(el)\n\t\t}\n\t} else {\n\t\tthrow new Error('You must be logged in to use this directive')\n\t}\n}", "CodeBleu_score": 24.915082513757692}, {"code": "function checkPermission(el, binding) {\n\t\tif (binding.value && binding.value.length > 0) {\n\t\tconst roles = store.getters.roles\n\t\tif (roles && roles.length > 0) {\n\t\t\tconst hasPermission = roles.some(role => binding.value.includes(role))\n\t\t\tif (!hasPermission) {\n\t\t\t\tel.parentNode.removeChild(el)\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Roles are required for v-permission directive')\n\t\t}\n\t}\n}", "CodeBleu_score": 35.12516912123624}, {"code": "function checkPermission(el, binding) {\n\t\tif (binding.value) {\n\t\tconst requiredRoles = binding.value;\n\t\tconst userRoles = store.state.user.roles;\n\t\tif (userRoles.some(role => requiredRoles.includes(role))) {\n\t\t\tel.style.display = 'block';\n\t\t} else {\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\t} else {\n\t\tthrow new Error('v-permission: The binding value must be an array of roles');\n\t}\n}", "CodeBleu_score": 27.207841240822994}]}
{"instance_id": "04e47e771281", "generation_result": [{"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\t", "CodeBleu_score": 18.75}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\t", "CodeBleu_score": 18.75}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\t", "CodeBleu_score": 18.75}]}
{"instance_id": "3f25736bfbcd", "generation_result": [{"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tuser, error }", "CodeBleu_score": 11.000917627635875}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tthTokens = await this.authService.googleAuthRedirect(req);\nif (E.isLeft(authTokens)) throwHTTPErr(authTokens.left);\nauthCookieHandler(res, authTokens.right, false, null);\n}", "CodeBleu_score": 33.56204801730422}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\tthTokens = await this.authService.googleAuth(req);\nif (E.isLeft(authTokens)) throwHTTPErr(authTokens.left);\nauthCookieHandler(res, authTokens.right, false, null);\n}", "CodeBleu_score": 32.77772099767002}]}
{"instance_id": "52aa108e3521", "generation_result": [{"code": "const mousewheel = function(element, callback){\n\tf (typeof element ==='string') {\n\t\telement = document.querySelector(element);\n\t}\n\n\tif (typeof callback!== 'function') {\n\t\tthrow new Error('mousewheel: callback must be a function');\n\t}\n\n\tlet onWheel = function(event) {\n\t\tevent = normalizeWheel(event);\n\t\tcallback(event);\n\t};\n\n\telement.addEventListener(isFirefox? 'DOMMouseScroll' :'mousewheel', onWheel, false);\n\n\treturn {\n\t\tdestroy: function() {\n\t\t\telement.removeEventListener(isFirefox? 'DOMMouseScroll' :'mousewheel', onWheel, false);\n\t\t}\n\t};\n}", "CodeBleu_score": 34.643795551326804}, {"code": "const mousewheel = function(element, callback){\n\tf (typeof element ==='string') {\n\t\telement = document.querySelector(element);\n\t}\n\n\tif (element.addEventListener) {\n\t\tif (isFirefox) {\n\t\t\telement.addEventListener('DOMMouseScroll', function(event) {\n\t\t\t\tcallback(event, normalizeWheel(event));\n\t\t\t}, false);\n\t\t} else {\n\t\t\telement.addEventListener('mousewheel', function(event) {\n\t\t\t\tcallback(event, normalizeWheel(event));\n\t\t\t}, false);\n\t\t}\n\t} else if (element.attachEvent) {\n\t\telement.attachEvent('onmousewheel', function(event) {\n\t\t\tcallback(event, normalizeWheel(event));\n\t\t});\n\t}\n}", "CodeBleu_score": 36.876168124480444}, {"code": "const mousewheel = function(element, callback){\n\tonst onWheel = function(event) {\n\t\tconst normalized = normalizeWheel(event);\n\t\tcallback(event, normalized);\n\t};\n\n\tif (isFirefox) {\n\t\telement.addEventListener('DOMMouseScroll', onWheel);\n\t} else {\n\t\telement.addEventListener('mousewheel', onWheel);\n\t}\n}", "CodeBleu_score": 45.86444365937752}]}
{"instance_id": "bb9e14122636", "generation_result": [{"code": "let i18nHandler = function(){\n\t\tif (typeof Vue.prototype.$t === 'function' && Vue.locale) {\n\t\tif (!merged) {\n\t\t\tVue.locale(Vue.config.lang, deepmerge(Vue.locale(Vue.config.lang), lang));\n\t\t\tmerged = true;\n\t\t}\n\t\treturn Vue.prototype.$t.apply(this, arguments);\n\t}\n\treturn '';\n}", "CodeBleu_score": 40.34040883831546}, {"code": "let i18nHandler = function(){\n\t\tif (typeof Vue.prototype.$t === 'function' && Vue.locale) {\n\t\tif (!merged) {\n\t\t\tVue.locale(Vue.config.lang, deepmerge(Vue.locale(Vue.config.lang), lang));\n\t\t\tmerged = true;\n\t\t}\n\t\treturn Vue.prototype.$t.apply(null, arguments);\n\t}\n\treturn arguments[0];\n}", "CodeBleu_score": 40.393162900758604}, {"code": "let i18nHandler = function(){\n\t\n// 1. Retrieve the $t method from Vue's prototype\nlet $t = Vue.prototype.$t;\n\n// 2. Check if the $t method is a function and if Vue.locale exists\nif (typeof $t === 'function' && Vue.locale) {\n\n// 3. If not already merged, merge the provided language data with the current locale data and set the merged flag to true\nif (!merged) {\nlang = deepmerge(defaultLang, lang);\nmerged = true;\n}\n\n// 4. Invoke the $t method with the given arguments\nreturn $t.apply(Vue.locale, arguments);\n}\n\n// 5. If the $t method is not a function or Vue.locale does not exist, return the provided arguments\nreturn arguments;\n}", "CodeBleu_score": 32.28866696453491}]}
{"instance_id": "b0608b85127a", "generation_result": [{"code": "function broadcast(componentName, eventName, params){\n\t\tthis.$children.forEach(child => {\n\t\tvar name = child.$options.componentName;\n\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.apply(child, [componentName, eventName].concat(params));\n\t\t}\n\t});\n}", "CodeBleu_score": 75.66301264731061}, {"code": "function broadcast(componentName, eventName, params){\n\t\tthis.$children.forEach(child => {\n\t\tvar name = child.$options.componentName;\n\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.apply(child, [componentName, eventName].concat(params));\n\t\t}\n\t});\n}", "CodeBleu_score": 75.66301264731061}, {"code": "function broadcast(componentName, eventName, params){\n\t\tthis.$children.forEach(child => {\n\t\tvar name = child.$options.componentName;\n\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.apply(child, [componentName, eventName].concat(params));\n\t\t}\n\t});\n}", "CodeBleu_score": 75.66301264731061}]}
{"instance_id": "da57b9dc5023", "generation_result": [{"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tvar focusable = aria.Utils.getFocusable(element);\n\tif (focusable) {\n\t\tfocusable.focus();\n\t\treturn true;\n\t}\n\treturn false;\n}", "CodeBleu_score": 26.270958359221087}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tvar i,\n\t\tchildren = element.childNodes,\n\t\tchild,\n\t\tchildFocusable;\n\n\tfor (i = 0; i < children.length; i++) {\n\t\tchild = children[i];\n\t\tif (child.nodeType === 1) {\n\t\t\tchildFocusable = aria.Utils.isFocusable(child);\n\t\t\tif (childFocusable) {\n\t\t\t\tchild.focus();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tchildFocusable = aria.Utils.focusFirstDescendant(child);\n\t\t\t\tif (childFocusable) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 40.99794045464606}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tvar children = element.childNodes,\n\t\ti = 0,\n\t\tchild;\n\n\twhile (i < children.length) {\n\t\tchild = children[i++];\n\t\tif (aria.utils.Dom.isFocusable(child)) {\n\t\t\taria.utils.Dom.setFocus(child);\n\t\t\treturn true;\n\t\t} else if (aria.utils.Dom.hasFocusableDescendant(child)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 37.76897835171458}]}
{"instance_id": "a029702e104d", "generation_result": [{"code": "highlight(index){\n\t(!this.suggestionVisible || this.loading) {\nreturn;\n}\nif (index < 0) {\nindex = 0;\n} else if (index >= this.suggestions.length) {\nindex = this.suggestions.length - 1;\n}\nthis.highlightedIndex = index;\nthis.scrollTo(this.highlightedIndex);\nthis.setAriaActiveDescendant();\n}", "CodeBleu_score": 19.127061298440427}, {"code": "highlight(index){\n\t(this.suggestionVisible &&!this.loading) {\nconst suggestions = this.suggestions;\nif (index < 0) {\nindex = suggestions.length - 1;\n} else if (index >= suggestions.length) {\nindex = 0;\n}\nthis.highlightedIndex = index;\nconst $suggestions = this.$refs.suggestions;\nif ($suggestions) {\nconst $item = this.$refs.suggestions.$refs.items[index];\nif ($item) {\nconst itemHeight = $item.clientHeight;\nconst itemOffsetTop = $item.offsetTop;\nconst itemOffsetBottom = itemOffsetTop + itemHeight;\nconst suggestionsHeight = $suggestions.clientHeight;\nconst suggestionsOffsetTop = $suggestions.offsetTop;\nconst suggestionsOffsetBottom = suggestionsOffsetTop + suggestionsHeight;\nif (itemOffsetTop < suggestionsOffsetTop) {\n$suggestions.scrollTop = $suggestions.scrollTop + (itemOffsetTop - suggestionsOffsetTop);\n} else if (itemOffsetBottom > suggestionsOffsetBottom) {\n$suggestions.scrollTop = $suggestions.scrollTop + (itemOffsetBottom - suggestionsOffsetBottom);\n}\n}\n}\n}\n}", "CodeBleu_score": 38.62579770996775}, {"code": "highlight(index){\n\t(this.suggestionVisible &&!this.loading) {\nlet suggestions = this.suggestions;\nlet length = suggestions.length;\nif (index < 0) {\nindex = 0;\n} else if (index >= length) {\nindex = length - 1;\n}\nthis.highlightedIndex = index;\nthis.scrollTo(index);\nthis.$refs.suggestions.setAriaActiveDescendant(`${this.id}-item-${index}`);\n}\n}", "CodeBleu_score": 21.23681914947559}]}
{"instance_id": "2db32f7ad18f", "generation_result": [{"code": "translateItem(index, activeIndex, oldIndex){\n\tonst parentWidth = this.$parent.$el.offsetWidth;\nconst parentHeight = this.$parent.$el.offsetHeight;\nconst isVertical = this.$parent.direction ==='vertical';\nconst isCard = this.$parent.type === 'card';\nconst isLoop = this.$parent.loop;\nconst isCardLoop = isCard && isLoop;\nconst length = this.$parent.items.length;\nconst indexInLoop = this.processIndex(index, activeIndex, length);\nconst oldIndexInLoop = this.processIndex(oldIndex, activeIndex, length);\n\nif (isCard) {\n  if (isVertical) {\n    console.warn('Vertical direction is not supported for card type carousel.');\n  }\n  this.translate = this.calcCardTranslate(indexInLoop, activeIndex);\n  this.scale = CARD_SCALE;\n} else {\n  this.translate = this.calcTranslate(indexInLoop, activeIndex, isVertical);\n  this.scale = 1;\n  this.animating = false;\n  if (indexInLoop === -1 || indexInLoop === length) {\n    this.animating = true;\n  } else if (isLoop && (indexInLoop === 0 || indexInLoop === length - 1)) {\n    this.animating = true;\n  }\n  if (oldIndexInLoop === -1 || oldIndexInLoop === length) {\n    this.animating = true;\n  } else if (isLoop && (oldIndexInLoop === 0 || oldIndexInLoop === length - 1)) {\n    this.animating = true;\n  }\n}\n\nthis.active = indexInLoop === activeIndex;\nthis.ready = true;\n}", "CodeBleu_score": 46.690562398416056}, {"code": "translateItem(index, activeIndex, oldIndex){\n\tonst parentWidth = this.$parent.$el.offsetWidth;\nconst parentHeight = this.$parent.$el.offsetHeight;\nconst isVertical = this.$parent.vertical;\nconst length = this.$parent.items.length;\nconst direction = this.$parent.direction;\nconst isCard = this.$parent.type === 'card';\nconst isLoop = this.$parent.loop;\nconst isReversed = this.$parent.reverseAnimation;\nlet newIndex = index;\nif (isCard) {\nif (isVertical) {\nconsole.warn('Vertical direction is not supported for card type carousel.');\nreturn;\n}\nnewIndex = this.processIndex(index, activeIndex, length);\n} else {\nif (isLoop) {\nif (isReversed) {\nif (oldIndex === 0 && index === length - 1) {\nnewIndex = -1;\n} else if (oldIndex === length - 1 && index === 0) {\nnewIndex = length;\n}\n} else {\nif (oldIndex === 0 && index === length - 1) {\nnewIndex = length;\n} else if (oldIndex === length - 1 && index === 0) {\nnewIndex = -1;\n}\n}\n}\n}\nif (newIndex === activeIndex) {\nthis.active = true;\n} else {\nthis.active = false;\n}\nif (isCard) {\nthis.translate = this.calcCardTranslate(index, activeIndex);\nthis.scale = CARD_SCALE;\n} else {\nthis.translate = this.calcTranslate(index, activeIndex, isVertical);\nthis.scale = 1;\n}\nthis.ready = true;\n}", "CodeBleu_score": 51.67235002928777}, {"code": "translateItem(index, activeIndex, oldIndex){\n\tf (this.$parent.type === 'card') {\nif (this.$parent.direction ==='vertical') {\nconsole.warn('[Element Error] Card carousel does not support vertical direction.');\n}\nconst parentWidth = this.$parent.$el.offsetWidth;\nthis.translate = this.calcCardTranslate(index, activeIndex);\nthis.scale = CARD_SCALE;\n} else {\nconst length = this.$parent.items.length;\nconst newIndex = this.processIndex(index, activeIndex, length);\nif (newIndex === -1) {\nthis.translate = this.calcTranslate(length - 1, activeIndex, this.$parent.direction ==='vertical');\nthis.scale = 1;\n} else if (newIndex === length) {\nthis.translate = this.calcTranslate(0, activeIndex, this.$parent.direction ==='vertical');\nthis.scale = 1;\n} else if (newIndex === -2) {\nthis.translate = this.calcTranslate(length - 2, activeIndex, this.$parent.direction ==='vertical');\nthis.scale = 1;\n} else {\nthis.translate = this.calcTranslate(newIndex, activeIndex, this.$parent.direction ==='vertical');\nthis.scale = 1;\n}\nif (this.$parent.loop) {\nif (newIndex === -1) {\nthis.active = true;\n} else if (newIndex === length) {\nthis.active = true;\n} else if (newIndex === -2) {\nthis.active = true;\n} else {\nthis.active = false;\n}\n} else {\nif (newIndex === -1) {\nthis.active = false;\n} else if (newIndex === length) {\nthis.active = false;\n} else if (newIndex === -2) {\nthis.active = false;\n} else {\nthis.active = index === activeIndex;\n}\n}\n}\nif (index === activeIndex && oldIndex!== activeIndex) {\nthis.animating = true;\n} else if (index!== activeIndex && oldIndex === activeIndex) {\nthis.animating = false;\n}\nthis.ready = true;\n}", "CodeBleu_score": 46.33924230668091}]}
{"instance_id": "49b9aa91f62e", "generation_result": [{"code": "handleButtonEnter(arrow){\n\t.direction ==='vertical') return;\n\nconst items = this.items;\n\nfor (let i = 0; i < items.length; i++) {\n\nconst item = items[i];\n\nconst stage = this.itemInStage(item, i);\n\nif (stage === arrow) {\n\nitem.hover = true;\n\n}\n\n}\n\n}", "CodeBleu_score": 38.823951716190365}, {"code": "handleButtonEnter(arrow){\n\t.direction ==='vertical') return;\nconst items = this.items;\nconst length = items.length;\nfor (let i = 0; i < length; i++) {\nconst item = items[i];\nconst inStage = this.itemInStage(item, i);\nif (inStage === arrow) {\nitem.hover = true;\n}\n}\n}", "CodeBleu_score": 37.532202680304295}, {"code": "handleButtonEnter(arrow){\n\t.direction ==='vertical') return;\nconst item = this.items[this.activeIndex];\nconst itemInStage = this.itemInStage(item, this.activeIndex);\nif (itemInStage === arrow) {\nitem.hover = true;\n}\n}", "CodeBleu_score": 38.7007350572681}]}
{"instance_id": "85cdf6991b1f", "generation_result": [{"code": "scrollIntoView(){\n\tif (typeof window === 'undefined') {\nreturn;\n}\n\nthis.menus.forEach(menu => {\nconst scrollableContainer = menu.$refs.scrollable;\nconst activeNode = scrollableContainer.querySelector('.el-cascader-node[aria-selected=\\\"true\\\"][tabindex=\\\"-1\\\"]');\nconst inActiveNode = scrollableContainer.querySelector('.el-cascader-node[aria-selected=\\\"false\\\"][tabindex=\\\"-1\\\"]');\n\nif (activeNode) {\nscrollableContainer.scrollIntoView(activeNode, {\nbehavior:'smooth',\nblock: 'center'\n});\n} else if (inActiveNode) {\nscrollableContainer.scrollIntoView(inActiveNode, {\nbehavior:'smooth',\nblock: 'center'\n});\n}\n});\n}", "CodeBleu_score": 26.83522058339979}, {"code": "scrollIntoView(){\n\tif (typeof window === 'undefined') {\nreturn;\n}\n\nthis.menus.forEach(menu => {\nconst container = menu.$el;\nconst activeNode = container.querySelector('.el-cascader-node[aria-expanded=\"true\"]');\nconst inActiveNode = container.querySelector('.el-cascader-node[aria-selected=\"true\"]');\n\nif (activeNode) {\nscrollIntoView(activeNode, container, {\nonlyScrollIfNeeded: true\n});\n}\n\nif (inActiveNode) {\nscrollIntoView(inActiveNode, container, {\nonlyScrollIfNeeded: true\n});\n}\n});\n}", "CodeBleu_score": 38.63963738828867}, {"code": "scrollIntoView(){\n\tif (isServer) {\nreturn;\n}\n\nconst {\nactivePath,\nmenus,\nconfig: {\nmenuTrigger,\n}\n} = this;\n\nif (activePath.length) {\nconst activeNode = activePath[activePath.length - 1];\nconst menu = this.$refs.menu[activePath.length - 1];\nconst menuNode = menu.$el.querySelector(`.el-cascader-node[data-node-id=\"${activeNode.id}\"]`);\n\nif (menuNode) {\nconst scrollableContainer = menuNode.querySelector('.el-cascader-menu__wrap');\nif (menuNode.scrollIntoView) {\nmenuNode.scrollIntoView(menuNode.offsetTop > scrollableContainer.scrollTop + scrollableContainer.clientHeight - menuNode.clientHeight);\n} else {\nscrollableContainer.scrollTop = menuNode.offsetTop;\n}\n}\n} else if (menuTrigger === 'click' && menus.length) {\nconst firstNode = menus[0].find(node =>!node.isDisabled &&!node.isLeaf);\nif (firstNode) {\nfirstNode.handleClick();\n}\n}\n}", "CodeBleu_score": 31.486615384984834}]}
{"instance_id": "fc6784c79aa5", "generation_result": [{"code": "const rgb2hsv = function(r, g, b){\n\tnd01(r, 255);\n\tg = bound01(g, 255);\n\tb = bound01(b, 255);\n\tlet max = Math.max(r, g, b), min = Math.min(r, g, b),\n    d = max - min, h, s, v;\n\n  // Normalize the value range to 0-1\n  v = max / 255;\n\n  // If max and min are equal, then the hue is undefined\n  if (d === 0) {\n    h = 0;\n    s = 0;\n  } else {\n    s = d / (1 - Math.abs(2 * v - 1));\n\n    // Determine the hue based on which value is the maximum\n    switch (max) {\n      case r: h = (g - b) / d + (g < b? 6 : 0);\n        break;\n      case g: h = (b - r) / d + 2;\n        break;\n      case b: h = (r - g) / d + 4;\n        break;\n    }\n\n    // Convert hue to degrees\n    h /= 6;\n  }\n\n  // Return the HSV values\n  return {\n    h: h * 360,\n    s: s * 100,\n    v: v * 100\n  };\n}", "CodeBleu_score": 67.41428865765243}, {"code": "const rgb2hsv = function(r, g, b){\n\tnd01(r, 255);\n\tg = bound01(g, 255);\n\tb = bound01(b, 255);\n\n\tlet max = Math.max(r, g, b), min = Math.min(r, g, b);\n\tlet h, s, v = max;\n\n\tconst d = max - min;\n\ts = max === 0? 0 : d / max;\n\n\tif (max === min) {\n\t\th = 0; // achromatic\n\t} else {\n\t\tswitch (max) {\n\t\t\tcase r: h = (g - b) / d + (g < b? 6 : 0); break;\n\t\t\tcase g: h = (b - r) / d + 2; break;\n\t\t\tcase b: h = (r - g) / d + 4; break;\n\t\t}\n\n\t\th /= 6;\n\t}\n\n\treturn { h: h * 360, s: s * 100, v: v * 100 };\n}", "CodeBleu_score": 69.40580424235802}, {"code": "const rgb2hsv = function(r, g, b){\n\tnd01(r, 255);\n\tg = bound01(g, 255);\n\tb = bound01(b, 255);\n\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tlet h;\n\tconst d = max - min;\n\n\tconst s = max === 0? 0 : d / max;\n\n\tif (max === min) {\n\t\th = 0; // achromatic\n\t} else {\n\t\tswitch (max) {\n\t\t\tcase r: h = (g - b) / d + (g < b? 6 : 0); break;\n\t\t\tcase g: h = (b - r) / d + 2; break;\n\t\t\tcase b: h = (r - g) / d + 4; break;\n\t\t}\n\n\t\th /= 6;\n\t}\n\n\treturn { h, s, v: max };\n}", "CodeBleu_score": 66.0401472711723}]}
{"instance_id": "37b868b6a5cc", "generation_result": [{"code": "handleDrag(event){\n\tonst thumb = this.$refs.thumb;\nconst bar = this.$refs.bar;\nconst thumbRect = thumb.getBoundingClientRect();\nconst barRect = bar.getBoundingClientRect();\nconst clientX = event.clientX;\nconst clientY = event.clientY;\nconst x = clientX - barRect.left;\nconst y = clientY - barRect.top;\nconst thumbWidth = thumbRect.width;\nconst thumbHeight = thumbRect.height;\nconst barWidth = barRect.width;\nconst barHeight = barRect.height;\nlet alpha = 0;\n\nif (this.vertical) {\nalpha = (barHeight - y) / barHeight;\n} else {\nalpha = x / barWidth;\n}\n\nthis.color._alpha = alpha;\n}", "CodeBleu_score": 29.82798208721985}, {"code": "handleDrag(event){\n\tonst thumb = this.$refs.thumb;\nconst bar = this.$refs.bar;\nconst rect = bar.getBoundingClientRect();\nconst thumbRect = thumb.getBoundingClientRect();\nconst thumbWidth = thumbRect.width || thumbRect.right - thumbRect.left;\nconst thumbHeight = thumbRect.height || thumbRect.bottom - thumbRect.top;\nconst thumbLeft = thumbRect.left - rect.left;\nconst thumbTop = thumbRect.top - rect.top;\nconst x = event.clientX - rect.left;\nconst y = event.clientY - rect.top;\nlet alpha = 0;\n\nif (this.vertical) {\n          alpha = (thumbHeight - y) / thumbHeight;\n        } else {\n          alpha = x / thumbWidth;\n        }\n\n        this.$emit('change', this.color.alpha(alpha));\n      }", "CodeBleu_score": 36.27500532387992}, {"code": "handleDrag(event){\n\tonst thumb = this.$refs.thumb;\nconst bar = this.$refs.bar;\nconst rect = bar.getBoundingClientRect();\nconst thumbRect = thumb.getBoundingClientRect();\nconst thumbHeight = thumbRect.height;\nconst thumbWidth = thumbRect.width;\nconst thumbTop = thumbRect.top;\nconst thumbLeft = thumbRect.left;\nconst vertical = this.vertical;\nconst isVertical = vertical === true;\nconst isHorizontal = vertical === false;\nconst isLeft = event.pageX < thumbLeft;\nconst isRight = event.pageX > thumbLeft + thumbWidth;\nconst isTop = event.pageY < thumbTop;\nconst isBottom = event.pageY > thumbTop + thumbHeight;\nlet position = isVertical? event.pageY - rect.top : event.pageX - rect.left;\nposition = isHorizontal? position : isLeft? 0 : isRight? 100 : position;\nposition = isVertical? isTop? 0 : isBottom? 100 : position : position;\nthis.color._alpha = position / 100;\n}", "CodeBleu_score": 27.960295472674368}]}
{"instance_id": "a3b2c61b5a1e", "generation_result": [{"code": "displayValue(){\n\tconst { value, format, type, rangeSeparator } = this;\nif (Array.isArray(value)) {\nreturn value.map(val => formatAsFormatAndType(val, format, type)).join(rangeSeparator);\n}\nreturn formatAsFormatAndType(value, format, type) || '';\n}", "CodeBleu_score": 9.423483315512355}, {"code": "displayValue(){\n\tconst value = this.parsedValue;\nif (Array.isArray(value)) {\nreturn value.map(date => {\nif (date instanceof Date) {\nreturn this.formatDate(date);\n}\nreturn date;\n}).join(this.rangeSeparator);\n}\nif (value instanceof Date) {\nreturn this.formatDate(value);\n}\nreturn value;\n}", "CodeBleu_score": 18.668370256526828}, {"code": "displayValue(){\n\tconst val = this.parsedValue;\nif (Array.isArray(val)) {\nreturn val.map(value => this.formatDisplayValue(value));\n}\nreturn this.formatDisplayValue(val);\n}", "CodeBleu_score": 10.802339427420844}]}
{"instance_id": "305dba2399e1", "generation_result": [{"code": "handleStartChange(event){\n\tif (this.userInput) {\nthis.userInput = [event.target.value, this.userInput[1]];\n} else {\nthis.userInput = [event.target.value, null];\n}\nconst value = this.parseString(this.displayValue);\nif (value) {\nthis.picker.value = value;\nif (this.isValidValue(value)) {\nthis.emitInput(value);\nthis.userInput = null;\n}\n}\nif (this.userInput === '') {\nthis.emitInput(null);\nthis.emitChange(null);\nthis.userInput = null;\n}\n}", "CodeBleu_score": 43.503662974801394}, {"code": "handleStartChange(event){\n\tif (this.userInput) {\nthis.userInput = [event.target.value, this.userInput[1]];\n} else {\nthis.userInput = [event.target.value, null];\n}\n\nconst value = this.parseString(this.displayValue);\nif (value) {\nthis.picker.value = value;\nif (this.isValidValue(value)) {\nthis.emitInput(value);\nthis.userInput = null;\n}\n}\nif (this.userInput === '') {\nthis.emitInput(null);\nthis.emitChange(null);\nthis.userInput = null;\n}\n}", "CodeBleu_score": 43.503662974801394}, {"code": "handleStartChange(event){\n\tif (this.userInput) {\nthis.userInput = [event.target.value, this.userInput[1]];\n} else {\nthis.userInput = [event.target.value, null];\n}\n}", "CodeBleu_score": 14.27910292740229}]}
{"instance_id": "0f76d5fb83b3", "generation_result": [{"code": "bindScrollEvent(){\n\tconst bindFunction = (type) => {\n  const wrap = this.$refs[type][0].$el.querySelector('.el-time-spinner__wrapper');\n  wrap.addEventListener('scroll', (e) => {\n    this.handleScroll(type, e);\n  });\n};\n\nthis.$nextTick(() => {\n  bindFunction('hours');\n  bindFunction('minutes');\n  bindFunction('seconds');\n});\n}", "CodeBleu_score": 63.21157785768479}, {"code": "bindScrollEvent(){\n\t", "CodeBleu_score": 1.473509071748353}, {"code": "bindScrollEvent(){\n\tthis.$nextTick(() => {\nconst bindFunction = (type, element) => {\n      element.wrap.onscroll = e => {\n        this.handleScroll(type, e);\n      };\n    };\nbindFunction('hours', this.$refs.hours);\n    bindFunction('minutes', this.$refs.minutes);\n    bindFunction('seconds', this.$refs.seconds);\n  });\n}", "CodeBleu_score": 46.362906681314506}]}
{"instance_id": "fe8ad366d911", "generation_result": [{"code": "scrollDown(step){\n\tif (this.currentScrollbar === null) {\nthis.emitSelectRange('hours');\n} else {\nconst currentValue = this[this.currentScrollbar];\nlet newValue = currentValue + step;\nif (this.currentScrollbar === 'hours') {\nnewValue = this.hoursList.indexOf(newValue);\nif (newValue < 0) {\nnewValue = 0;\n}\n} else if (this.currentScrollbar ==='minutes') {\nnewValue = this.minutesList.indexOf(newValue);\nif (newValue < 0) {\nnewValue = 0;\n}\n} else if (this.currentScrollbar ==='seconds') {\nnewValue = this.arrowSecondList.indexOf(newValue);\nif (newValue < 0) {\nnewValue = 0;\n}\n}\nthis.modifyDateField(this.currentScrollbar, newValue);\n}\nthis.adjustCurrentSpinner(this.currentScrollbar);\n}", "CodeBleu_score": 24.02248359604099}, {"code": "scrollDown(step){\n\tconst { hours, minutes, seconds } = this;\nconst hoursList = this.hoursList;\nconst minutesList = this.minutesList;\nconst secondsList = this.secondsList;\nconst hoursLength = hoursList.length;\nconst minutesLength = minutesList.length;\nconst secondsLength = secondsList.length;\nconst currentScrollbar = this.currentScrollbar || 'hours';\nlet value = this[currentScrollbar];\nlet list = hoursList;\n\nswitch (currentScrollbar) {\ncase 'hours':\nvalue = hours;\nlist = hoursList;\nbreak;\ncase'minutes':\nvalue = minutes;\nlist = minutesList;\nbreak;\ncase'seconds':\nvalue = seconds;\nlist = secondsList;\nbreak;\n}\n\nvalue += step;\n\nif (currentScrollbar === 'hours') {\nvalue = value < 0? hoursLength - 1 : value >= hoursLength? 0 : value;\n} else if (currentScrollbar ==='minutes') {\nvalue = value < 0? minutesLength - 1 : value >= minutesLength? 0 : value;\n} else if (currentScrollbar ==='seconds') {\nvalue = value < 0? secondsLength - 1 : value >= secondsLength? 0 : value;\n}\n\nthis.modifyDateField(currentScrollbar, list[value]);\nthis.adjustSpinner(currentScrollbar, list[value]);\n\nif (currentScrollbar === 'hours') {\nthis.$emit('select-range', 0, 2);\n} else if (currentScrollbar ==='minutes') {\nthis.$emit('select-range', 3, 5);\n} else if (currentScrollbar ==='seconds') {\nthis.$emit('select-range', 6, 8);\n}\n}", "CodeBleu_score": 26.213189163760138}, {"code": "scrollDown(step){\n\tif (this.currentScrollbar) {\nconst value = this.currentScrollbar === 'hours'? this.hours : this.currentScrollbar ==='minutes'? this.minutes : this.seconds;\nconst newValue = value + step;\nif (this.currentScrollbar === 'hours') {\nconst hours = this.hoursList;\n        for (let i = 0; i < hours.length; i++) {\n          if (hours[i] === newValue) {\n            this.modifyDateField(this.currentScrollbar, newValue);\n            this.adjustSpinner(this.currentScrollbar, newValue);\n            this.emitSelectRange(this.currentScrollbar);\n            break;\n          }\n        }\n      } else {\n        this.modifyDateField(this.currentScrollbar, newValue);\n        this.adjustSpinner(this.currentScrollbar, newValue);\n        this.emitSelectRange(this.currentScrollbar);\n      }\n    } else {\n      this.emitSelectRange('hours');\n    }\n  }", "CodeBleu_score": 34.528236863043425}]}
{"instance_id": "9b22163fdfde", "generation_result": [{"code": "imgStyle(){\n\tt { scale, deg, offsetX, offsetY, enableTransition } = this.transform;\nconst style = {\n  transform: `scale(${scale}) rotate(${deg}deg)`,\n  transition: enableTransition? 'transform 0.2s ease-in-out' : 'none'\n};\nif (this.mode.name === 'contain') {\n  style.maxWidth = '100%';\n  style.maxHeight = '100%';\n}\nstyle.left = `${offsetX}px`;\nstyle.top = `${offsetY}px`;\nreturn style;\n}", "CodeBleu_score": 51.660641696404156}, {"code": "imgStyle(){\n\tt { scale, deg, offsetX, offsetY, enableTransition } = this.transform;\nconst style = {};\n\nif (scale!== 1) {\nstyle.transform = `scale(${scale}) rotate(${deg}deg)`;\n}\n\nif (enableTransition) {\nstyle.transition = 'transform 0.3s cubic-bezier(0.23, 1, 0.32, 1)';\n}\n\nstyle.left = offsetX + 'px';\nstyle.top = offsetY + 'px';\n\nif (this.mode.name === 'contain') {\nstyle.maxWidth = '100%';\nstyle.maxHeight = '100%';\n}\n\nreturn style;\n}", "CodeBleu_score": 39.14146179514493}, {"code": "imgStyle(){\n\tt { scale, deg, offsetX, offsetY, enableTransition } = this.transform;\nconst style = {\ntransform: `rotate(${deg}deg) scale(${scale})`,\ntransition: enableTransition? 'transform 0.3s' : 'none'\n};\nif (this.mode.name === 'contain') {\nstyle.maxWidth = '100%';\nstyle.maxHeight = '100%';\n}\nstyle.left = `${offsetX}px`;\nstyle.top = `${offsetY}px`;\nreturn style;\n}", "CodeBleu_score": 49.26973874021472}]}
{"instance_id": "3bf2230ab870", "generation_result": [{"code": "addLazyLoadListener(){\n\t.$isServer) return;\nconst scrollContainer = getScrollContainer(this._scrollContainer);\nif (scrollContainer) {\nthis._scrollContainer = scrollContainer;\nthis._lazyLoadHandler = throttle(100, this.handleLazyLoad.bind(this));\non(scrollContainer,'scroll', this._lazyLoadHandler);\nthis._lazyLoadHandler();\n}\n}", "CodeBleu_score": 25.04759960696019}, {"code": "addLazyLoadListener(){\n\t.$isServer) return;\nconst scrollContainer = this.scrollContainer;\nif (isString(scrollContainer)) {\nthis._scrollContainer = document.querySelector(scrollContainer);\n} else if (isHtmlElement(scrollContainer)) {\nthis._scrollContainer = scrollContainer;\n} else {\nthis._scrollContainer = getScrollContainer(this.$el);\n}\nif (!this._scrollContainer) return;\nthis.lazyLoadHandler = throttle(200, this.handleLazyLoad.bind(this));\non(this._scrollContainer,'scroll', this.lazyLoadHandler);\nthis.lazyLoadHandler();\n}", "CodeBleu_score": 40.75563213953578}, {"code": "addLazyLoadListener(){\n\t.$isServer) return;\nconst scrollContainer = getScrollContainer(this.$el, this.scrollContainer);\nthis._scrollContainer = scrollContainer;\nthis._lazyLoadHandler = throttle(200, this.handleLazyLoad.bind(this));\non(scrollContainer,'scroll', this._lazyLoadHandler);\nthis._lazyLoadHandler();\n}", "CodeBleu_score": 24.485157113975365}]}
{"instance_id": "7180fba29076", "generation_result": [{"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\tf (result.error instanceof TRPCClientError) {\nconst error = new TRPCClientError(result.error.message, {\ndata: result.error.data,\nshape: result.error.shape,\n});\nreturn {\n...result,\nerror,\n};\n}\nreturn result;\n}", "CodeBleu_score": 36.55565343744166}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\t}", "CodeBleu_score": 9.42944943097432}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\t}", "CodeBleu_score": 9.42944943097432}]}
{"instance_id": "b0ff12e8aa0d", "generation_result": [{"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\tst props = await (AppOrPage as any).getInitialProps(appOrPageCtx);\nconst trpc = createRootHooks<TRouter, NextPageContext>(opts);\nconst { trpcClient } = trpc.createClient(getClientConfig(props));\nconst trpcState = await trpcClient.init();\nconst pageProps = {\n ...props,\n  trpcState,\n};\nreturn pageProps;\n}", "CodeBleu_score": 27.404724913362223}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\tst { Component, ctx } = appOrPageCtx;\n\nconst appOrPageProps = await (Component.getInitialProps as any)(ctx);\nconst { pageProps } = appOrPageProps;\n\nconst trpc = createRootHooks<AnyRouter, NextPageContext>(opts);\nconst { queryClient } = trpc.createClient(getClientConfig({}));\n\nconst props = await (Component.getInitialProps as any)(ctx);\n\nconst trpcState = props.pageProps?.trpcState;\n\nconst hydratedState: DehydratedState | undefined = React.useMemo(() => {\nif (!trpcState) {\nreturn trpcState;\n}\n\nreturn transformer.input.deserialize(trpcState);\n// eslint-disable-next-line react-hooks/exhaustive-deps\n}, [trpcState, trpcClient]);\n\nreturn {\n...props,\ntrpcState: hydratedState,\n};\n}", "CodeBleu_score": 29.688397707178503}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\tst { pageProps } = await appOrPageCtx.ctx.app.render(appOrPageCtx.ctx, appOrPageCtx.Component, appOrPageCtx.pageProps);\nreturn { pageProps };\n}", "CodeBleu_score": 6.606226715085604}]}
{"instance_id": "b46c87572278", "generation_result": [{"code": "export function formDataToObject(formData: FormData){\n\tonst result: Record<string, any> = {};\n\n\tfor (const [key, value] of formData) {\n\t\tconst parts = key.split('[');\n\n\t\tif (parts.length === 1) {\n\t\t\tset(result, parts, value);\n\t\t} else {\n\t\t\tconst lastPart = parts.pop()!;\n\t\t\tconst lastIndex = lastPart.indexOf(']');\n\n\t\t\tif (lastIndex === -1) {\n\t\t\t\tset(result, parts, value);\n\t\t\t} else {\n\t\t\t\tconst lastPartKey = lastPart.slice(0, lastIndex);\n\t\t\t\tconst lastPartValue = lastPart.slice(lastIndex + 1, -1);\n\n\t\t\t\tset(result, [...parts, lastPartKey], lastPartValue === ''? value : parseInt(lastPartValue, 10));\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}", "CodeBleu_score": 45.594140692445876}, {"code": "export function formDataToObject(formData: FormData){\n\tonst obj: Record<string, any> = {};\n\n\tfor (const [key, value] of formData) {\n\t\tconst path = key.split(/[\\\\[\\\\]]+/);\n\n\t\tset(obj, path, value);\n\t}\n\n\treturn obj;\n}", "CodeBleu_score": 51.31607415208895}, {"code": "export function formDataToObject(formData: FormData){\n\tonst obj: Record<string, any> = {};\n\tfor (const [key, value] of formData) {\n\t\tconst parts = key.split('.');\n\t\tset(obj, parts, value);\n\t}\n\treturn obj;\n}", "CodeBleu_score": 50.80760635170461}]}
{"instance_id": "b63467546c58", "generation_result": [{"code": "export async function experimental_revalidateEndpoint(req: Request){\n\teq.method!== 'POST') {\n\t\treturn new Response('Invalid method', { status: 405 });\n\t}\n\n\tconst body = await req.json();\n\n\tif (typeof body.cacheTag!=='string') {\n\t\treturn new Response('Invalid cacheTag', { status: 400 });\n\t}\n\n\trevalidateTag(body.cacheTag);\n\n\treturn new Response('Revalidated', {\n\t\tstatus: 200,\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody: JSON.stringify({\n\t\t\ttimestamp: new Date().toISOString(),\n\t\t}),\n\t});\n}", "CodeBleu_score": 34.59011390197264}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\treq.body) {\n\t\treturn new Response('Missing request body', {\n\t\t\tstatus: 400,\n\t\t});\n\t}\n\tconst { cacheTag } = req.body;\n\tif (typeof cacheTag!=='string') {\n\t\treturn new Response('Invalid cacheTag', {\n\t\t\tstatus: 400,\n\t\t});\n\t}\n\trevalidateTag(cacheTag);\n\treturn new Response('Cache tag revalidated', {\n\t\tstatus: 200,\n\t\theaders: {\n\t\t\t'Cache-Control':'s-maxage=0',\n\t\t\t'Content-Type': 'text/plain',\n\t\t\t'X-Timestamp': new Date().toISOString(),\n\t\t},\n\t});\n}", "CodeBleu_score": 34.20709012233514}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t body = await req.json();\n\tconst cacheTag = body.cacheTag;\n\tif (typeof cacheTag!=='string') {\n\t\treturn new Response(\n\t\t\t`cacheTag must be a string. Received: ${JSON.stringify(cacheTag)}`,\n\t\t\t{ status: 400 },\n\t\t);\n\t}\n\trevalidateTag(cacheTag);\n\treturn new Response(`Revalidated cacheTag: ${cacheTag}`, { status: 200 });\n}", "CodeBleu_score": 42.69742294017745}]}
{"instance_id": "4cc5d9754d1f", "generation_result": [{"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t", "CodeBleu_score": 1.568582059525271}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t", "CodeBleu_score": 1.568582059525271}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t", "CodeBleu_score": 1.568582059525271}]}
{"instance_id": "ec07b15792dd", "generation_result": [{"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t", "CodeBleu_score": 2.071423708333484}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\tconst [open, setOpen] = React.useState(false);\n\nreturn (\n<AccordionPrimitive\nclassName=\\\"w-full\\\"\nopen={open}\nonOpenChange={setOpen}\n>\n<button\ntype=\\\"button\\\"\nclassName=\\\"w-full flex items-center justify-between p-3 transition duration-150 ease-in-out bg-white border border-gray-300 rounded-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75\\\"\n>\n<span className=\\\"flex items-center\\\">\n<span className=\\\"text-sm font-medium text-gray-900\\\">{name}</span>\n<span className=\\\"ml-1\\\">\n<FaChevronDown className=\\\"h-5 w-5 text-gray-400\\\" />\n</span>\n</span>\n<span className=\\\"ml-auto\\\">\n<svg\nclassName=\\\"h-5 w-5\\\"\nxmlns=\\\"http://www.w3.org/2000/svg\\\"\nviewBox=\\\"0 0 20 20\\\"\nfill=\\\"currentColor\\\"\n>\n<path\nfillRule=\\\"evenodd\\\"\nd=\\\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\\\"\nclipRule=\\\"evenodd\\\"\n/>\n</svg>\n</span>\n</button>\n<div className=\\\"mt-3 bg-white border border-gray-300 rounded-lg\\\">\n<div className=\\\"p-3\\\">{child}</div>\n</div>\n</AccordionPrimitive>\n);\n}", "CodeBleu_score": 34.65187274725462}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\tconst [open, setOpen] = React.useState(false);\n\nreturn (\n<AccordionPrimitive className=\\\"bg-white rounded-md shadow-sm\\\" open={open}>\n{({ active, onToggle }) => (\n<>\n<div className=\\\"flex items-center justify-between px-5 py-4\\\">\n<div className=\\\"flex items-center\\\">\n<button\ntype=\\\"button\\\"\nclassName=\\\"text-sm font-medium text-gray-900 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\\\"\nonClick={onToggle}\n>\n{name}\n<span className=\\\"ml-1\\\">&#8203;</span>\n<span className=\\\"sr-only\\\">Open content</span>\n<FaChevronDown className=\\\"h-5 w-5 text-gray-400\\\" />\n</button>\n</div>\n<div className=\\\"ml-3 flex-shrink-0\\\">\n<button\ntype=\\\"button\\\"\nclassName=\\\"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\\\"\nonClick={onToggle}\n>\n<span className=\\\"sr-only\\\">Close panel</span>\n<FaChevronDown className=\\\"h-5 w-5\\\" />\n</button>\n</div>\n</div>\n<div\nclassName=\\\"px-5 py-4\\\"\nstyle={{\ndisplay: active? \\\"block\\\" : \\\"none\\\",\n}}\n>\n{child}\n</div>\n</>\n)}\n</AccordionPrimitive>\n);\n}", "CodeBleu_score": 25.521877009898468}]}
{"instance_id": "728fa96ca3cf", "generation_result": [{"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\treturn (\n\t\t<MenuPrimitive.Provider>\n\t\t\t<MenuPrimitive.Button\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t\\\"menu-button\\\",\n\t\t\t\t\tbuttonPosition === \\\"bottom\\\" && \\\"menu-button--bottom\\\"\n\t\t\t\t)}\n\t\t\t\taria-label={name}\n\t\t\t\tas={buttonPosition === \\\"bottom\\\"? \\\"button\\\" : \\\"div\\\"}\n\t\t\t>\n\t\t\t\t{icon && <span className=\\\"menu-button__icon\\\">{icon}</span>}\n\t\t\t\t{name && <span className=\\\"menu-button__name\\\">{name}</span>}\n\t\t\t\t{chevron && <FaChevronDown className=\\\"menu-button__chevron\\\" />}\n\t\t\t</MenuPrimitive.Button>\n\t\t\t<MenuPrimitive.Menu>\n\t\t\t\t<Transition\n\t\t\t\t\tenter=\\\"transition ease-out duration-100\\\"\n\t\t\t\t\tenterFrom=\\\"transform opacity-0 scale-95\\\"\n\t\t\t\t\tenterTo=\\\"transform opacity-100 scale-100\\\"\n\t\t\t\t\tleave=\\\"transition ease-in duration-75\\\"\n\t\t\t\t\tleaveFrom=\\\"transform opacity-100 scale-100\\\"\n\t\t\t\t\tleaveTo=\\\"transform opacity-0 scale-95\\\"\n\t\t\t\t>\n\t\t\t\t\t{(ref) => (\n\t\t\t\t\t\t<MenuPrimitive.Items ref={ref} as={Fragment}>\n\t\t\t\t\t\t\t{items}\n\t\t\t\t\t\t</MenuPrimitive.Items>\n\t\t\t\t\t)}\n\t\t\t\t</Transition>\n\t\t\t</MenuPrimitive.Menu>\n\t\t</MenuPrimitive.Provider>\n\t);\n}", "CodeBleu_score": 41.83565806624554}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t", "CodeBleu_score": 4.074838142991542}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t", "CodeBleu_score": 4.074838142991542}]}
{"instance_id": "a2733fb19224", "generation_result": [{"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\tconst element = event.currentTarget;\nconst { scrollTop, scrollHeight, clientHeight } = element;\nconst threshold = 10;\nconst hasScrolledUp = scrollTop + clientHeight + threshold >= scrollHeight;\nsetHasUserScrolled(hasScrolledUp);\n}", "CodeBleu_score": 52.57518236486889}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\tconst { scrollTop, scrollHeight, clientHeight } = event.currentTarget;\nconst threshold = 10;\nif (scrollTop + clientHeight + threshold >= scrollHeight) {\nsetHasUserScrolled(true);\n}\n}", "CodeBleu_score": 54.93361874957341}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\nconst { scrollTop, scrollHeight, clientHeight } = event.currentTarget;\n\nconst hasScrolledUp = scrollTop > scrollHeight - clientHeight - 10;\n\nsetHasUserScrolled(hasScrolledUp);\n\n}", "CodeBleu_score": 73.46494954862797}]}
{"instance_id": "128baf9be3e8", "generation_result": [{"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\tf (scrollRef.current && scrollRef.current.scrollHeight > 0) {\nscrollRef.current.scroll({\ntop: scrollRef.current.scrollHeight,\nbehavior: behaviour,\n});\n}\n}", "CodeBleu_score": 59.75239734197943}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\tf (scrollRef.current && scrollRef.current.scrollHeight > 0) {\nscrollRef.current.scrollTo({\ntop: scrollRef.current.scrollHeight,\nbehavior: behaviour,\n});\n}\n}", "CodeBleu_score": 61.61647353202593}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\tf (scrollRef.current && scrollRef.current.scrollHeight > scrollRef.current.clientHeight) {\nscrollRef.current.scrollTo(0, scrollRef.current.scrollHeight);\n}\n}", "CodeBleu_score": 42.507376293285084}]}
{"instance_id": "070c4b1ac0b5", "generation_result": [{"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (element) {\n\t\thtmlToImage\n\t\t\t.toJpeg(element, { quality: 0.95 })\n\t\t\t.then((dataUrl) => {\n\t\t\t\tconst link = document.createElement('a');\n\t\t\t\tlink.download = 'agent-gpt-output.png';\n\t\t\t\tlink.href = dataUrl;\n\t\t\t\tlink.click();\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\talert('Saving image failed. Please try again.');\n\t\t\t});\n\t} else {\n\t\talert('Element not found. Please try again.');\n\t}\n}", "CodeBleu_score": 45.579653403208475}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\tconst element = document.getElementById(elementId);\nif (element) {\nhtmlToImage.toJpeg(element, { quality: 0.95 })\n.then((dataUrl) => {\nconst link = document.createElement('a');\nlink.download = 'agent-gpt-output.png';\nlink.href = dataUrl;\nlink.click();\n})\n.catch((error) => {\nalert('Saving image failed. Please try again.');\n});\n} else {\nalert('Element not found. Please try again.');\n}\n}", "CodeBleu_score": 44.70728724300231}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\tconst element = document.getElementById(elementId);\nif (element) {\nhtmlToImage.toJpeg(element, { quality: 0.95 })\n.then((dataUrl) => {\nconst link = document.createElement('a');\nlink.download = 'agent-gpt-output.png';\nlink.href = dataUrl;\nlink.click();\n})\n.catch((error) => {\nalert('Saving image failed.');\n});\n} else {\nalert('Element not found.');\n}\n}", "CodeBleu_score": 43.66807281943002}]}
{"instance_id": "346ea48343da", "generation_result": [{"code": "const copyElementText = (elementId: string) =>{\n\tst element = document.getElementById(elementId);\nif (!element) {\nreturn;\n}\n\nconst text = element.innerText;\nif (navigator.clipboard) {\nnavigator.clipboard.writeText(text).then(() => {\nalert(t(\\\"copied-to-clipboard\\\"));\n});\n} else {\nconst textarea = document.createElement(\\\"textarea\\\");\ntextarea.value = text;\ndocument.body.appendChild(textarea);\ntextarea.select();\ndocument.execCommand(\\\"copy\\\");\ndocument.body.removeChild(textarea);\nalert(t(\\\"copied-to-clipboard\\\"));\n}\n}", "CodeBleu_score": 54.22571066067656}, {"code": "const copyElementText = (elementId: string) =>{\n\tst element = document.getElementById(elementId);\nif (!element) {\nreturn;\n}\n\nconst text = element.innerText;\n\nif (navigator.clipboard) {\nnavigator.clipboard.writeText(text).then(() => {\nconsole.log(\\\"Copied text to clipboard!\\\");\n});\n} else {\nconst textarea = document.createElement(\\\"textarea\\\");\ntextarea.value = text;\ndocument.body.appendChild(textarea);\ntextarea.select();\ndocument.execCommand(\\\"copy\\\");\ndocument.body.removeChild(textarea);\n}\n}", "CodeBleu_score": 53.666650597401954}, {"code": "const copyElementText = (elementId: string) =>{\n\tst element = document.getElementById(elementId);\nif (!element) {\nreturn;\n}\nconst text = element.innerText;\nif (navigator.clipboard) {\nnavigator.clipboard.writeText(text).then(() => {\nconsole.log(\\\"Copied text to clipboard!\\\");\n}).catch((err) => {\nconsole.error(\\\"Failed to copy text to clipboard\\\", err);\n});\n} else {\nconst textarea = document.createElement(\\\"textarea\\\");\ntextarea.value = text;\ntextarea.style.position = \\\"fixed\\\";\ntextarea.style.left = \\\"-1000px\\\";\ntextarea.style.top = \\\"-1000px\\\";\ndocument.body.appendChild(textarea);\ntextarea.focus();\ntextarea.select();\ndocument.execCommand(\\\"copy\\\");\ndocument.body.removeChild(textarea);\n}\n}", "CodeBleu_score": 57.39877841405486}]}
{"instance_id": "25f193a0eddf", "generation_result": [{"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tnst code = React.Children.toArray(children).find(isValidCustomCodeBlock);\n\n  const language: string =\n    code && code.props.className\n     ? extractLanguageName(code.props.className.replace(\\\"hljs \\\", \\\"\\\"))\n      : \\\"\\\";\n\n  return (\n    <div className={clsx(\\\"rounded-lg p-4\\\", inline && \\\"inline-block\\\")}>\n      <code className={clsx(\\\"rounded-lg bg-slate-10 p-2 text-white\\\", inline && \\\"inline\\\")}>\n        {children}\n      </code>\n    </div>\n  );\n}", "CodeBleu_score": 17.48800009033335}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tnst language: string =\n  className\n   ? extractLanguageName(className.replace(\\\"hljs \\\", \\\"\\\"))\n    : \\\"\\\";\n\nreturn (\n  <div className={clsx(\\\"rounded-b-[0]\\\", inline? \\\"p-2\\\" : \\\"p-4\\\", className)}>\n    <code className={clsx(\\\"rounded-b-[0]\\\", inline? \\\"p-1\\\" : \\\"p-2\\\", `language-${language}`)}>\n      {children}\n    </code>\n  </div>\n);\n}", "CodeBleu_score": 18.710308338776553}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tnst language = extractLanguageName(className);\nreturn inline? (\n<code className={clsx(className, \\\"inline-block text-sm font-mono\\\")}>\n{children}\n</code>\n) : (\n<pre className={clsx(\\\"rounded-lg bg-slate-10 p-2\\\", className)}>\n<code className={clsx(\\\"rounded-lg bg-slate-10 p-2\\\", className)}>{children}</code>\n</pre>\n);\n}", "CodeBleu_score": 20.46468956618209}]}
{"instance_id": "7ba7dfdc0ab6", "generation_result": [{"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t(typeof node === \\\"string\\\") {\nreturn node;\n} else if (Array.isArray(node)) {\nreturn node.reduce((acc, curr) => acc + extractTextFromNode(curr), \\\"\\\");\n} else if (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n}\nreturn \\\"\\\";\n}", "CodeBleu_score": 52.46509866678192}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t(typeof node === \\\"string\\\") {\nreturn node;\n} else if (Array.isArray(node)) {\nreturn node.map(extractTextFromNode).join(\\\"\\\");\n} else if (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n}\nreturn \\\"\\\";\n}", "CodeBleu_score": 56.03271563425526}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\t(typeof node === \\\"string\\\") {\nreturn node;\n} else if (Array.isArray(node)) {\nreturn node.map(extractTextFromNode).join(\\\"\\\");\n} else if (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n}\nreturn \\\"\\\";\n}", "CodeBleu_score": 56.03271563425526}]}
{"instance_id": "a67cb8d31dde", "generation_result": [{"code": "const Summarize = () =>{\n\t\tconst { agent, setAgent } = useAgentStore();\n\tconst { tasks, setTasks } = useTaskStore();\n\tconst [summary, setSummary] = useState(false);\n\n\tconst handleSummarize = () => {\n\t\tsetSummary(true);\n\t\tagent.summarize();\n\t};\n\n\treturn (\n\t\t<div className={clsx('chat-bot-summary-container', { 'chat-bot-summary-container-active': summary })}>\n\t\t\t<div className='chat-bot-summary-prompt'>\n\t\t\t\t<p>Would you like to summarize the conversation?</p>\n\t\t\t\t<Button onClick={handleSummarize}>Yes</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 25.63721134002417}, {"code": "const Summarize = () =>{\n\tconst agentStore = useAgentStore();\nconst taskStore = useTaskStore();\nconst { agent, lifecycle, summary } = agentStore;\nconst { completedTasks, results } = taskStore;\n\nif (agent && lifecycle === \\\"stopped\\\" && completedTasks.length && results.length &&!summary) {\nreturn (\n<div className={clsx(styles.container)}>\n<div className={styles.prompt}>\n<p>\nDo you want to summarize the conversation?\n</p>\n</div>\n<Button onClick={() => agentStore.summarize()}>\nSummarize\n</Button>\n</div>\n);\n}\nreturn null;\n}", "CodeBleu_score": 23.397779544622914}, {"code": "const Summarize = () =>{\n\tconst agent = useAgentStore();\nconst task = useTaskStore();\nconst { summary } = task;\n\nif (!agent.available || task.lifecycle!== \\\"stopped\\\" || task.results.length === 0 || summary) {\nreturn null;\n}\n\nreturn (\n<div className={clsx(\\\"mb-8\\\", { \\\"bg-gray-100 border-2 border-gray-200 rounded-lg p-4\\\": summary })}>\n<div className=\\\"flex items-center\\\">\n<div className=\\\"flex-shrink-0\\\">\n<svg className=\\\"h-6 w-6 text-gray-400\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\">\n<path strokeLinecap=\\\"round\\\" strokeLinejoin=\\\"round\\\" strokeWidth={2} d=\\\"M12 6v6m0 0v6m0-6h6m-6 0H6\\\" />\n</svg>\n</div>\n<div className=\\\"ml-4\\\">\n<p className=\\\"text-gray-900\\\">Summarize the conversation</p>\n<p className=\\\"text-gray-500\\\">Summarize the conversation with the agent</p>\n</div>\n</div>\n<Button onClick={() => task.summarize()}>Summarize</Button>\n</div>\n);\n}", "CodeBleu_score": 25.575072464438016}]}
{"instance_id": "983031b20224", "generation_result": [{"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\treturn (\n\t\t<ClerkProvider theme={dark} primaryColor=\"#000\">\n\t\t\t<TRPCReactProvider>\n\t\t\t\t{children}\n\t\t\t</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 15.531941375930433}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t}", "CodeBleu_score": 2.7503950065716647}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\treturn (\n\t\t<ClerkProvider theme={dark} primaryColor=\"#0070f3\">\n\t\t\t<TRPCReactProvider>\n\t\t\t\t{children}\n\t\t\t</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 15.642548821713778}]}
{"instance_id": "0ba912ee94c7", "generation_result": [{"code": "export function ActiveButton({ href, label, icon }: Props){\n\tonst pathname = usePathname();\nconst isActive = cn({\n'active': pathname === href,\n});\nreturn (\n<Link href={href}>\n<Button className={isActive} variant='ghost'>\n{icon}\n<span className='truncate'>{label}</span>\n</Button>\n</Link>\n);\n}", "CodeBleu_score": 40.38753002780944}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\t// @ts-ignore\nconst pathname = usePathname();\n\nconst truncatedLabel = cn(\n// @ts-ignore\nlabel.length > 15? label.substring(0, 15) + '...' : label,\n'active-button__label'\n);\n\nreturn (\n<Link href={href}>\n<Button variant=\"ghost\" className={pathname === href? 'active-button--active' : ''}>\n{icon}\n<span className=\"active-button__label\">{truncatedLabel}</span>\n</Button>\n</Link>\n);\n}", "CodeBleu_score": 51.39258685506009}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\tonst pathname = usePathname();\nconst isCurrent = pathname === href;\nconst className = cn('button', 'ghost', { 'is-active': isCurrent });\nreturn (\n<Link href={href}>\n<a className={className}>\n<Button>{icon}</Button>\n<span className=\"label\">{label}</span>\n</a>\n</Link>\n);\n}", "CodeBleu_score": 37.75712298500865}]}
{"instance_id": "1fd5b7fdcc9b", "generation_result": [{"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t}", "CodeBleu_score": 2.300357235745507}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t", "CodeBleu_score": 2.1504693527306387}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t", "CodeBleu_score": 2.1504693527306387}]}
{"instance_id": "390ef9405b57", "generation_result": [{"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\tonst variantClasses = button.getVariantClasses({ intent, size, underline })\nconst mergedClasses = twMerge(className, variantClasses)\nreturn <a className={mergedClasses} {...props} />\n}", "CodeBleu_score": 19.15031780850845}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\tonst classNames = twMerge(className, button.className, button.intent[intent], button.size[size], button.underline[underline])\nreturn <a className={classNames} {...props} />\n}", "CodeBleu_score": 17.664524178665648}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\ttconst classes = twMerge(className, button, { intent, size, underline })\n\\treturn <a className={classes} {...props} />\n}", "CodeBleu_score": 22.662837597949466}]}
{"instance_id": "aa655671cb7e", "generation_result": [{"code": "export function middleware(request: NextRequest){\n\t\tif (request.headers.get(\\\"host\\\").includes(\\\"next-enterprise.vercel.app\\\")) {\n\t\treturn NextResponse.redirect(\\\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\\\", 301);\n\t}\n}", "CodeBleu_score": 25.889005768849998}, {"code": "export function middleware(request: NextRequest){\n\t\tif (request.nextUrl.origin.includes(\\\"next-enterprise.vercel.app\\\")) {\n\t\treturn new NextResponse(null, {\n\t\t\tredirect: \\\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\\\",\n\t\t\tstatus: 301,\n\t\t})\n\t}\n}", "CodeBleu_score": 25.482599059412486}, {"code": "export function middleware(request: NextRequest){\n\t\tif (request.nextUrl.host.includes(\\\"next-enterprise.vercel.app\\\")) {\n\t\treturn NextResponse.redirect(\n\t\t\tnew URL(\\\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\\\"),\n\t\t\t301\n\t\t)\n\t}\n}", "CodeBleu_score": 24.513099216453252}]}
{"instance_id": "b33fa69187fb", "generation_result": [{"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this._router) {\n\t\tthis._router = new Router({\n\t\t\tcaseSensitive: this.enabled('case sensitive routing'),\n\t\t\tstrict: this.enabled('strict routing')\n\t\t});\n\t\tthis._router.use(query(this.get('query parser fn')));\n\t\tthis._router.use(middleware.init(this));\n\t}\n}", "CodeBleu_score": 69.62869310329297}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this._router) {\n\t\tthis._router = new Router({\n\t\t\tcaseSensitive: this.enabled('case sensitive routing'),\n\t\t\tstrict: this.enabled('strict routing')\n\t\t});\n\t\tthis._router.use(query(this.get('query parser fn')));\n\t\tthis._router.use(middleware.init(this));\n\t}\n}", "CodeBleu_score": 69.62869310329297}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (!this.router) {\n\t\tthis.router = Router({ caseSensitive: this.enabled('case sensitive routing'), strict: this.enabled('strict routing') });\n\n\t\t// use the query parser\n\t\tthis.use(query(this.get('query parser fn')));\n\n\t\t// setup router initialization\n\t\tthis.use(middleware.init(this));\n\t}\n}", "CodeBleu_score": 45.352160990509006}]}
{"instance_id": "7aadf79801c0", "generation_result": [{"code": "function createApplication(){\n\t\tvar app = Object.create(proto);\n\tmixin(app, EventEmitter.prototype);\n\tmixin(app, proto);\n\n\t// expose the prototype that will get set on requests\n\tapp.request = Object.create(req, {\n\t\tapp: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: app,\n\t\t\twritable: true\n\t\t}\n\t});\n\n\t// expose the prototype that will get set on responses\n\tapp.response = Object.create(res, {\n\t\tapp: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: app,\n\t\t\twritable: true\n\t\t}\n\t});\n\n\t// expose the app\n\tapp.init();\n\treturn app;\n}", "CodeBleu_score": 45.23769272259375}, {"code": "function createApplication(){\n\t\tvar app = Object.create(proto);\n\tmixin(app, EventEmitter.prototype, false);\n\tmixin(app, proto, false);\n\n\t// expose the prototype of `request`\n\tapp.request = Object.create(req, {\n\t\tapp: {\n\t\t\tvalue: app\n\t\t}\n\t});\n\n\t// expose the prototype of `response`\n\tapp.response = Object.create(res, {\n\t\tapp: {\n\t\t\tvalue: app\n\t\t}\n\t});\n\n\t// expose the prototype of `router`\n\tapp.router = new Router();\n\n\t// merge the prototype of the current application\n\t// with the prototype of the base application\n\tmixin(app, proto);\n\n\t// set up the default configuration\n\tapp.init();\n\n\treturn app;\n}", "CodeBleu_score": 41.64376581167989}, {"code": "function createApplication(){\n\t", "CodeBleu_score": 0.5202973787756741}]}
{"instance_id": "2b4af4a14e81", "generation_result": [{"code": "res.sendFile = function sendFile(path, options, callback) {\n\t", "CodeBleu_score": 3.373203616900878}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t", "CodeBleu_score": 3.373203616900878}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t", "CodeBleu_score": 3.373203616900878}]}
{"instance_id": "24ba2258749d", "generation_result": [{"code": "View.prototype.lookup = function lookup(name){\n\t root = this.root;\n\tvar paths = [];\n\n\t// if root is a function, call it with the name\n\tif ('function' == typeof root) {\n\t\troot = root(name);\n\t}\n\n\t// if root is not an array, convert it to an array\n\tif (!Array.isArray(root)) {\n\t\troot = [root];\n\t}\n\n\t// iterate through the root directories\n\tfor (var i = 0; i < root.length; i++) {\n\t\tvar dir = root[i];\n\t\tvar path = resolve(dir, name);\n\n\t\t// if the file exists, push it to the paths array\n\t\tif (fs.existsSync(path)) {\n\t\t\tpaths.push(path);\n\t\t}\n\t}\n\n\t// if there are no paths, throw an error\n\tif (!paths.length) {\n\t\tthrow new Error('Failed to lookup view \"' + name + '\".');\n\t}\n\n\t// return the first path in the paths array\n\treturn paths[0];\n}", "CodeBleu_score": 33.94209316216714}, {"code": "View.prototype.lookup = function lookup(name){\n\t i = 0;\n\tvar len = this.root.length;\n\tvar root;\n\tvar path;\n\tvar dir;\n\tvar file;\n\tvar stat;\n\n\tfor (; i < len; ++i) {\n\t\troot = this.root[i];\n\t\tpath = resolve(root, name);\n\t\tdir = dirname(path);\n\t\tfile = basename(path);\n\n\t\ttry {\n\t\t\tstat = fs.statSync(path);\n\t\t} catch (e) {\n\t\t\t// continue\n\t\t}\n\n\t\tif (stat && stat.isFile()) {\n\t\t\treturn path;\n\t\t}\n\t}\n}", "CodeBleu_score": 30.0640451902475}, {"code": "View.prototype.lookup = function lookup(name){\n\t root = this.root;\n\tvar dirs = root? root.split(path.sep) : [];\n\tvar paths = [];\n\tvar dir;\n\tvar path;\n\n\twhile (dirs.length) {\n\t\tdir = dirs.join(path.sep);\n\t\tpath = join(dir, name);\n\t\tpaths.push(path);\n\n\t\tif (fs.existsSync(path)) {\n\t\t\treturn path;\n\t\t}\n\n\t\tdirs.pop();\n\t}\n\n\treturn null;\n}", "CodeBleu_score": 25.658170792193307}]}
{"instance_id": "4a3a45242878", "generation_result": [{"code": "module.exports = function query(options){\n\t", "CodeBleu_score": 3.096983584531947}, {"code": "module.exports = function query(options){\n\t", "CodeBleu_score": 3.096983584531947}, {"code": "module.exports = function query(options){\n\t", "CodeBleu_score": 3.096983584531947}]}
{"instance_id": "786ae7051b03", "generation_result": [{"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\tconst {config, router} = framework;\nconst {modals} = config;\n\nreturn (\n<DesignSystemApp {...designSystem}>\n<FrameworkProvider framework={framework}>\n<RoutingProvider basePath={'activitypub'} modals={modals}>\n<MainContent />\n</RoutingProvider>\n</FrameworkProvider>\n</DesignSystemApp>\n);\n}", "CodeBleu_score": 48.0449776071869}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\treturn (\n<FrameworkProvider framework={framework}>\n<RoutingProvider basePath=\"activitypub\" modals={modals}>\n<DesignSystemApp className=\"gh-activitypub-app\" designSystem={designSystem}>\n<MainContent />\n</DesignSystemApp>\n</RoutingProvider>\n</FrameworkProvider>\n);\n}", "CodeBleu_score": 62.91526583839195}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\tconst {modals} = modals;\n\nreturn (\n<DesignSystemApp className='main-content' {...designSystem}>\n<FrameworkProvider framework={framework}>\n<RoutingProvider base='activitypub' modals={modals}>\n<MainContent />\n</RoutingProvider>\n</FrameworkProvider>\n</DesignSystemApp>\n);\n}", "CodeBleu_score": 51.29855857688235}]}
{"instance_id": "8100930f7ce7", "generation_result": [{"code": "const darkMode = () =>{\n\t;\n    return (\n\n<div\n\nclassName={\\`content-box\\` + (done? \\` done\\` : \\` \\`) + (darkMode()? \\` dark\\` : \\` \\`)}\n\nstyle={{\n\nbackgroundColor: done? \\`white\\` : \\`transparent\\`,\n\ncolor: done? \\`black\\` : \\`white\\`,\n\nborderColor: done? \\`white\\` : \\`black\\`\n\n}}\n\n>\n\n<Content\n\ndone={done}\n\n/>\n\n</div>\n\n);\n\n}", "CodeBleu_score": 1.787895683710675}, {"code": "const darkMode = () =>{\n\tnst root = document.getElementById(ROOT_DIV_ID);\nif (colorScheme === 'light') {\nreturn false;\n} else if (colorScheme === 'dark') {\nreturn true;\n} else {\nconst rgb = getComputedStyle(root).backgroundColor;\nconst rgbArr = rgb.match(/\\d+/g).map((v) => parseInt(v));\nconst contrastRatio = contrast([255, 255, 255], rgbArr);\nreturn contrastRatio < 5;\n}\n}", "CodeBleu_score": 34.604357787566684}, {"code": "const darkMode = () =>{\n\tonst root = document.getElementById(ROOT_DIV_ID);\nif (root === null) {\nthrow new Error('Root element not found');\n}\n\nconst parent = root.parentElement;\nif (parent === null) {\nthrow new Error('Parent element not found');\n}\n\nconst rgb = getComputedStyle(parent).backgroundColor.match(/\\d+/g).map((v) => parseInt(v, 10));\nconst contrastRatio = contrast(rgb, [255, 255, 255]);\n\nif (colorScheme === 'light') {\nreturn false;\n}\n\nif (colorScheme === 'dark') {\nreturn true;\n}\n\nreturn contrastRatio < 5;\n}", "CodeBleu_score": 37.51528967653449}]}
{"instance_id": "7da55fac8ceb", "generation_result": [{"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\tconst {t} = useAppContext();\n\nif (title === null &&!showCount) {\nreturn null;\n}\n\nreturn (\n<div className=\"flex flex-col gap-2 items-center justify-center\">\n<Title title={title} />\n<Count showCount={showCount} count={count} />\n</div>\n);\n}", "CodeBleu_score": 40.90400716810832}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\tconst {t} = useAppContext();\n\nif (title === null &&!showCount) {\nreturn null;\n}\n\nreturn (\n<div className=\"flex items-center justify-between\">\n<Title title={title} />\n<Count showCount={showCount} count={count} />\n</div>\n);\n}", "CodeBleu_score": 39.88761601548678}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\tconst {t} = useAppContext();\n\nif (title === null &&!showCount) {\nreturn null;\n}\n\nif (title === null) {\nreturn (\n<>\n<span className=\"sm:hidden\">{t('Discussion')}</span>\n<span className=\"hidden sm:inline\">{t('Member discussion')}</span>\n</>\n);\n}\n\nreturn (\n<>\n{title}\n<Count showCount={showCount} count={count} />\n</>\n);\n}", "CodeBleu_score": 24.578490574188294}]}
{"instance_id": "1d104e0b7fc7", "generation_result": [{"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError('union_queryset requires at least one queryset')\n    if len(args) == 1:\n        return args[0]\n    if base_queryset:\n        queryset = base_queryset\n    else:\n        queryset = args[0].model.objects.all()\n    for qs in args[1:]:\n        queryset = queryset.union(qs)\n\n    return queryset\n\n", "CodeBleu_score": 40.975614722798966}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if len(args) == 0:\n        raise ValueError('union_queryset takes at least one queryset')\n    elif len(args) == 1:\n        return args[0]\n    else:\n        if base_queryset is None:\n            base_queryset = args[0].model.objects.all()\n        base_ids = base_queryset.values_list('id', flat=True)\n        for qs in args:\n            qs = qs.order_by('id').values_list('id', flat=True)\n            base_ids = list(set(base_ids) | set(qs))\n\n        return base_queryset.filter(id__in=base_ids)\n\n", "CodeBleu_score": 47.38450372707164}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError(\"union_queryset requires at least one queryset.\")\n    if base_queryset is None:\n        base_queryset = args[0].model.objects.all()\n    querysets = [base_queryset] + list(args)\n    for qs in querysets:\n        qs.query.order_by()\n    union_qs = querysets[0]\n    for qs in querysets[1:]:\n        union_qs = union_qs.union(qs)\n    return union_qs.filter(id__in=union_qs.values_list(\"id\", flat=True))\n\n", "CodeBleu_score": 40.06988172842476}]}
{"instance_id": "96fe55f8e114", "generation_result": [{"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if not ids:\n        return\n    if not isinstance(ids, list):\n        ids = [ids]\n    if not model:\n        model = self.model\n    model_name = model.__name__\n    model_type = model.get_model_type()\n    if model_type == 'user':\n        model_name = 'user'\n    elif model_type == 'org':\n        model_name = 'org'\n    elif model_type == 'role':\n        model_name = 'role'\n    elif model_type == 'permission':\n        model_name = 'permission'\n    elif model_type =='menu':\n        model_name ='menu'\n    elif model_type =='resource':\n        model_name ='resource'\n    elif model_type == 'group':\n        model_name = 'group'\n    elif model_type == 'group_member':\n        model_name = 'group_member'\n    elif model_type == 'group_role':\n        model_name = 'group_role'\n    elif model_type == 'group_permission':\n        model_name = 'group_permission'\n    elif model_type == 'group_menu':\n        model_name = 'group_menu'\n    elif model_type == 'group_resource':\n        model_name = 'group_resource'\n    elif model_type == 'group_user':\n        model_name = 'group_user'\n    elif model_type == 'group_org':\n        model_name = 'group_org'\n    elif model_type == 'group_role':\n        model_name = 'group_role'\n    elif model_type == 'group_permission':\n        model_name = 'group_permission'\n    elif model_type == 'group_menu':\n        model_name = 'group_menu'\n    elif model_type == 'group_resource':\n        model_name = 'group_resource'\n    elif model_type == 'group_user':\n        model_name = 'group_user'\n    elif model_type == 'group_org':\n        model_name = 'group_org'\n    elif model_type == 'group_role':\n        model_name = 'group_role'\n    elif model_type == 'group_permission':\n        model_name = 'group_permission'\n    elif model_type == 'group_menu':\n        model_name = 'group_menu'\n    elif", "CodeBleu_score": 27.329051777571088}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    model = model or self.model\n    language = translation.get_language()\n    translation.activate('en')\n    try:\n        resource_type = model._meta.verbose_name.lower()\n    finally:\n        translation.activate(language)\n    for id in ids:\n        activity_log = ActivityLog(\n            resource_type=resource_type,\n            resource_id=id,\n            action=action,\n            detail=detail,\n            **kwargs\n        )\n        activity_log.save()\n\n", "CodeBleu_score": 38.7782230639762}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if not ids:\n        return\n\n    if not model:\n        model = self.model\n\n    # \u8bb0\u5f55\u65e5\u5fd7\n    if not detail:\n        detail = translation.gettext_lazy('record')\n\n    create_or_update_operate_log(ids, action, detail, model, **kwargs)\n\n    # \u8bb0\u5f55\u6d3b\u52a8\u65e5\u5fd7\n    if action == ActivityChoices.DELETE:\n        # \u8bb0\u5f55\u5220\u9664\u65e5\u5fd7\n        for id in ids:\n            ActivityLog.objects.create(\n                action=action,\n                detail=detail,\n                user=self.request.user,\n                content_object=model.objects.get(id=id),\n                organization=current_org(self.request),\n            )\n    else:\n        # \u8bb0\u5f55\u5176\u4ed6\u65e5\u5fd7\n        for id in ids:\n            ActivityLog.objects.create(\n                action=action,\n                detail=detail,\n                user=self.request.user,\n                content_object=model.objects.get(id=id),\n                organization=current_org(self.request),\n                **kwargs\n            )", "CodeBleu_score": 31.772243132978446}]}
{"instance_id": "9e851c424f45", "generation_result": [{"code": "def prepare_django_request(self, request)\n\t    logger.debug('prepare_django_request')\n    request_data = copy.deepcopy(request)\n    request_data['is_secure'] = self.is_secure()\n    request_data['http_host'] = request.META.get('HTTP_HOST', '')\n    request_data['script_name'] = request.META.get('SCRIPT_NAME', '')\n    request_data['get_data'] = request.GET.copy()\n    request_data['post_data'] = request.POST.copy()\n    return request_data\n", "CodeBleu_score": 39.77581062395325}, {"code": "def prepare_django_request(self, request)\n\t    request_data = {\n        'https': self.is_secure(),\n        'http_host': request.META.get('HTTP_HOST'),\n       'script_name': request.META.get('SCRIPT_NAME'),\n        'get_data': copy.deepcopy(request.GET),\n        'post_data': copy.deepcopy(request.POST)\n    }\n    return request_data\n\n", "CodeBleu_score": 44.14853306982114}, {"code": "def prepare_django_request(self, request)\n\t    request_data = {\n        'https': self.is_secure(),\n        'http_host': request.META.get('HTTP_HOST'),\n       'script_name': request.META.get('SCRIPT_NAME'),\n        'get_data': copy.deepcopy(request.GET),\n        'post_data': copy.deepcopy(request.POST)\n    }\n    return request_data\n\n", "CodeBleu_score": 44.14853306982114}]}
{"instance_id": "dcea4bd482c4", "generation_result": [{"code": "function getUserLang() {\n\t\n}", "CodeBleu_score": 1.3892765492585577}, {"code": "function getUserLang() {\n\tvar lang = 'zh-CN';\nif (document.cookie.indexOf('django_language=en') > -1) {\nlang = 'en-US';\n}\nreturn lang;\n}", "CodeBleu_score": 27.66484308200985}, {"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tif (document.cookie.indexOf('django_language=en')!== -1) {\n\t\tlang = 'en-US';\n\t}\n\treturn lang;\n}", "CodeBleu_score": 28.17313123852645}]}
{"instance_id": "fd6824a005d5", "generation_result": [{"code": "function reloadPage(){\n\t\tsetTimeout(function() {\n\t\twindow.location.reload(true);\n\t}, 300);\n}", "CodeBleu_score": 27.326827848844324}, {"code": "function reloadPage(){\n\t\tsetTimeout(function () {\n\t\twindow.location.reload(true);\n\t}, 300);\n}", "CodeBleu_score": 36.78077631148059}, {"code": "function reloadPage(){\n\t\tsetTimeout(function() {\n\t\twindow.location.reload(true);\n\t}, 300);\n}", "CodeBleu_score": 27.326827848844324}]}
{"instance_id": "b32d5862b6b1", "generation_result": [{"code": "function fillKey(key){\n\t\tvar buffer = new Buffer(16);\n\tkey.copy(buffer, 0, 0, key.length);\n\treturn buffer;\n}", "CodeBleu_score": 9.979701333423282}, {"code": "function fillKey(key){\n\t\tvar buffer = Buffer.alloc(16);\n\tkey.copy(buffer);\n\treturn buffer;\n}", "CodeBleu_score": 12.91101882899236}, {"code": "function fillKey(key){\n\t\tvar buffer = Buffer.alloc(16);\n\tbuffer.write(key);\n\treturn buffer;\n}", "CodeBleu_score": 14.689726226269942}]}
{"instance_id": "c839d19e0833", "generation_result": [{"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text === '') {\n\t\treturn text;\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 59.70184942056902}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text === '') {\n\t\treturn text;\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 59.70184942056902}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (!text) {\n\t\treturn text\n\t}\n\tvar encrypt = new JSEncrypt()\n\tencrypt.setPublicKey(pubKey)\n\treturn encrypt.encrypt(text)\n}", "CodeBleu_score": 68.21267631895276}]}
{"instance_id": "c73bc91399b9", "generation_result": [{"code": "function checkAll(id, name){\n\t\tvar checkboxes = document.getElementsByName(name);\n\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\tcheckboxes[i].checked = document.getElementById(id).checked;\n\t}\n}", "CodeBleu_score": 38.18457280691354}, {"code": "function checkAll(id, name){\n\t\tvar checkboxes = document.getElementsByName(name);\n\tvar master = document.getElementById(id);\n\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\tcheckboxes[i].checked = master.checked;\n\t}\n}", "CodeBleu_score": 41.786932019094515}, {"code": "function checkAll(id, name){\n\t\tvar checkboxes = document.getElementsByName(name);\n\tfor (var i = 0; i < checkboxes.length; i++) {\n\t\tcheckboxes[i].checked = document.getElementById(id).checked;\n\t}\n}", "CodeBleu_score": 38.18457280691354}]}
{"instance_id": "5164f2c2d67e", "generation_result": [{"code": "function getCookie(name){\n\tr value = null;\n\tif (document.cookie && document.cookie!= '') {\n\t\tvar cookies = document.cookie.split(';');\n\t\tfor (var i = 0; i < cookies.length; i++) {\n\t\t\tvar cookie = jQuery.trim(cookies[i]);\n\t\t\t// Does this cookie string begin with the name we want?\n\t\t\tif (cookie.substring(0, name.length + 1) == (name + '=')) {\n\t\t\t\tvalue = decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n}", "CodeBleu_score": 66.98957238656791}, {"code": "function getCookie(name){\n\tr cookie = document.cookie.split(';');\n\tfor (var i = 0; i < cookie.length; i++) {\n\t\tvar c = cookie[i];\n\t\twhile (c.charAt(0) ==='') {\n\t\t\tc = c.substring(1);\n\t\t}\n\t\tif (c.indexOf(name + '=') === 0) {\n\t\t\treturn decodeURIComponent(c.substring(name.length + 1, c.length));\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 32.458187950780896}, {"code": "function getCookie(name){\n\t cookie = document.cookie;\nvar start = cookie.indexOf(name + '=');\nvar len = name.length + 1;\nif ((start > -1) && (cookie.length > len)) {\nstart = cookie.indexOf('=', start) + 1;\nvar end = cookie.indexOf(';', start);\nif (end == -1) {\nend = cookie.length;\n}\nvar value = cookie.substring(start, end);\nreturn unescape(value);\n}\nreturn null;\n}", "CodeBleu_score": 26.23880845570532}]}
{"instance_id": "7ce6dc0f1f24", "generation_result": [{"code": "def post(self, request)\n\t   self.model = get_image_model()\n    form = self.get_creation_form_class()(request.POST, request.FILES, user=request.user)\n    if form.is_valid():\n        instance = form.save()\n        duplicates = find_image_duplicates(instance)\n        if duplicates:\n            return self.render_duplicate_response(request, instance, duplicates)\n\n        if self.request.GET.get(\\\"select_format\\\"):\n            return self.render_select_format_response(instance, form)\n\n        return self.render_chosen_response(instance)\n    else:\n        return self.render_creation_form_response(request, form)\n\n", "CodeBleu_score": 27.0616061615469}, {"code": "def post(self, request)\n\t   self.model = get_image_model()\n    form = self.get_creation_form(data=request.POST, files=request.FILES)\n    if form.is_valid():\n        image = form.save(commit=False)\n        image.uploaded_by_user = request.user\n        image.save()\n        duplicates = find_image_duplicates(image)\n        if duplicates:\n            return self.render_duplicate_response(duplicates)\n        if request.POST.get(\\\"select_format\\\"):\n            return self.render_select_format_response(image, form)\n        return self.render_creation_response(image)\n    return self.render_creation_form_response(form)\n\n", "CodeBleu_score": 29.350571844704564}, {"code": "def post(self, request)\n\t   self.model = get_image_model()\n    form_class = self.get_creation_form_class()\n    form = self.get_creation_form(form_class)\n    if form.is_valid():\n        image = form.save(commit=False)\n        image.uploaded_by_user = request.user\n        image.save()\n        if find_image_duplicates(image):\n            return self.render_duplicate_response(image)\n        if self.request.GET.get(\\\"select_format\\\"):\n            return self.render_select_format_response(image, form)\n        return self.render_chosen_response(image)\n    return self.render_creation_form_response(form)\n\n", "CodeBleu_score": 25.661424606321358}]}
{"instance_id": "2ee66e343cd1", "generation_result": [{"code": "def _annotate_queryset(self, pages)\n\tself.request.user.is_superuser:\n        return pages\n\n    # Annotate with site root state\n    pages = pages.annotate(root_state=F(\\\"content_type__model\\\"))\n\n    # Annotate with approved schedule\n    pages = pages.annotate(approved_schedule=F(\\\"content_type__model\\\"))\n\n    # Filter by user's permissions\n    pages = pages.filter(permissions_for_user(self.request.user))\n\n    # Prefetch content type and site root\n    pages = pages.select_related(\\\"content_type\\\", \\\"content_type__model\\\")\n\n    # Prefetch workflow states\n    if self.request.user.has_perm(\\\"wagtail.access_admin\\\"):\n        pages = pages.prefetch_related(\\\"workflow_states\\\")\n\n    return pages\n\n", "CodeBleu_score": 39.28506070790108}, {"code": "def _annotate_queryset(self, pages)\n\tself.request.user.is_superuser:\n        return pages\n\n    # Filter pages based on user's permissions\n    pages = pages.filter(permissions_for_user=self.request.user)\n\n    # Prefetch related content types\n    pages = pages.select_related(\\\"content_type\\\")\n\n    # Prefetch site roots\n    pages = pages.prefetch_related(\\\"get_site_root\\\")\n\n    # Defer streamfield values for specific page instances\n    pages = pages.defer(\\\"content\\\")\n\n    # Prefetch workflow states\n    if self.request.user.has_perm(\\\"wagtail.access_admin\\\") and self.request.user.has_perm(\\\"wagtail.access_workflow\\\"):\n        pages = pages.prefetch_related(\\\"live\\\")\n\n    # Annotate with site root state and approved schedule\n    # This is a performance optimization for the admin index page\n    pages = pages.annotate(\n        site_root_state=F(\\\"get_site_root__live\\\"),\n        approved_schedule=F(\\\"get_site_root__approved_go_live_at\\\"),\n    )\n\n    return pages\n\n", "CodeBleu_score": 38.873760605494624}, {"code": "def _annotate_queryset(self, pages)\n\trefetch content types\n    pages = pages.select_related(\\\"content_type\\\")\n\n    # Prefetch site roots\n    pages = pages.prefetch_related(\\\"get_site_root\\\")\n\n    # Filter by user permissions\n    pages = pages.filter(self.permission_policy.user_has_any_permission(pages, self.any_permission_required))\n\n    # Prefetch workflow states\n    if self.workflow_enabled:\n        pages = pages.prefetch_related(\\\"workflow_states\\\")\n\n    # Annotate with site root state and approved schedule\n    pages = pages.annotate(\n        site_root_state=F(\\\"get_site_root__live\\\"),\n        approved_schedule=F(\\\"get_site_root__approved_go_live_at\\\"),\n    )\n\n    return pages\n\n    def get_queryset(self):\n        queryset = self._get_queryset()\n        queryset = self._annotate_queryset(queryset)\n        return queryset\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n\n        context[\\\"search_form\\\"] = self.search_form\n        context[\\\"is_searching\\\"] = self.is_searching\n        context[\\\"show_breadcrumbs\\\"] = self._show_breadcrumbs\n        return context\n\n    def get_filterset_kwargs(self, filterset_class):\n        kwargs = super().get_filterset_kwargs(filterset_class)\n        kwargs[\\\"data\\\"] = self.request.GET\n        return kwargs\n\n    def get_table_class(self):\n        return self.table_class\n\n    def get_table_classname(self):\n        return self.table_classname\n\n    def get_table_pagination(self, table):\n        return self.paginate_by\n\n    def get_table_results(self, table):\n        return table.page\n\n    def get_table_results_count(self, table):\n        return table.paginator.count\n\n    def get_table_results_per_page(self, table):\n        return self.paginate_by\n\n    def get_", "CodeBleu_score": 32.01889716180561}]}
{"instance_id": "970bf123b037", "generation_result": [{"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching and not self.is_explicitly_ordered:\n        # ordering by content type not currently available when searching, due to\n        # https://github.com/wagtail/wagtail/issues/6616\n        try:\n            queryset = queryset.remove(content_type)\n            queryset = queryset.remove(-content_type)\n        except ValueError:\n            pass\n\n        # search backend will order by relevance in this case, so don't bother to\n        # apply an ordering on the queryset\n        return queryset\n\n    if self.ordering == \"ord\":\n        # preserve the native ordering from get_children()\n        pass\n    elif self.ordering == \"latest_revision_created_at\" and not self.is_searching:\n        # order by oldest revision first.\n        # Special case NULL entries - these should go at the top of the list.\n        # Skip this special case when searching (and fall through to plain field ordering\n        # instead) as search backends do not support F objects in order_by\n        queryset = queryset.order_by(\n            F(\"latest_revision_created_at\").asc(nulls_first=True)\n        )\n    elif self.ordering == \"-latest_revision_created_at\" and not self.is_searching:\n        # order by oldest revision first.\n        # Special case NULL entries - these should go at the end of the list.\n        # Skip this special case when searching (and fall through to plain field ordering\n        # instead) as search backends do not support F objects in order_by\n        queryset = queryset.order_by(\n            F(\"latest_revision_created_at\").desc(nulls_last=True)\n        )\n    else:\n        queryset = super().order_queryset(queryset)\n\n    return queryset\n\n", "CodeBleu_score": 38.78518115954531}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching and not self.is_explicitly_ordered:\n        # ordering by content type not currently available when searching, due to\n        # https://github.com/wagtail/wagtail/issues/6616\n        try:\n            queryset.remove(\"content_type\")\n            queryset.remove(\"-content_type\")\n        except ValueError:\n            pass\n\n    return queryset\n", "CodeBleu_score": 31.702034223593813}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching and not self.is_explicitly_ordered:\n        # ordering by content type not currently available when searching, due to\n        # https://github.com/wagtail/wagtail/issues/6616\n        try:\n            queryset = queryset.remove_ordering(self.ordering)\n        except ValueError:\n            pass\n\n        queryset = queryset.order_by_relevance(self.query_string)\n\n    return queryset\n\n", "CodeBleu_score": 45.72954608634344}]}
{"instance_id": "b2058bd51dfa", "generation_result": [{"code": "def user_can_access_snippets(user)\n\t\n    for model in get_snippet_models():\n        if user_can_edit_snippet_type(user, model):\n            return True\n\n    return False\n\n", "CodeBleu_score": 17.5456608084606}, {"code": "def user_can_access_snippets(user)\n\t\n    for model in get_snippet_models():\n        if user_can_edit_snippet_type(user, model):\n            return True\n\n    return False\n", "CodeBleu_score": 17.5456608084606}, {"code": "def user_can_access_snippets(user)\n\t\n    for model in get_snippet_models():\n        if user_can_edit_snippet_type(user, model):\n            return True\n    return False\n\n", "CodeBleu_score": 17.5456608084606}]}
{"instance_id": "bf09fb693900", "generation_result": [{"code": "def get_auth_backends(self, request)\n\t\n    auth_backends = []\n    for backend_path in settings.AUTHENTICATION_BACKENDS:\n        backend = import_string(backend_path)\n        backend_name = backend.__module__\n        backend_url = resolve_url(f'account:login/{backend_name}')\n\n        # If this backend is SAML, generate a separate entry for each IDP\n        if backend_name =='social_core.backends.saml.SAMLAuth':\n            for idp in get_saml_idps():\n                auth_backends.append(self.gen_auth_data(backend_name, backend_url, {\n                    'idp': idp,\n                    'next': request.GET.get('next'),\n                }))\n        else:\n            auth_backends.append(self.gen_auth_data(backend_name, backend_url, {\n                'next': request.GET.get('next'),\n            }))\n\n    return auth_backends\n\n", "CodeBleu_score": 30.851774872999826}, {"code": "def get_auth_backends(self, request)\n\t\n    auth_backends = []\n    next_url = request.GET.get('next', None)\n    for name, backend in load_backends(settings.AUTHENTICATION_BACKENDS, 'all').items():\n        if hasattr(backend, 'get_urls'):\n            url = backend.get_urls()[0].callback.pattern\n            params = {'next': next_url}\n            if name =='social_core.backends.saml.SAMLAuth':\n                idps = get_saml_idps()\n                if idps:\n                    for idp in idps:\n                        auth_backends.append(self.gen_auth_data(name, url, params | {'idp': idp}))\n            else:\n                auth_backends.append(self.gen_auth_data(name, url, params))\n\n    return auth_backends\n\n", "CodeBleu_score": 42.306555380311394}, {"code": "def get_auth_backends(self, request)\n\t\n    auth_backends = []\n    next_url = request.GET.get('next', '')\n    for name, backend in load_backends(settings.AUTHENTICATION_BACKENDS, 'allauth.account.auth_backends.AuthenticationBackend').items():\n        if backend.is_enabled():\n            try:\n                backend_name = backend.name\n                backend_url = reverse('account_login', args=[backend_name])\n                params = {'next': next_url}\n                if backend.idps:\n                    for idp_name, idp_display in backend.idps.items():\n                        auth_backends.append(self.gen_auth_data(idp_display, backend_url, params))\n                else:\n                    auth_backends.append(self.gen_auth_data(backend_name, backend_url, params))\n            except Exception as e:\n                logging.warning('Authentication backend %s is not valid: %s', name, e)\n\n    return auth_backends\n\n", "CodeBleu_score": 34.23114695083353}]}
{"instance_id": "ea59163b25cc", "generation_result": [{"code": "def as_sql(self, qn, connection)\n\t    lhs_sql, lhs_params = self.process_lhs(qn, connection)\n    rhs_sql, rhs_params = self.process_rhs(qn, connection)\n    return f\\\"CAST({lhs_sql} AS INET) @> {rhs_sql}\\\", lhs_params + rhs_params\n\n", "CodeBleu_score": 42.40028916875009}, {"code": "def as_sql(self, qn, connection)\n\t    lhs_sql, params_lhs = self.process_lhs(qn, connection)\n    rhs_sql, params_rhs = self.process_rhs(qn, connection)\n    params = params_lhs + params_rhs\n    return f\\\"CAST({lhs_sql} AS INET) @> {rhs_sql}\\\", params\n\n\n", "CodeBleu_score": 42.070540361589686}, {"code": "def as_sql(self, qn, connection)\n\t    lhs_sql, lhs_params = self.process_lhs(qn, connection)\n    rhs_sql, rhs_params = self.process_rhs(qn, connection)\n    return f'CAST({lhs_sql} AS INET) @> {rhs_sql}', lhs_params + rhs_params\n\n", "CodeBleu_score": 39.8036684279591}]}
{"instance_id": "6658ddec6820", "generation_result": [{"code": "def get_model_urls(app_label, model_name)\n\t\n    # Retrieve the view configurations for the specified app label and model name from the registry\n    view_configs = registry.get_view_configs(app_label, model_name)\n\n    # If no view configurations are found, return an empty list\n    if not view_configs:\n        return []\n\n    # Initialize an empty list to store the generated URL paths\n    paths = []\n\n    # Loop through each view configuration\n    for view_config in view_configs:\n        # Retrieve the view class or function\n        view_class_or_function = import_string(view_config['view'])\n\n        # If the view is a class, instantiate it\n        if isinstance(view_class_or_function, type) and issubclass(view_class_or_function, View):\n            view_instance = view_class_or_function()\n        # Otherwise, assume it is a function\n        else:\n            view_instance = view_class_or_function\n\n        # Create the URL path for the view\n        path_name = view_config.get('path_name', view_config['view'])\n        path_kwargs = view_config.get('path_kwargs', {})\n        path = path(view_config['path'], view_instance.as_view(), name=path_name, kwargs=path_kwargs)\n\n        # Add the generated URL path to the list\n        paths.append(path)\n\n    # Return the list of generated URL paths\n    return paths\n\n", "CodeBleu_score": 37.72418649246055}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    model = registry.get_model(app_label, model_name)\n    if model is None:\n        return []\n\n    paths = []\n    for view_name, view_config in model.views.items():\n        if view_config.get('class') is not None:\n            view_class = import_string(view_config['class'])\n            path = path(view_config['path'], view_class.as_view(), name=view_name)\n        else:\n            view_func = import_string(view_config['function'])\n            path = path(view_config['path'], view_func, name=view_name)\n\n        paths.append(path)\n\n    return paths\n\n\n\n\n", "CodeBleu_score": 32.94787943794769}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    # Retrieve the views for the specified app label and model name from the registry\n    try:\n        views = registry.get_views(app_label, model_name)\n    except KeyError:\n        # No views are registered for the specified app label and model name\n        return []\n\n    # Generate URL paths for each view configuration\n    paths = []\n    for view_name, view_config in views.items():\n        try:\n            # Import the view as a class or function\n            view_class = import_string(view_config['class'])\n        except ImportError:\n            # The view class could not be imported\n            continue\n\n        # Create a URL path with the appropriate name and kwargs\n        paths.append(path(view_config['path'], view_class.as_view(), name=view_name))\n\n    return paths", "CodeBleu_score": 31.421840102344227}]}
{"instance_id": "9f4c69dfe312", "generation_result": [{"code": "def run_validators(instance, validators)\n\t if not validators:\n        return\n    request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            try:\n                validator = importlib.import_module(validator)\n            except ImportError:\n                raise ImproperlyConfigured(f'Unable to import validator {validator}')\n        elif isinstance(validator, dict):\n            validator = CustomValidator(validator)\n        else:\n            raise ImproperlyConfigured(f'Validator {validator} must be a subclass of CustomValidator')\n        validator.apply(instance, request)\n\n", "CodeBleu_score": 40.1433825176082}, {"code": "def run_validators(instance, validators)\n\t request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            # Dynamically import the validator class\n            module_name, class_name = validator.rsplit('.', 1)\n            module = importlib.import_module(module_name)\n            validator_class = getattr(module, class_name)\n            validator_instance = validator_class()\n        elif isinstance(validator, dict):\n            validator_instance = CustomValidator(**validator)\n        else:\n            raise ImproperlyConfigured(f\\\"Validator '{validator}' is not a subclass of CustomValidator\\\")\n        validator_instance.apply(instance, request)\n\n", "CodeBleu_score": 40.02347358205805}, {"code": "def run_validators(instance, validators)\n\t request = current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            # Dynamically import the validator class\n            module_name, class_name = validator.rsplit('.', 1)\n            module = importlib.import_module(module_name)\n            validator_class = getattr(module, class_name)\n            validator_instance = validator_class()\n        elif isinstance(validator, dict):\n            validator_instance = CustomValidator(**validator)\n        else:\n            raise ImproperlyConfigured(f\\\"Validator '{validator}' is not a subclass of CustomValidator\\\")\n        # Apply the validator to the instance and request\n        validator_instance.apply(instance, request)\n\n", "CodeBleu_score": 40.02347358205805}]}
{"instance_id": "0b2ff7fe76f6", "generation_result": [{"code": "export function playMedia(destiny){\n\t\tconst panel = getSlideOrSection(destiny);\n\tconst autoplayElems = panel.querySelectorAll('[data-autoplay]');\n\tconst autoplayElemsLength = autoplayElems.length;\n\tlet i;\n\n\tif (autoplayElemsLength > 0) {\n\t\tfor (i = 0; i < autoplayElemsLength; i++) {\n\t\t\tconst elem = autoplayElems[i];\n\t\t\tconst elemType = elem.nodeName;\n\n\t\t\tif (elemType === 'VIDEO' || elemType === 'AUDIO') {\n\t\t\t\tif (elem.play) {\n\t\t\t\t\telem.play();\n\t\t\t\t}\n\t\t\t} else if (elemType === 'IFRAME') {\n\t\t\t\tconst iframe = elem;\n\t\t\t\tconst iframeSrc = iframe.src;\n\t\t\t\tconst iframeSrcLength = iframeSrc.length;\n\n\t\t\t\tif (iframeSrcLength > 0 && iframeSrc.indexOf('youtube.com')!== -1) {\n\t\t\t\t\tplayYoutube(iframe);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 34.06659188696209}, {"code": "export function playMedia(destiny){\n\t\tconst panel = getSlideOrSection(destiny);\n\n\tif (panel) {\n\t\tconst $media = panel.querySelectorAll('video, audio');\n\n\t\tutils.forEach($media, function($el) {\n\t\t\tif (utils.hasClass($el, 'lazy-loaded')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($el.tagName.toLowerCase() === 'video') {\n\t\t\t\tif ($el.play) {\n\t\t\t\t\t$el.play();\n\t\t\t\t}\n\n\t\t\t\tif ($el.autoplay) {\n\t\t\t\t\t$el.autoplay = true;\n\t\t\t\t}\n\t\t\t} else if ($el.tagName.toLowerCase() === 'audio') {\n\t\t\t\tif ($el.play) {\n\t\t\t\t\t$el.play();\n\t\t\t\t}\n\n\t\t\t\tif ($el.autoplay) {\n\t\t\t\t\t$el.autoplay = true;\n\t\t\t\t}\n\t\t\t} else if ($el.tagName.toLowerCase() === 'iframe') {\n\t\t\t\tif ($el.src.indexOf('youtube.com/embed/') > -1) {\n\t\t\t\t\tplayYoutube($el);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}", "CodeBleu_score": 35.03136972714265}, {"code": "export function playMedia(destiny){\n\t\tconst $panel = getSlideOrSection(destiny);\n\n\t// Play video elements\n\t$panel.querySelectorAll('video[data-autoplay]').forEach(function ($video) {\n\t\tif ($video.play) {\n\t\t\t$video.play();\n\t\t}\n\t});\n\n\t// Play audio elements\n\t$panel.querySelectorAll('audio[data-autoplay]').forEach(function ($audio) {\n\t\tif ($audio.play) {\n\t\t\t$audio.play();\n\t\t}\n\t});\n\n\t// Play YouTube iframes\n\t$panel.querySelectorAll('iframe[data-autoplay]').forEach(function ($iframe) {\n\t\tif ($iframe.src.indexOf('youtube') > -1) {\n\t\t\tplayYoutube($iframe);\n\t\t}\n\t});\n}", "CodeBleu_score": 33.608878394644904}]}
{"instance_id": "12d28719c647", "generation_result": [{"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\n\t//playing HTML5 media elements\n\tutils.$('video, audio', panel).forEach(function(element) {\n\t\tif (element.hasAttribute('data-keepplaying')) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof element.pause === 'function') {\n\t\t\telement.pause();\n\t\t}\n\t});\n\n\t//youtube videos\n\tutils.$('iframe[src*=\"youtube.com/embed/\"]', panel).forEach(function(element) {\n\t\tif (element.hasAttribute('data-keepplaying')) {\n\t\t\treturn;\n\t\t}\n\n\t\telement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t});\n}", "CodeBleu_score": 65.79496698873933}, {"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\n\t//playing HTML5 media elements\n\tutils.$('video, audio', panel).forEach(function(element) {\n\t\tif( element.hasAttribute('data-keepplaying') ) {\n\t\t\treturn;\n\t\t}\n\t\telement.pause();\n\t});\n\n\t//youtube videos\n\tutils.$('iframe[src*=\"youtube.com/embed/\"]', panel).forEach(function(element) {\n\t\tif ( element.hasAttribute('data-keepplaying') ) {\n\t\t\treturn;\n\t\t}\n\t\telement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t});\n}", "CodeBleu_score": 56.46515744863587}, {"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\n\t//playing HTML5 media elements\n\tutils.$('video, audio', panel).forEach(function (element) {\n\t\tif (!element.hasAttribute('data-keepplaying') && typeof element.pause === 'function') {\n\t\t\telement.pause();\n\t\t}\n\t});\n\n\t//youtube videos\n\tutils.$('iframe[src*=\"youtube.com/embed/\"]', panel).forEach(function (element) {\n\t\tif (!element.hasAttribute('data-keepplaying')) {\n\t\t\telement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t}\n\t});\n}", "CodeBleu_score": 71.62852579527323}]}
{"instance_id": "e0d58d76f87e", "generation_result": [{"code": "export function createSlideArrows(section){\n\tar options = getOptions(section);\n\tvar slideWrapper = section.querySelector(SLIDES_WRAPPER_SEL);\n\tvar prevArrow = section.querySelector(SLIDES_PREV);\n\tvar nextArrow = section.querySelector(SLIDES_NEXT);\n\tvar prevArrowHtml = options.template.prevArrow;\n\tvar nextArrowHtml = options.template.nextArrow;\n\n\tif (prevArrow) {\n\t\tslideWrapper.removeChild(prevArrow);\n\t}\n\tif (nextArrow) {\n\t\tslideWrapper.removeChild(nextArrow);\n\t}\n\n\tif (prevArrowHtml) {\n\t\tprevArrow = utils.create(prevArrowHtml);\n\t\tprevArrow.classList.add(SLIDES_ARROW_PREV_SEL);\n\t\tslideWrapper.insertBefore(prevArrow, slideWrapper.firstChild);\n\t}\n\tif (nextArrowHtml) {\n\t\tnextArrow = utils.create(nextArrowHtml);\n\t\tnextArrow.classList.add(SLIDES_ARROW_NEXT_SEL);\n\t\tslideWrapper.appendChild(nextArrow);\n\t}\n\n\t//Add arrow classes\n\tif (prevArrow) {\n\t\tprevArrow.classList.add(SLIDES_ARROW_SEL);\n\t\tprevArrow.classList.add(SLIDES_ARROW);\n\t\tprevArrow.style.color = options.navigation.arrowsColor;\n\t}\n\tif (nextArrow) {\n\t\tnextArrow.classList.add(SLIDES_ARROW_SEL);\n\t\tnextArrow.classList.add(SLIDES_ARROW);\n\t\tnextArrow.style.color = options.navigation.arrowsColor;\n\t}\n\n\t//Hide previous arrow if loop is disabled\n\tif (!options.loop) {\n\t\tif (prevArrow) {\n\t\t\tprevArrow.style.display = 'none';\n\t\t}\n\t}\n}", "CodeBleu_score": 27.985188316249644}, {"code": "export function createSlideArrows(section){\n\t/ Create the arrow elements from the template\n\tvar prevArrow = utils.createElFromHTML(getOptions().template.arrow),\n\t\tnextArrow = utils.createElFromHTML(getOptions().template.arrow);\n\n\t// Add the classes to the arrows\n\tutils.addClass(prevArrow, SLIDES_ARROW_PREV_SEL);\n\tutils.addClass(nextArrow, SLIDES_ARROW_NEXT_SEL);\n\n\t// Add the arrows to the section\n\tutils.appendEl(section, prevArrow);\n\tutils.appendEl(section, nextArrow);\n\n\t// Set the color of the arrows\n\tutils.setStyle(prevArrow, 'background-color', getOptions().color);\n\tutils.setStyle(nextArrow, 'background-color', getOptions().color);\n\n\t// Hide the previous arrow if horizontal looping is disabled\n\tif (!getOptions().loopHorizontal) {\n\t\tutils.addClass(prevArrow, SLIDES_ARROW_HIDDEN_SEL);\n\t}\n}", "CodeBleu_score": 31.164564603382395}, {"code": "export function createSlideArrows(section){\n\t", "CodeBleu_score": 0.28362697624612665}]}
{"instance_id": "09898985b216", "generation_result": [{"code": "function slideArrowHandler(){\n\t\tvar closestSection = utils.closest(this, SECTION_SEL);\n\tvar isPrev = utils.hasClass(this, SLIDES_PREV);\n\tvar isScrollAllowed = getIsScrollAllowed();\n\tvar state = getState();\n\n\tif (isPrev && state.currentSlide > 0 && isScrollAllowed.left) {\n\t\tsetState({\n\t\t\tcurrentSlide: state.currentSlide - 1,\n\t\t\tcurrentSection: closestSection\n\t\t});\n\t\tEventEmitter.trigger(events.moveSlideLeft, {\n\t\t\tcurrentSlide: state.currentSlide,\n\t\t\tcurrentSection: closestSection\n\t\t});\n\t} else if (state.currentSlide < state.totalSlides - 1 && isScrollAllowed.right) {\n\t\tsetState({\n\t\t\tcurrentSlide: state.currentSlide + 1,\n\t\t\tcurrentSection: closestSection\n\t\t});\n\t\tEventEmitter.trigger(events.moveSlideRight, {\n\t\t\tcurrentSlide: state.currentSlide,\n\t\t\tcurrentSection: closestSection\n\t\t});\n\t}\n}", "CodeBleu_score": 37.758588413067486}, {"code": "function slideArrowHandler(){\n\t\tvar target = this;\n\tvar section = utils.closest(target, SECTION_SEL);\n\tvar index = utils.getIndex(section);\n\tvar options = getOptions();\n\tvar isScrollAllowed = getIsScrollAllowed();\n\n\tif (utils.hasClass(target, SLIDES_PREV)) {\n\t\tif (isScrollAllowed.left) {\n\t\t\tsetState(index - 1, options);\n\t\t\tEventEmitter.emit(events.moveSlideLeft, {\n\t\t\t\tindex: index - 1\n\t\t\t});\n\t\t}\n\t} else if (isScrollAllowed.right) {\n\t\tsetState(index + 1, options);\n\t\tEventEmitter.emit(events.moveSlideRight, {\n\t\t\tindex: index + 1\n\t\t});\n\t}\n}", "CodeBleu_score": 34.77440777274739}, {"code": "function slideArrowHandler(){\n\t\tvar _this = this;\n\n\tvar closestSection = utils.closest(this, SECTION_SEL);\n\tvar isPrev = utils.hasClass(this, SLIDES_PREV);\n\tvar isNext = utils.hasClass(this, SLIDES_NEXT);\n\tvar isScrollAllowed = getIsScrollAllowed(closestSection);\n\n\tif (isPrev && isScrollAllowed.left) {\n\t\tsetState(closestSection, {\n\t\t\tisScrolling: true,\n\t\t\tisPrev: true,\n\t\t\tisNext: false\n\t\t});\n\t\tEventEmitter.emit(events.moveSlideLeft, {\n\t\t\tclosestSection: closestSection\n\t\t});\n\t} else if (isNext && isScrollAllowed.right) {\n\t\tsetState(closestSection, {\n\t\t\tisScrolling: true,\n\t\t\tisPrev: false,\n\t\t\tisNext: true\n\t\t});\n\t\tEventEmitter.emit(events.moveSlideRight, {\n\t\t\tclosestSection: closestSection\n\t\t});\n\t}\n}", "CodeBleu_score": 37.97327133241406}]}
{"instance_id": "69ef3030fb15", "generation_result": [{"code": "export function addSlidesNavigation(section){\n\tvar slides = section.slides;\n\tvar slidesNav = utils.$(SLIDES_NAV_SEL, section.element);\n\n\tif (slidesNav.length === 0) {\n\t\tvar navContainer = utils.createElement('div', SLIDES_NAV_SEL.slice(1));\n\t\tnavContainer.className = utils.classPrefix(SLIDES_NAV_SEL.slice(1));\n\t\tsection.element.appendChild(navContainer);\n\n\t\tslidesNav = utils.$(SLIDES_NAV_SEL, section.element);\n\t}\n\n\t// remove all existing bullets\n\tutils.$(SLIDE_SEL, slidesNav).forEach(utils.removeElement);\n\n\t// add bullets for each slide\n\tslides.forEach(function(slide) {\n\t\tvar bullet = utils.createElement('li', SLIDE_SEL.slice(1));\n\t\tvar link = utils.createElement('a', 'bullet');\n\t\tvar bulletLinkName = getBulletLinkName(slide);\n\n\t\tlink.setAttribute('href', '#'+bulletLinkName);\n\t\tlink.setAttribute('data-slide-index', utils.index(slide.element));\n\t\tbullet.appendChild(link);\n\n\t\tslidesNav.appendChild(bullet);\n\t});\n\n\t// center navigation\n\tutils.addClass(slidesNav, 'centered');\n\n\t// highlight active bullet\n\tactiveSlidesNavigation(slidesNav, section.activeSlide);\n\n\t// add event listeners to bullets\n\tutils.$(SLIDE_SEL, slidesNav).forEach(function(bullet) {\n\t\tbullet.addEventListener('click', slideBulletHandler);\n\t});\n}", "CodeBleu_score": 33.09491117051909}, {"code": "export function addSlidesNavigation(section){\n\tvar slides = section.slides;\n\tvar slidesNav = utils.create('ul', SLIDES_NAV_SEL);\n\tvar slideIndex = 0;\n\n\t// add navigation bullets\n\tslides.forEach(function (slide) {\n\t\tvar slideNav = utils.create('li', SLIDE_SEL);\n\t\tvar slideLink = utils.create('a', getBulletLinkName(slideIndex));\n\n\t\tslideLink.href = '#';\n\t\tslideLink.title = slide.title;\n\n\t\tslideLink.addEventListener('click', slideBulletHandler, false);\n\n\t\tslideNav.appendChild(slideLink);\n\t\tslidesNav.appendChild(slideNav);\n\t\tslideIndex++;\n\t});\n\n\t// add navigation to section\n\tsection.element.appendChild(slidesNav);\n\n\t// center the navigation\n\tutils.addClass(slidesNav, 'centered');\n\n\t// highlight the active slide\n\tactiveSlidesNavigation(slidesNav, section.activeSlide);\n}", "CodeBleu_score": 26.446906494994327}, {"code": "export function addSlidesNavigation(section){\n\t", "CodeBleu_score": 0.2614893410616341}]}
{"instance_id": "d86cd1fd918a", "generation_result": [{"code": "function menuItemsHandler(e){\n\t (typeof e!== 'undefined') {\n\t\te.preventDefault();\n\t}\n\n\tvar menu = getOptions().menu;\n\tvar menuAnchor = closest(this, menu +'[data-menuanchor]');\n\tvar menuItem = closest(this, menu +'[data-menuanchor] a');\n\tvar menuItemAnchor = menuItem.getAttribute('href');\n\tvar menuItemAnchorId = menuItemAnchor.substring(menuItemAnchor.indexOf('#') + 1);\n\n\tif (menuAnchor && menuItemAnchor) {\n\t\tsetState('menu', true);\n\n\t\tif (typeof getOptions().lockAnchors === 'undefined' || getOptions().lockAnchors === false) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof getOptions().onMenuClick === 'function') {\n\t\t\tgetOptions().onMenuClick.call(this, menuItemAnchor, menuItemAnchorId);\n\t\t}\n\n\t\tEventEmitter.emit(events.onMenuClick, menuItemAnchor, menuItemAnchorId);\n\t}\n}", "CodeBleu_score": 37.37785635245322}, {"code": "function menuItemsHandler(e){\n\tPrevent default event behavior\n\te.preventDefault();\n\t//Set trigger state to menu\n\tsetState('trigger','menu');\n\t//If the menu exists and anchors are locked or not defined\n\tif (getOptions().menu && getOptions().lockAnchors) {\n\t\t//Prevent default event behavior\n\t\te.preventDefault();\n\t\t//Emit event\n\t\tEventEmitter.emit(events.onMenuClick, {\n\t\t\tanchor: closest(this, getOptions().menu +'[data-menuanchor]').getAttribute('data-menuanchor')\n\t\t});\n\t}\n}", "CodeBleu_score": 31.928213231936}, {"code": "function menuItemsHandler(e){\n\tr menuItem = closest(this, getOptions().menu +'[data-menuanchor]');\n\tvar menuItemAnchor = menuItem.getAttribute('data-menuanchor');\n\n\tif (menuItemAnchor) {\n\t\te.preventDefault();\n\t\tsetState('menu', menuItemAnchor);\n\t\tEventEmitter.emit(events.onMenuClick, {\n\t\t\tanchor: menuItemAnchor\n\t\t});\n\t}\n}", "CodeBleu_score": 34.39786516553034}]}
{"instance_id": "19fb16a46144", "generation_result": [{"code": "export function setScrolling(element, val){\n\tar options = getOptions();\n\tvar top = val;\n\tvar left = val;\n\n\t//top property animation\n\tif (options.autoScrolling &&!options.scrollBar) {\n\t\ttop = -val;\n\t\telement = utils.$(WRAPPER_SEL)[0];\n\t}\n\n\t//window real scrolling\n\telse {\n\t\ttop = val;\n\t\telement = window;\n\t}\n\n\tif (element === window) {\n\t\twindow.scrollTo(left, top);\n\t} else if (element.classList.contains(SLIDES_WRAPPER)) {\n\t\telement.scrollLeft = left;\n\t} else {\n\t\telement.scrollTop = top;\n\t}\n}", "CodeBleu_score": 41.85410222868838}, {"code": "export function setScrolling(element, val){\n\tf (element!== window &&!element.classList.contains(SLIDES_WRAPPER)) {\n\t\tif (element.classList.contains(NO_TRANSITION)) {\n\t\t\telement.style.top = val + 'px';\n\t\t} else {\n\t\t\telement.scrollLeft = val;\n\t\t}\n\t} else {\n\t\twindow.scrollTo(0, val);\n\t}\n}", "CodeBleu_score": 36.44812598489771}, {"code": "export function setScrolling(element, val){\n\t", "CodeBleu_score": 0.5519527822025224}]}
{"instance_id": "09a10e1f1af9", "generation_result": [{"code": "function activateMenuElement(name){\n\t\tconst options = getOptions();\n\tconst menu = options.menu;\n\tconst menuItems = menu.items;\n\tif (menuItems) {\n\t\tmenuItems.forEach(item => {\n\t\t\tconst anchor = item.anchor;\n\t\t\tconst anchorEl = document.querySelector(`[data-menuanchor='${anchor}']`);\n\t\t\tif (anchorEl) {\n\t\t\t\tanchorEl.classList.remove(ACTIVE);\n\t\t\t\tif (anchor === name) {\n\t\t\t\t\tanchorEl.classList.add(ACTIVE);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}", "CodeBleu_score": 26.70444782517567}, {"code": "function activateMenuElement(name){\n\t\tif (getOptions().menu) {\n\t\tconst menuElements = document.querySelectorAll(ACTIVE);\n\t\tmenuElements.forEach(element => {\n\t\t\telement.classList.remove(ACTIVE);\n\t\t});\n\t\tconst activeElement = document.querySelector(ACTIVE_SEL.replace('NAME', name));\n\t\tif (activeElement) {\n\t\t\tactiveElement.classList.add(ACTIVE);\n\t\t}\n\t}\n}", "CodeBleu_score": 31.061271741228964}, {"code": "function activateMenuElement(name){\n\t\tconst options = getOptions();\n\tif (options && options.length) {\n\t\toptions.forEach(option => {\n\t\t\tconst menu = document.querySelector(option.menuSelector);\n\t\t\tif (menu) {\n\t\t\t\tmenu.querySelectorAll(ACTIVE_SEL).forEach(element => element.classList.remove(ACTIVE));\n\t\t\t\tmenu.querySelector(`[data-menuanchor=\"${name}\"]`).classList.add(ACTIVE);\n\t\t\t}\n\t\t});\n\t}\n}", "CodeBleu_score": 31.10008510229456}]}
{"instance_id": "4556a956fd7c", "generation_result": [{"code": "export function lazyLoadOthers(){\n\t\tif (!state.lazyLoad ||!state.lazyLoadOthers) {\n\t\treturn;\n\t}\n\n\tconst options = getOptions();\n\tconst sections = Array.from(document.querySelectorAll(SECTION_SEL));\n\tconst autoHeightSections = Array.from(document.querySelectorAll(AUTO_HEIGHT_SEL));\n\tconst autoHeightResponsiveSections = Array.from(document.querySelectorAll(AUTO_HEIGHT_RESPONSIVE_SEL));\n\tconst activeSection = document.querySelector(ACTIVE_SEL);\n\n\tif (options.lazyLoadOthers === 'auto' && (autoHeightSections.length > 0 || autoHeightResponsiveSections.length > 0)) {\n\t\tlazyLoad(autoHeightSections, autoHeightResponsiveSections, activeSection);\n\t} else if (options.lazyLoadOthers === 'auto' && isResponsiveMode()) {\n\t\tlazyLoad(autoHeightResponsiveSections, autoHeightResponsiveSections, activeSection);\n\t} else if (options.lazyLoadOthers === 'auto' && sections.length > 1) {\n\t\tlazyLoad(sections, sections, activeSection);\n\t}\n}", "CodeBleu_score": 32.695757817800484}, {"code": "export function lazyLoadOthers(){\n\t\tconst options = getOptions();\n\n\tif (!options.lazyLoad ||!state.lazyLoadOthers) {\n\t\treturn;\n\t}\n\n\tconst activeSection = state.activeSection;\n\tconst activeSectionIndex = activeSection? activeSection.index : null;\n\tconst activeSectionHeight = activeSection? activeSection.height : null;\n\tconst activeSectionOffset = activeSection? activeSection.offset : null;\n\n\tconst autoHeightSections = document.querySelectorAll(AUTO_HEIGHT_SEL);\n\tconst autoHeightResponsiveSections = document.querySelectorAll(AUTO_HEIGHT_RESPONSIVE_SEL);\n\tconst sections = document.querySelectorAll(SECTION_SEL);\n\n\tif (autoHeightSections.length > 0 || (isResponsiveMode() && autoHeightResponsiveSections.length > 0)) {\n\t\tsections.forEach((section) => {\n\t\t\tconst index = utils.getIndex(section);\n\t\t\tconst height = utils.getHeight(section);\n\t\t\tconst offset = utils.getOffset(section);\n\n\t\t\tif (index!== activeSectionIndex && offset <= activeSectionOffset + activeSectionHeight && offset + height >= activeSectionOffset) {\n\t\t\t\tlazyLoad(section);\n\t\t\t}\n\t\t});\n\t}\n}", "CodeBleu_score": 32.531661686100435}, {"code": "export function lazyLoadOthers(){\n\t\tconst { lazyLoad } = getOptions();\n\tif (!lazyLoad ||!state.lazyLoadOthers) {\n\t\treturn;\n\t}\n\n\tconst autoHeightSections = utils.get(document.querySelectorAll(AUTO_HEIGHT_SEL));\n\tconst responsiveAutoHeightSections = utils.get(document.querySelectorAll(AUTO_HEIGHT_RESPONSIVE_SEL));\n\n\tif (autoHeightSections.length || responsiveAutoHeightSections.length) {\n\t\tconst activeSection = utils.get(document.querySelector(SECTION_SEL + ACTIVE_SEL));\n\t\tconst activeSectionIndex = autoHeightSections.indexOf(activeSection);\n\t\tconst responsiveActiveSectionIndex = responsiveAutoHeightSections.indexOf(activeSection);\n\n\t\tif (isResponsiveMode()) {\n\t\t\t// responsive mode\n\t\t\tconst viewportSections = utils.get(document.querySelectorAll(SECTION_SEL + ACTIVE_SEL + ':not(.lazyloaded)'));\n\t\t\tfor (let i = 0; i < responsiveAutoHeightSections.length; i++) {\n\t\t\t\tconst section = responsiveAutoHeightSections[i];\n\t\t\t\tconst sectionIndex = responsiveAutoHeightSections.indexOf(section);\n\n\t\t\t\tif (sectionIndex === responsiveActiveSectionIndex) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (viewportSections.indexOf(section)!== -1) {\n\t\t\t\t\tlazyLoad(section);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// non-responsive mode\n\t\t\tconst viewportSections = utils.get(document.querySelectorAll(SECTION_SEL + ACTIVE_SEL + ':not(.lazyloaded)'));\n\t\t\tfor (let i = 0; i < autoHeightSections.length; i++) {\n\t\t\t\tconst section = autoHeightSections[i];\n\t\t\t\tconst sectionIndex = autoHeightSections.indexOf(section);\n\n\t\t\t\tif (sectionIndex === activeSectionIndex) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (viewportSections.indexOf(section)!== -1) {\n\t\t\t\t\tlazyLoad(section);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 29.23568975570543}]}
{"instance_id": "a4324e094376", "generation_result": [{"code": "function keepSlidesPosition(){\n\t\tvar slides = utils.findAll(SECTION_SEL);\n\n\tslides.forEach(function (slide) {\n\t\tsilentLandscapeScroll(slide, 'internal');\n\t});\n}", "CodeBleu_score": 31.35759948495923}, {"code": "function keepSlidesPosition(){\n\t\tconst activeSlides = utils.findAll(SECTION_SEL);\n\n\tfor (let i = 0; i < activeSlides.length; i++) {\n\t\tconst activeSlide = activeSlides[i];\n\n\t\tsilentLandscapeScroll(activeSlide, 'internal');\n\t}\n}", "CodeBleu_score": 44.29674396636363}, {"code": "function keepSlidesPosition(){\n\t\tconst activeSlides = utils.selectAll(SLIDE_ACTIVE_SEL);\n\tactiveSlides.forEach(slide => {\n\t\tsilentLandscapeScroll(slide, 'internal');\n\t});\n}", "CodeBleu_score": 33.8419856549306}]}
{"instance_id": "9eb664182655", "generation_result": [{"code": "export function updateStructuralState(){\n\t\n\n    const container = getContainer();\n\n\n    const sectionItems = container.querySelectorAll(state.selectors.section);\n\n\n    const visibleSectionItems = Array.prototype.filter.call(sectionItems, function(sectionItem){\n\n        return sectionItem.offsetWidth > 0;\n\n    });\n\n\n    state.sections = visibleSectionItems.map(function(sectionItem){\n\n        const panel = getPanelByElement(sectionItem);\n\n        const section = new SectionPanel(panel);\n\n        return section;\n\n    });\n\n\n    state.slides = state.sections.reduce(function(slides, section){\n\n        return slides.concat(section.slides);\n\n    }, []);\n\n\n    state.numberOfSections = state.sections.length;\n\n    state.numberOfSlides = state.slides.length;\n\n\n    state.activeSectionIndex = state.sections.findIndex(function(section){\n\n        return section.isActive;\n\n    });\n\n\n    state.activeSlideIndex = state.slides.findIndex(function(slide){\n\n        return slide.isActive;\n\n    });\n\n\n    if(g_prevActiveSectionIndex!== state.activeSectionIndex){\n\n        g_prevActiveSectionIndex = state.activeSectionIndex;\n\n        setVariableState('activeSectionIndex', state.activeSectionIndex);\n\n    }\n\n    if(g_prevActiveSlideIndex!== state.activeSlideIndex){\n\n        g_prevActiveSlideIndex = state.activeSlideIndex;\n\n        setVariableState('activeSlideIndex', state.activeSlideIndex);\n\n    }\n\n}", "CodeBleu_score": 35.75501248676537}, {"code": "export function updateStructuralState(){\n\t", "CodeBleu_score": 0.27397006286914616}, {"code": "export function updateStructuralState(){\n\t", "CodeBleu_score": 0.27397006286914616}]}
{"instance_id": "2b3c1077db45", "generation_result": [{"code": "function performHorizontalMove(slides, v, fireCallback){\n\t/setting the scroll position\n\tvar destinyPos = v.destinyPos.left;\n\n    var slidesContainer = utils.$(SLIDES_CONTAINER_SEL, slides);\n\n    var section = v.section;\n    var sectionIndex = v.sectionIndex;\n    var slidesNav = v.slidesNav;\n    var slideIndex = v.slideIndex;\n    var slideAnchor = v.slideAnchor;\n    var anchorLink = v.anchorLink;\n    var prevSlide = v.prevSlide;\n    var prevSlideIndex = v.prevSlideIndex;\n    var direction = v.direction;\n\n    //if the site is not just resizing and readjusting the slides\n    if(!v.localIsResizing && direction!=='none'){\n        //if the site is not just resizing and readjusting the slides\n        if(!v.localIsResizing && direction!=='none'){\n            if(utils.isFunction( getOptions().onSlideLeave )){\n                if( fireCallback('onSlideLeave', v) === false){\n                    setState({slideMoving: false});\n                    return;\n                }\n            }\n        }\n    }\n\n    utils.addClass(destiny, ACTIVE);\n    utils.removeClass(utils.siblings(destiny), ACTIVE);\n    updateState();\n\n    if(!v.localIsResizing){\n        stopMedia(v.prevSlide);\n        lazyLoad(destiny);\n    }\n\n    toggleControlArrows(v);\n\n    //only changing the URL if the slides are in the current section (not for resize re-adjusting)\n    if(section.isActive &&!v.localIsResizing){\n        setPageStatus(v.slideIndex, v.slideAnchor, v.anchorLink);\n    }\n\n    EventEmitter.emit(events.onSlideLeave, v);\n\n    performHorizontalMove(slides, v, true);\n}", "CodeBleu_score": 39.36937293024757}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\tar section = v.section;\n\n    //updating the slide navigation\n    activeSlidesNavigation(v.slidesNav, v.slideIndex);\n\n    //setting the scroll position\n    var scrollPos = v.destinyPos.left;\n    if (FP.css3) {\n        var slidesContainer = utils.$(SLIDES_CONTAINER_SEL, section)[0];\n        var transforms = getTransforms(v.xMovement, scrollPos);\n        addAnimation(slidesContainer, transforms);\n        if (fireCallback) {\n            g_afterSlideLoadsId = setTimeout(function () {\n                performHorizontalMoveCallback(v);\n            }, 300);\n        }\n    } else {\n        scrollTo(slides, scrollPos);\n        if (fireCallback) {\n            performHorizontalMoveCallback(v);\n        }\n    }\n}", "CodeBleu_score": 37.94813676375192}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\tar container = utils.$(SLIDES_CONTAINER_SEL, slides)[0];\n\tvar transform = getTransforms(container);\n\tvar containerStyle = container.style;\n\tvar slidesNav = v.slidesNav;\n\n    var slideWidth = slides.offsetWidth;\n\n    //if the site is not just resizing and readjusting the slides\n    if(!v.localIsResizing && v.xMovement!=='none'){\n        //if the site is not just resizing and readjusting the slides\n        if(!v.localIsResizing && v.xMovement!=='none'){\n            if(utils.isFunction( getOptions().onSlideLeave )){\n                if( fireCallback('onSlideLeave', v) === false){\n                    setState({slideMoving: false});\n                    return;\n                }\n            }\n        }\n    }\n\n    if(utils.isFunction( getOptions().onSlideLeave )){\n        if( fireCallback('onSlideLeave', v) === false){\n            setState({slideMoving: false});\n            return;\n        }\n    }\n\n    utils.addClass(destiny, ACTIVE);\n    utils.removeClass(utils.siblings(destiny), ACTIVE);\n    updateState();\n\n    if(!v.localIsResizing){\n        stopMedia(v.prevSlide);\n        lazyLoad(destiny);\n    }\n\n    toggleControlArrows(v);\n\n    //only changing the URL if the slides are in the current section (not for resize re-adjusting)\n    if(section.isActive &&!v.localIsResizing){\n        setPageStatus(v.slideIndex, v.slideAnchor, v.anchorLink);\n    }\n\n    EventEmitter.emit(events.onSlideLeave, v);\n\n    performHorizontalMove(slides, v, true);\n}", "CodeBleu_score": 39.33568667223219}]}
{"instance_id": "82491a251576", "generation_result": [{"code": "buildLink (name: string, params: Record<string, any>): string{\n\t", "CodeBleu_score": 7.514664424714029}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\t = this.getUrlByName(name)\nconst paramKeys = Object.keys(params)\nconst paramValues = paramKeys.map(key => params[key])\nconst queryString = paramKeys.map((key, index) => {\nreturn `${key}=${paramValues[index]}`\n}).join('&')\nreturn `${url}?${queryString}`\n}", "CodeBleu_score": 35.46939533650087}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\tavigation }", "CodeBleu_score": 7.615973352605739}]}
{"instance_id": "89f175570176", "generation_result": [{"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\tect = shouldBeObject(options)\nif (!isObject.res) {\nconst res = { errMsg: `showLoading${isObject.msg}` }\nconsole.error(res.errMsg)\nreturn Promise.reject(res)\n}\n\nlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\nconst res = { errMsg:'showLoading:ok' }\n\nconst maskStyle = mask? styles.container : styles.noMaskContainer\n\ntry {\n// setTimeout fires incorrectly when using chrome debug #4470\n// https://github.com/facebook/react-native/issues/4470\nglobalAny.wxToastRootSiblings && globalAny.wxToastRootSiblings.destroy()\n\nglobalAny.wxToastRootSiblings = new RootSiblings(<WXLoading title={title} mask={mask} />)\nsetTimeout(() => {\nglobalAny.wxToastRootSiblings && globalAny.wxToastRootSiblings.update(<WXLoading title={title} mask={mask} />)\n}, 100)\nreturn successHandler(success, complete)(res)\n} catch (e) {\nres.errMsg = `showLoading:fail invalid ${e}`\nreturn errorHandler(fail, complete)(res)\n}\n}", "CodeBleu_score": 48.199098409785734}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\tect = shouldBeObject(options)\nif (!isObject.res) {\nconst res = { errMsg: `showLoading${isObject.msg}` }\nconsole.error(res.errMsg)\nreturn Promise.reject(res)\n}\n\nlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\nreturn showToast({\ntitle,\nicon: 'loading',\nduration: 0,\nmask,\nsuccess,\nfail,\ncomplete\n})\n}", "CodeBleu_score": 64.79499760679627}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\tject = shouldBeObject(options)\n\tif (!isObject.res) {\n\t\tconst res = { errMsg: `showLoading${isObject.msg}` }\n\t\tconsole.error(res.errMsg)\n\t\treturn Promise.reject(res)\n\t}\n\n\tlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\n\tconst res = { errMsg:'showLoading:ok' }\n\n\tconst maskStyle = mask? styles.container : styles.noMaskContainer\n\n\tconst ToastView = <View style={maskStyle}>\n\t\t<View style={styles.grayBlock}>\n\t\t\t<ActivityIndicator\n\t\t\t\tanimating\n\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\tsize='small'\n\t\t\t\tcolor='#eee'\n\t\t\t/>\n\t\t\t<Text style={{\n\t\t\t\tpaddingTop: 10,\n\t\t\t\tposition: 'absolute',\n\t\t\t\tbottom: '15%',\n\t\t\t\tcolor: 'white',\n\t\t\t\tfontSize: 15\n\t\t\t}}\n\t\t\t>{title}</Text>\n\t\t</View>\n\t</View>\n\n\ttry {\n\t\t// setTimeout fires incorrectly when using chrome debug #4470\n\t\t// https://github.com/facebook/react-native/issues/4470\n\t\tglobalAny.wxLoadingRootSiblings && globalAny.wxLoadingRootSiblings.destroy()\n\n\t\tglobalAny.wxLoadingRootSiblings = new RootSiblings(ToastView)\n\t\tsetTimeout(() => {\n\t\t\tglobalAny.wxLoadingRootSiblings && globalAny.wxLoadingRootSiblings.update(ToastView)\n\t\t}, 100)\n\t\treturn successHandler(success, complete)(res)\n\t} catch (e) {\n\t\tres.errMsg = `showLoading:fail invalid ${e}`\n\t\treturn errorHandler(fail, complete)(res)\n\t}\n}", "CodeBleu_score": 45.721511317406375}]}
{"instance_id": "7d41757a0645", "generation_result": [{"code": "export function HomepageTweets(){\n\tst formattedDate = new Date(date).toLocaleDateString(undefined, {\n  year: 'numeric',\n  month:'short',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  hour12: true,\n});\n\nreturn (\n  <div className=\"card-demo col col--4 margin-vert--sm\">\n    <div className=\"card\">\n      <div className=\"card__header\">\n        <div className=\"avatar\">\n          <img\n            className=\"avatar__photo\"\n            src={`https://unavatar.io/${user}`}\n            alt={`${name}'s avatar`}\n            loading=\"lazy\"\n          />\n          <div className=\"avatar__intro\">\n            <div className=\"avatar__name\">{name}</div>\n            <small className=\"avatar__subtitle\">@{user}</small>\n          </div>\n        </div>\n      </div>\n      <div className=\"card__body\">{tweet}</div>\n      <time className=\"card__footer\">\n        <a\n          href={`https://twitter.com/${user}/status/${id}`}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {formattedDate}\n        </a>\n      </time>\n    </div>\n  </div>\n);\n}", "CodeBleu_score": 41.36265131694056}, {"code": "export function HomepageTweets(){\n\turn (\n  <div className=\"container\">\n    <h2 className=\"text--center\">Tweets</h2>\n    <div className=\"row\">\n      {TweetList.map((tweet) => (\n        <Tweet key={tweet.id} {...tweet} />\n      ))}\n    </div>\n  </div>\n);\n}", "CodeBleu_score": 63.08328129200833}, {"code": "export function HomepageTweets(){\n\turn (\n<div className=\"container\">\n<h2 className=\"text--center\">\n<span className=\"text--bold\">\nTweets\n</span>\n</h2>\n<div className=\"row margin-vert--xl\">\n{TweetList.map((tweet) => (\n<Tweet key={tweet.id} {...tweet} />\n))}\n</div>\n</div>\n);\n}", "CodeBleu_score": 57.835836248016506}]}
