{"instance_id": "112855ce32e1", "generation_result": [{"code": "handleOpenMarketplace = (): void => {\n\t\tconst modalID: string = 'marketplaceModal';\n\tconst dialogType: string = 'marketplace';\n\tconst dialogProps: object = {\n\t\tsource: 'actions_menu'\n\t};\n\tthis.props.actions.openModal(modalID, dialogType, dialogProps);\n}", "CodeBleu_score": 26.18850487838642}, {"code": "handleOpenMarketplace = (): void => {\n\t\tthis.props.actions.openModal({\n\t\tmodalId: 'Marketplace',\n\t\tdialogType: DialogType.MARKETPLACE,\n\t\tdialogProps: {\n\t\t\tsource: 'actions_menu'\n\t\t}\n\t})\n}", "CodeBleu_score": 16.156420970844447}, {"code": "handleOpenMarketplace = (): void => {\n\t\tconst modalID: string = 'marketplace'\n\tconst dialogType: string = 'marketplace'\n\tconst dialogProps: IMarketplaceDialogProps = {\n\t\tsource: 'actions_menu',\n\t\tonCancel: this.handleCloseMarketplace,\n\t\tonRequestClose: this.handleCloseMarketplace,\n\t}\n\tthis.props.actions.openModal(modalID, dialogType, dialogProps)\n}", "CodeBleu_score": 35.9698496883756}]}
{"instance_id": "421836df0bf0", "generation_result": [{"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst { channelId, teamId, postId, rootId, location } = this.props.context;\nconst context = createCallContext(channelId, teamId, postId, rootId, location);\nconst { call, formatMessage } = this.props.intl;\ntry {\nconst response = await this.props.actions.handleBindingClick(binding, context, formatMessage);\nif (response.type === 'OK') {\nthis.props.actions.postEphemeralCallResponseForPost(postId, rootId, response.message, channelId);\n} else if (response.type === 'NAVIGATE') {\nthis.props.actions.handleSelectPost(response.postId, response.channelId);\n} else if (response.type === 'FORM') {\nthis.props.actions.openAppsModal(binding, context, response.form);\n} else {\nthis.props.actions.postEphemeralCallResponseForPost(postId, rootId, call('apps.error.unsupportedResponseType'), channelId);\n}\n} catch (error) {\nthis.props.actions.postEphemeralCallResponseForPost(postId, rootId, call('apps.error.unexpectedError', { error }), channelId);\n}\n}", "CodeBleu_score": 27.997790240841567}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst context = createCallContext(binding.app_id, this.props.location, this.props.channelId, this.props.currentTeamId, this.props.rootId, this.props.postId);\ntry {\nconst result = await this.props.actions.handleBindingClick(binding, context, this.props.intl);\nswitch (result.type) {\ncase 'OK':\n{\nthis.props.actions.postEphemeralCallResponseForPost(this.props.postId, result.text);\nbreak;\n}\ncase 'NAVIGATE':\n{\nthis.props.actions.selectPost(result.postId);\nbreak;\n}\ncase 'FORM':\n{\nthis.props.actions.openAppsModal(result.app_id, result.modal);\nbreak;\n}\ndefault:\n{\nthis.props.actions.postEphemeralCallResponseForPost(this.props.postId, {\ntype: 'ERROR',\nmessage: 'unhandled_response',\n});\nbreak;\n}\n}\n} catch (error) {\nthis.props.actions.postEphemeralCallResponseForPost(this.props.postId, {\ntype: 'ERROR',\nmessage: error.message,\n});\n}\n}", "CodeBleu_score": 28.22883981688783}, {"code": "onClickAppBinding = async (binding: AppBinding) =>{\n\tconst {\npostEphemeralCallResponseForPost,\nopenAppsModal,\nhandleBindingClick,\n} = this.props.actions\nconst { formatMessage } = this.props.intl\nconst { location } = window\nconst { teamId, channelId, postId, rootId } = this.props\nconst context = createCallContext(teamId, channelId, postId, rootId)\ntry {\nconst response = await handleBindingClick(binding, context, formatMessage)\nif (response.type === 'OK') {\npostEphemeralCallResponseForPost(postId, response.message, location)\n} else if (response.type === 'NAVIGATE') {\nconst { path, replace } = response\nif (replace) {\nwindow.history.replaceState(null, '', path)\n} else {\nwindow.history.pushState(null, '', path)\n}\n} else if (response.type === 'FORM') {\nopenAppsModal(binding, context, response.form)\n} else {\nconsole.error('Unsupported response type', response)\npostEphemeralCallResponseForPost(postId, 'Something went wrong.', location)\n}\n} catch (error) {\nconsole.error('Error handling app binding', error)\npostEphemeralCallResponseForPost(postId, 'Something went wrong.', location)\n}\n}", "CodeBleu_score": 24.784296566688468}]}
{"instance_id": "7b2d58ae93e2", "generation_result": [{"code": "handleDropdownOpened = (open: boolean) =>{\n\t\tconst { dropdownButtonRef, dropdownRef, dropdownHeight } = this.state;\n\n\tconst dropdownButtonRect = dropdownButtonRef.current.getBoundingClientRect();\n\tconst dropdownRect = dropdownRef.current.getBoundingClientRect();\n\tconst dropdownTop = dropdownButtonRect.top + dropdownButtonRect.height;\n\n\tconst spaceAbove = dropdownTop - window.pageYOffset;\n\tconst spaceBelow = window.innerHeight - dropdownRect.top - dropdownHeight;\n\n\tif (spaceBelow > spaceAbove) {\n\t\tthis.setState({\n\t\t\tdropdownOpened: open,\n\t\t\tdropdownPosition: 'bottom',\n\t\t});\n\t} else {\n\t\tthis.setState({\n\t\t\tdropdownOpened: open,\n\t\t\tdropdownPosition: 'top',\n\t\t});\n\t}\n}", "CodeBleu_score": 26.953203496615508}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\t\tconst { dropdownButtonRef } = this.state;\n\tconst { onDropdownOpened } = this.props;\n\n\tif (onDropdownOpened) {\n\t\tonDropdownOpened(open);\n\t}\n\n\tif (dropdownButtonRef && dropdownButtonRef.current) {\n\t\tconst dropdownButtonRect = dropdownButtonRef.current.getBoundingClientRect();\n\t\tconst dropdownRect = this.dropdownRef.current.getBoundingClientRect();\n\t\tconst dropdownHeight = dropdownRect.height;\n\t\tconst dropdownWidth = dropdownRect.width;\n\t\tconst dropdownTop = dropdownButtonRect.top;\n\t\tconst dropdownLeft = dropdownButtonRect.left;\n\t\tconst dropdownBottom = dropdownTop + dropdownHeight;\n\t\tconst dropdownRight = dropdownLeft + dropdownWidth;\n\n\t\tconst windowHeight = window.innerHeight;\n\t\tconst windowWidth = window.innerWidth;\n\t\tconst windowBottom = windowHeight;\n\t\tconst windowRight = windowWidth;\n\n\t\tconst spaceAbove = dropdownTop;\n\t\tconst spaceBelow = windowBottom - dropdownBottom;\n\n\t\tif (spaceBelow < spaceAbove) {\n\t\t\tthis.setState({\n\t\t\t\tdropdownOpened: true,\n\t\t\t\tdropdownTop: dropdownTop,\n\t\t\t\tdropdownLeft: dropdownLeft,\n\t\t\t\tdropdownBottom: dropdownBottom,\n\t\t\t\tdropdownRight: dropdownRight,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tdropdownOpened: true,\n\t\t\t\tdropdownTop: dropdownTop - dropdownHeight,\n\t\t\t\tdropdownLeft: dropdownLeft,\n\t\t\t\tdropdownBottom: dropdownBottom + dropdownHeight,\n\t\t\t\tdropdownRight: dropdownRight,\n\t\t\t});\n\t\t}\n\t}\n}", "CodeBleu_score": 27.253097926859958}, {"code": "handleDropdownOpened = (open: boolean) =>{\n\t", "CodeBleu_score": 1.3042659724936567}]}
{"instance_id": "024f57c26061", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t", "CodeBleu_score": 2.650419818647503}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t", "CodeBleu_score": 2.650419818647503}, {"code": "function mapStateToProps(state: GlobalState, ownProps: Props){\n\t", "CodeBleu_score": 2.650419818647503}]}
{"instance_id": "ae0a07f4dbea", "generation_result": [{"code": "export default function DeviceIcon(props: Props){\n\t\tconst intl = useIntl();\n\tconst title = typeof props.deviceTitle === 'object' ? intl.formatMessage(props.deviceTitle) : props.deviceTitle;\n\treturn (\n\t\t<span className={props.devicePicture} title={title} />\n\t);\n}", "CodeBleu_score": 51.37207037108429}, {"code": "export default function DeviceIcon(props: Props){\n\t\tconst intl = useIntl();\n\tconst title = typeof props.deviceTitle === 'string' ? props.deviceTitle : intl.formatMessage(props.deviceTitle);\n\treturn (\n\t\t<div className={props.devicePicture} title={title} />\n\t);\n}", "CodeBleu_score": 48.89271153846454}, {"code": "export default function DeviceIcon(props: Props){\n\t\tconst intl = useIntl();\n\tconst { devicePicture, deviceTitle } = props;\n\tconst title = typeof deviceTitle === \"string\" ? deviceTitle : intl.formatMessage(deviceTitle);\n\treturn <Icon className={devicePicture} title={title} />;\n}", "CodeBleu_score": 38.047517256234144}]}
{"instance_id": "e0a805402908", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\t", "CodeBleu_score": 2.903264117599194}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\t\tconst searchTerm = getSearchTerm(state);\n\tconst channel = getCurrentChannel(state);\n\tconst teamId = getCurrentTeamId(state);\n\tconst groups = getGroupsNotAssociatedToChannel(state, channel.id);\n\tconst groupIds = groups.map((group) => group.id);\n\tconst groupProfiles = getGroupProfilesForGroupIds(state, groupIds);\n\tconst groupChannels = getGroupChannelsForGroupIds(state, groupIds);\n\tconst groupChannelIds = groupChannels.map((groupChannel) => groupChannel.id);\n\tconst groupChannelMembers = getGroupChannelMembersForGroupChannelIds(state, groupChannelIds);\n\tconst groupChannelProfiles = getGroupChannelProfilesForGroupChannelIds(state, groupChannelIds);\n\n\treturn {\n\t\t...ownProps,\n\t\tchannel,\n\t\tsearchTerm,\n\t\tgroups,\n\t\tgroupProfiles,\n\t\tgroupChannels,\n\t\tgroupChannelMembers,\n\t\tgroupChannelProfiles,\n\t\tteamId,\n\t};\n}", "CodeBleu_score": 36.352883207146135}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps) {\n\t\tconst {currentChannelId, currentTeamId} = ownProps;\n\tconst {entities} = state;\n\tconst groups = entities.groups.groups;\n\tconst channels = entities.channels.channels;\n\tconst currentChannel = channels[currentChannelId];\n\tconst currentTeam = entities.teams.teams[currentTeamId];\n\tconst {searchTerm} = state.views.search;\n\n\tlet filteredGroups = [];\n\tif (searchTerm) {\n\t\tfilteredGroups = filterGroups(searchTerm, groups);\n\t} else {\n\t\tfilteredGroups = Object.values(groups);\n\t}\n\n\treturn {\n\t\tcurrentChannelId,\n\t\tcurrentTeamId,\n\t\tcurrentChannel,\n\t\tcurrentTeam,\n\t\tsearchTerm,\n\t\tfilteredGroups,\n\t};\n}", "CodeBleu_score": 32.518591370052555}]}
{"instance_id": "a3412b1c0762", "generation_result": [{"code": "componentDidUpdate(prevProps: Props){\n\tif (this.props.currentChannelId !== prevProps.currentChannelId) {\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId);\n}\n\nif (this.props.searchTerm !== prevProps.searchTerm) {\nclearTimeout(this.searchTimeout);\nthis.searchTimeout = setTimeout(() => {\nthis.props.actions.setGroupsLoadingState(true);\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId);\nthis.props.actions.setGroupsLoadingState(false);\n}, 300);\n}\n}", "CodeBleu_score": 31.476767351686075}, {"code": "componentDidUpdate(prevProps: Props){\n\tif (prevProps.currentChannelId !== this.props.currentChannelId) {\nthis.setGroupsLoadingState(true);\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId).then(() => {\nthis.setGroupsLoadingState(false);\n});\n}\n\nif (prevProps.searchTerm !== this.props.searchTerm) {\nclearTimeout(this.searchTimeout);\nthis.searchTimeout = setTimeout(() => {\nif (this.props.searchTerm === '') {\nreturn;\n}\n\nthis.setGroupsLoadingState(true);\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, this.props.searchTerm).then(() => {\nthis.setGroupsLoadingState(false);\n});\n}, DEBOUNCE_TIME);\n}\n}", "CodeBleu_score": 36.86428076866343}, {"code": "componentDidUpdate(prevProps: Props){\n\tif (this.props.searchTerm !== prevProps.searchTerm) {\nclearTimeout(this.searchTimeout);\nthis.searchTimeout = setTimeout(() => {\nthis.props.actions.setGroupsLoadingState(true);\nthis.props.actions.getGroupsNotAssociatedToChannel(this.props.channelId, this.props.searchTerm);\nthis.props.actions.setGroupsLoadingState(false);\n}, 500);\n}\n}", "CodeBleu_score": 25.944936482678067}]}
{"instance_id": "0f47faf97411", "generation_result": [{"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\t\tconst {currentChannelId} = state.entities.channels;\n\tconst currentChannel = state.entities.channels.byId[currentChannelId];\n\tconst {searchTerm} = state.entities.search;\n\tconst {excludePreferences} = state.entities.preferences;\n\tconst {groupMentions} = state.entities.preferences;\n\tconst {groupConstrained} = state.entities.preferences;\n\n\tconst excludedGroups = excludePreferences.split(',');\n\tconst groupConstrainedValue = groupConstrained === 'true';\n\n\tconst filteredGroups = getFilteredGroups(state, searchTerm, excludedGroups, groupConstrainedValue);\n\n\treturn {\n\t\tcurrentChannel,\n\t\tcurrentChannelId,\n\t\tfilteredGroups,\n\t\tgroupConstrainedValue,\n\t\tgroupMentions,\n\t\tsearchTerm,\n\t\texcludePreferences,\n\t};\n}", "CodeBleu_score": 31.621167456372522}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\t\tconst {currentChannelId, searchTerm} = state.entities.search;\n\tconst {channelIds, channels} = state.entities.channels;\n\tconst {groupIds, groups} = state.entities.groups;\n\n\tconst channel = channels[currentChannelId];\n\tconst channelIsArchived = channel ? channel.delete_at !== 0 : false;\n\tconst channelIsGroupOrDirect = channel ? channel.type === General.GM_CHANNEL || channel.type === General.DM_CHANNEL : false;\n\tconst channelIsReadOnly = channel ? channel.type === General.DM_CHANNEL && channel.total_msg_count > 0 : false;\n\tconst channelIsDefault = channel ? channel.is_default === true : false;\n\n\tconst channelGroupIds = channel ? channel.group_constrained ? channel.group_constrained.split(',') : [] : [];\n\tconst channelGroupNames = channelGroupIds.map((id) => groups[id].name);\n\n\tconst groupIdsToShow = groupIds.filter((id) => {\n\t\tconst group = groups[id];\n\t\treturn group.name !== General.DEFAULT_CHANNEL &&\n\t\t\t(channelGroupIds.length === 0 || channelGroupIds.includes(id)) &&\n\t\t\t(!searchTerm || group.name.toLowerCase().includes(searchTerm.toLowerCase()));\n\t});\n\n\treturn {\n\t\tcurrentChannelId,\n\t\tcurrentChannelIsArchived: channelIsArchived,\n\t\tcurrentChannelIsGroupOrDirect: channelIsGroupOrDirect,\n\t\tcurrentChannelIsReadOnly: channelIsReadOnly,\n\t\tcurrentChannelIsDefault: channelIsDefault,\n\t\tcurrentChannelGroupNames: channelGroupNames,\n\t\tgroupIdsToShow,\n\t\tsearchTerm,\n\t\texcludeGroupIds: [],\n\t};\n}", "CodeBleu_score": 28.717816597525758}, {"code": "function mapStateToProps(state: GlobalState, ownProps: OwnProps){\n\t\tconst currentChannel = ownProps.currentChannel;\n\tconst searchTerm = state.entities.search.searchTerm;\n\tconst groups = state.entities.groups.groups;\n\n\tconst filteredGroups = Object.values(groups).filter(group => {\n\t\tif (currentChannel) {\n\t\t\treturn group.name !== currentChannel.name && (group.display_name || '').toLowerCase().includes(searchTerm.toLowerCase());\n\t\t}\n\t\treturn (group.display_name || '').toLowerCase().includes(searchTerm.toLowerCase());\n\t});\n\n\treturn {\n\t\tcurrentChannel,\n\t\tsearchTerm,\n\t\tfilteredGroups,\n\t\texcludeGroup: (group: Group) => dispatch(excludeGroup(group)),\n\t\tincludeGroup: (group: Group) => dispatch(includeGroup(group)),\n\t\tsetSearchTerm: (term: string) => dispatch(setSearchTerm(term)),\n\t\tclose: () => dispatch(closeModal()),\n\t};\n}", "CodeBleu_score": 37.094344298292825}]}
{"instance_id": "923c0c472c01", "generation_result": [{"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\tif (page > prevPage) {\n\t\tthis.setUsersLoadingState(true)\n\t}\n\tconst { groupId, usersPerPage } = this.state\n\tconst skip = (page - 1) * usersPerPage\n\tconst limit = usersPerPage\n\tconst query = groupId ? { groupId } : {}\n\tthis.fetchUsers(query, skip, limit)\n}", "CodeBleu_score": 40.04662019600409}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\tif (page > prevPage) {\n\t\tthis.setUsersLoadingState(true)\n\t\tif (this.props.groupId) {\n\t\t\tthis.fetchGroupUsers(page)\n\t\t} else {\n\t\t\tthis.fetchUsers(page)\n\t\t}\n\t}\n}", "CodeBleu_score": 37.80920506057755}, {"code": "private handlePageChange = (page: number, prevPage: number): void => {\n\t\tif (page > prevPage) {\n\t\tthis.setUsersLoadingState(true)\n\t}\n\tconst { groupId, usersPerPage } = this.state\n\tconst skip = (page - 1) * usersPerPage\n\tconst limit = usersPerPage\n\tthis.fetchUsers(groupId, skip, limit)\n\tthis.setUsersLoadingState(false)\n}", "CodeBleu_score": 43.19668614770528}]}
{"instance_id": "4614bb3319bb", "generation_result": [{"code": "public search = (searchTerm: string): void => {\n\t\tconst trimmedSearchTerm = searchTerm.trim()\n\tthis.props.actions.clearSearchTimeout()\n\tthis.props.actions.setSearchTerm(trimmedSearchTerm)\n\tif (trimmedSearchTerm !== '') {\n\t\tthis.props.actions.setUsersLoadingState(true)\n\t\tthis.props.actions.setSearchTimeout(\n\t\t\tsetTimeout(() => this.props.actions.searchProfiles(trimmedSearchTerm), 500),\n\t\t)\n\t}\n}", "CodeBleu_score": 46.17716240452155}, {"code": "public search = (searchTerm: string): void => {\n\tconst trimmedSearchTerm = searchTerm.trim()\nthis.clearSearchTimeout()\nthis.props.actions.setSearchTerm(trimmedSearchTerm)\nif (trimmedSearchTerm !== '') {\nthis.props.actions.setUsersLoadingState(true)\nthis.searchTimeout = setTimeout(() => {\nthis.props.actions.searchProfiles(trimmedSearchTerm)\nthis.props.actions.setUsersLoadingState(false)\n}, 300)\n}\n}", "CodeBleu_score": 48.201138575270186}, {"code": "public search = (searchTerm: string): void => {\n\t\tconst trimmedSearchTerm = searchTerm.trim();\n\tthis.props.actions.clearSearchTimeout();\n\tthis.props.actions.setSearchTerm(trimmedSearchTerm);\n\n\tif (trimmedSearchTerm) {\n\t\tthis.props.actions.setUsersLoadingState(true);\n\t\tthis.props.actions.setSearchTimeout(\n\t\t\tsetTimeout(\n\t\t\t\t() => this.props.actions.searchProfiles(trimmedSearchTerm),\n\t\t\t\tthis.props.searchDelay,\n\t\t\t),\n\t\t);\n\t}\n}", "CodeBleu_score": 47.81842155364194}]}
{"instance_id": "aeafe2d0ee11", "generation_result": [{"code": "visibleSections = () =>{\n\t", "CodeBleu_score": 0.39278204779788817}, {"code": "visibleSections = () =>{\n\t\tconst result = new Set();\n\tconst sections = getSections();\n\tsections.forEach((section) => {\n\t\tconst sectionItems = section.items;\n\t\tif (sectionItems) {\n\t\t\tsectionItems.forEach((item) => {\n\t\t\t\tconst { schema, title } = item;\n\t\t\t\tif (schema && title) {\n\t\t\t\t\tif (!item.isHidden) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tlicense,\n\t\t\t\t\t\t\tbuildEnterpriseReady,\n\t\t\t\t\t\t\tconsoleAccess,\n\t\t\t\t\t\t\tadminDefinition,\n\t\t\t\t\t\t\tcloud,\n\t\t\t\t\t\t} = item;\n\t\t\t\t\t\tconst isVisible = checkConditions(\n\t\t\t\t\t\t\tlicense,\n\t\t\t\t\t\t\tbuildEnterpriseReady,\n\t\t\t\t\t\t\tconsoleAccess,\n\t\t\t\t\t\t\tadminDefinition,\n\t\t\t\t\t\t\tcloud\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (isVisible) {\n\t\t\t\t\t\t\tresult.add(item.url);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tconst subsections = section.subsections;\n\t\tif (subsections) {\n\t\t\tsubsections.forEach((subsection) => {\n\t\t\t\tconst subsectionItems = subsection.items;\n\t\t\t\tif (subsectionItems) {\n\t\t\t\t\tsubsectionItems.forEach((item) => {\n\t\t\t\t\t\tconst { schema, title } = item;\n\t\t\t\t\t\tif (schema && title) {\n\t\t\t\t\t\t\tif (!item.isHidden) {\n\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\tlicense,\n\t\t\t\t\t\t\t\t\tbuildEnterpriseReady,\n\t\t\t\t\t\t\t\t\tconsoleAccess,\n\t\t\t\t\t\t\t\t\tadminDefinition,\n\t\t\t\t\t\t\t\t\tcloud,\n\t\t\t\t\t\t\t\t} = item;\n\t\t\t\t\t\t\t\tconst isVisible = checkConditions(\n\t\t\t\t\t\t\t\t\tlicense,\n\t\t\t\t\t\t\t\t\tbuildEnterpriseReady,\n\t\t\t\t\t\t\t\t\tconsoleAccess,\n\t\t\t\t\t\t\t\t\tadminDefinition,\n\t\t\t\t\t\t\t\t\tcloud\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (isVisible) {\n\t\t\t\t\t\t\t\t\tresult.add(item.url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn result;\n}", "CodeBleu_score": 27.72466615924476}, {"code": "visibleSections = () =>{\n\t\tconst result = [];\n\tconst sections = Object.values(sectionsMap);\n\tsections.forEach(section => {\n\t\tconst { schema, title, subsections } = section;\n\t\tif (schema && title) {\n\t\t\tconst visibleSubsections = visibleSubsectionsForSection(section);\n\t\t\tif (visibleSubsections.length > 0) {\n\t\t\t\tresult.push({\n\t\t\t\t\ttitle,\n\t\t\t\t\tschema,\n\t\t\t\t\tsubsections: visibleSubsections,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\treturn result;\n}", "CodeBleu_score": 14.013905796109452}]}
{"instance_id": "e869682a1b2c", "generation_result": [{"code": "handleImageChange = () =>{\n\t\tif (this.imageInput.current.files.length > 0) {\n\t\tthis.props.setSaveNeeded(true);\n\t\tthis.setState({\n\t\t\timage: this.imageInput.current.files[0],\n\t\t\tdeleteImage: false\n\t\t});\n\t}\n}", "CodeBleu_score": 15.413884493041982}, {"code": "handleImageChange = () =>{\n\t\tif (this.refs.imageInput.files.length > 0) {\n\t\tthis.props.setSaveNeeded(true);\n\t\tthis.setState({\n\t\t\timage: this.refs.imageInput.files[0],\n\t\t\tdeleteImage: false\n\t\t});\n\t}\n}", "CodeBleu_score": 14.448491040206719}, {"code": "handleImageChange = () =>{\n\t\tconst image = this.refs.image.files[0];\n\tif (image) {\n\t\tthis.props.setSaveNeeded(true);\n\t\tthis.setState({\n\t\t\timage: image,\n\t\t\tdeleteImage: false\n\t\t});\n\t}\n}", "CodeBleu_score": 30.452423726824296}]}
{"instance_id": "8bc13681a6b2", "generation_result": [{"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tif (this.state.channels.find((c) => c.id === channel.id)) {\nreturn;\n}\nthis.setState((prevState) => ({\nchannels: prevState.channels.map((c) => {\nif (c.id === channel.id) {\nreturn { ...c, isMarkedForDeletion: true };\n}\nreturn c;\n}),\n}), () => {\nthis.props.onRemoveCallback(channel.id);\nconst totalCount = this.getVisibleTotalCount();\nconst { page, perPage } = this.getPaginationProps(totalCount);\nif (totalCount - (page * perPage) <= 0) {\nthis.setStatePage(page - 1);\n}\n});\n}", "CodeBleu_score": 32.290103320239815}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\tconst { channels, page, paginationProps, onRemoveCallback } = this.state;\nconst { totalCount } = paginationProps;\nconst { id } = channel;\nif (channels[id].isMarkedForRemoval) {\nreturn;\n}\nconst newChannels = channels;\nnewChannels[id].isMarkedForRemoval = true;\nthis.setState({ channels: newChannels });\nonRemoveCallback(channel);\nif (totalCount > 1 && channels.length === 1) {\nconst newPage = Math.max(1, page - 1);\nthis.setStatePage(newPage);\n}\n}", "CodeBleu_score": 31.5089056085771}, {"code": "private removeChannel = (channel: ChannelWithTeamData) =>{\n\t\tif (channel.markedForRemoval) {\n\t\treturn;\n\t}\n\tconst { page, totalCount } = this.state;\n\tconst { perPage, onRemoveCallback } = this.props;\n\tconst { page_count: pageCount } = this.getPaginationProps({\n\t\ttotal_count: totalCount,\n\t\tper_page: perPage,\n\t});\n\tconst newPage = page;\n\tif (pageCount === 1) {\n\t\tonRemoveCallback(channel);\n\t\treturn;\n\t}\n\tif (pageCount === 2 && page === 2) {\n\t\tnewPage -= 1;\n\t}\n\tthis.setStatePage(newPage);\n\tonRemoveCallback(channel);\n}", "CodeBleu_score": 36.22837803476943}]}
{"instance_id": "ac41454927ac", "generation_result": [{"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\t\tconst { newChannels, removedChannels } = this.state;\n\tconst { teamId } = channel;\n\tconst channelId = channel.id;\n\tif (!removedChannels.find((c) => c.id === channelId)) {\n\t\tthis.setState({\n\t\t\tremovedChannels: [\n\t\t\t\t...removedChannels,\n\t\t\t\t{\n\t\t\t\t\t...channel,\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tinTeam: true,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\tif (newChannels.find((c) => c.id === channelId)) {\n\t\tthis.setState({\n\t\t\tnewChannels: newChannels.filter((c) => c.id !== channelId),\n\t\t});\n\t}\n\tthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 36.389777448466134}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\t\tconst { removedChannels } = this.state;\n\tconst { id } = channel;\n\tconst { id: teamId } = channel.teamData;\n\n\tconst newRemovedChannels = removedChannels.filter((removedChannel) => removedChannel.id !== id && removedChannel.teamId !== teamId);\n\tif (channel.new) {\n\t\tnewRemovedChannels.push(channel);\n\t}\n\n\tthis.setState({\n\t\tremovedChannels: newRemovedChannels,\n\t});\n\n\tthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 30.42666385522314}, {"code": "addToRemovedChannels = (channel: ChannelWithTeamData) => {\n\t\tconst { removedChannels, newChannels } = this.state;\n\n\tconst channelName = channel.name;\n\tconst channelId = channel.id;\n\tconst teamId = channel.team_id;\n\n\tif (newChannels.find(channel => channel.id === channelId)) {\n\t\tthis.setState({\n\t\t\tnewChannels: newChannels.filter(channel => channel.id !== channelId),\n\t\t\tremovedChannels: [\n\t\t\t\t...removedChannels,\n\t\t\t\t{\n\t\t\t\t\tid: channelId,\n\t\t\t\t\tname: channelName,\n\t\t\t\t\tteamId,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t} else {\n\t\tthis.setState({\n\t\t\tremovedChannels: [\n\t\t\t\t...removedChannels,\n\t\t\t\t{\n\t\t\t\t\tid: channelId,\n\t\t\t\t\tname: channelName,\n\t\t\t\t\tteamId,\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t}\n\n\tthis.props.actions.setNavigationBlocked(true);\n}", "CodeBleu_score": 33.47834744587831}]}
{"instance_id": "bdc81f9a884e", "generation_result": [{"code": "private removeTeam = (team: Team) =>{\n\t\tif (this.state.teamsToRemove.indexOf(team) > -1) {\n\t\treturn;\n\t}\n\tthis.setState({\n\t\tteamsToRemove: this.state.teamsToRemove.concat(team),\n\t});\n\tthis.props.onRemoveCallback(this.state.teamsToRemove);\n\tif (this.state.page > 1 && this.state.teamsToRemove.length > 0) {\n\t\tthis.setStatePage(this.state.page - 1);\n\t}\n\tthis.setState({\n\t\tpage: this.state.page,\n\t});\n}", "CodeBleu_score": 19.860892853298264}, {"code": "private removeTeam = (team: Team) =>{\n\tif (this.state.teamsToRemove.indexOf(team) > -1) {\nreturn;\n}\nthis.setState({\nteamsToRemove: [...this.state.teamsToRemove, team],\n});\nthis.props.onRemoveCallback(team);\nconst totalTeams = this.props.teams.length;\nconst totalTeamsToRemove = this.state.teamsToRemove.length;\nif (totalTeams - totalTeamsToRemove <= this.props.pagination.pageSize) {\nthis.setStatePage(this.state.page - 1);\n}\nthis.setState({\npage: this.state.page,\n});\n}", "CodeBleu_score": 25.86766343909943}, {"code": "private removeTeam = (team: Team) =>{\n\t\tif (this.state.teamsToRemove.indexOf(team) !== -1) {\n\t\treturn;\n\t}\n\tthis.setState((prevState) => {\n\t\tconst teamsToRemove = prevState.teamsToRemove;\n\t\tteamsToRemove.push(team);\n\t\treturn {\n\t\t\tteamsToRemove,\n\t\t};\n\t});\n\tthis.setStatePage(this.state.page);\n\tthis.props.onRemoveCallback(team);\n}", "CodeBleu_score": 21.31997635013646}]}
{"instance_id": "e55dd105e5d2", "generation_result": [{"code": "async function loadListInPageNumber(page: number){\n\t\tconst response = await fetch(`${API_URL}/teams?page=${page}`);\n\tif (!response.ok) {\n\t\tconsole.log(response);\n\t\treturn;\n\t}\n\n\tconst teams = await response.json();\n\tconst mappedTeams = teams.map((team: Team) => ({\n\t\t...team,\n\t\tdisplayName: team.name,\n\t}));\n\tconst sortedTeams = mappedTeams.sort((a: Team, b: Team) => {\n\t\tif (a.displayName.toLowerCase() < b.displayName.toLowerCase()) return -1;\n\t\tif (a.displayName.toLowerCase() > b.displayName.toLowerCase()) return 1;\n\t\treturn 0;\n\t});\n\n\tif (page === 1) {\n\t\tsetList(sortedTeams);\n\t} else {\n\t\tsetList((prevList) => [...prevList, ...sortedTeams]);\n\t}\n\n\tsetPageNumber((prevPageNumber) => prevPageNumber + 1);\n}", "CodeBleu_score": 43.39276995519331}, {"code": "async function loadListInPageNumber(page: number){\n\t\ttry {\n\t\tconst response = await fetch(\n\t\t\t`https://api.github.com/orgs/github/teams?page=${page}&per_page=100`,\n\t\t);\n\t\tconst data = await response.json();\n\t\tconst teams = data.map((team: Team) => ({\n\t\t\tid: team.id,\n\t\t\tname: team.name,\n\t\t\tslug: team.slug,\n\t\t\tdescription: team.description,\n\t\t\tprivacy: team.privacy,\n\t\t\tpermission: team.permission,\n\t\t\tmembers_count: team.members_count,\n\t\t\trepos_count: team.repos_count,\n\t\t\tcreated_at: team.created_at,\n\t\t\tupdated_at: team.updated_at,\n\t\t\torganization: team.organization,\n\t\t\tdisplay_name: team.name,\n\t\t}));\n\t\tif (page === 1) {\n\t\t\tsetList(teams);\n\t\t} else {\n\t\t\tsetList((prevList) => [...prevList, ...teams]);\n\t\t}\n\t\tsetPageNumber(page + 1);\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n}", "CodeBleu_score": 46.12962194530035}, {"code": "async function loadListInPageNumber(page: number){\n\t\ttry {\n\t\tconst response = await fetch(\n\t\t\t`https://api.github.com/orgs/MLH-Fellowship/teams?per_page=100&page=${page}`,\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"Authorization\": `token ${process.env.REACT_APP_GITHUB_TOKEN}`,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconst teams = await response.json();\n\t\tconst sortedTeams = teams.map(team => team.name).sort();\n\t\tif (page === 1) {\n\t\t\tsetList(sortedTeams);\n\t\t} else {\n\t\t\tsetList(list => list.concat(sortedTeams));\n\t\t}\n\t\tsetPageNumber(page + 1);\n\t} catch (err) {\n\t\tconsole.log(err);\n\t}\n}", "CodeBleu_score": 34.238146738128215}]}
{"instance_id": "2de31ed13207", "generation_result": [{"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\tlet page = 1;\n\tlet totalPages = 1;\n\tlet results: OptionsType<string> = [];\n\twhile (page <= totalPages) {\n\t\tconst response = await searchTeams(term, page);\n\t\tif (response.status === 200) {\n\t\t\tconst data = await response.json();\n\t\t\ttotalPages = data.paging.pages;\n\t\t\tresults = results.concat(data.results.map((result) => ({ label: result.name, value: result.id })));\n\t\t\tpage += 1;\n\t\t} else {\n\t\t\tconsole.error(response.statusText);\n\t\t\tbreak;\n\t\t}\n\t}\n\tcallBack(results);\n}", "CodeBleu_score": 29.09657287191697}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\ttry {\n\t\tconst response = await searchTeams(term, 0, 10);\n\t\tconst teams = response.data.teams;\n\t\tif (teams.length > 0) {\n\t\t\tconst options = teams.map((team) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: team.name,\n\t\t\t\t\tvalue: team.id,\n\t\t\t\t};\n\t\t\t});\n\t\t\tcallBack(options);\n\t\t} else {\n\t\t\tcallBack([]);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(error);\n\t\tcallBack([]);\n\t}\n}", "CodeBleu_score": 47.44486737039148}, {"code": "async function searchInList(term: string, callBack: (options: OptionsType<{label: string; value: string}>) => void){\n\t\ttry {\n\t\tconst response = await searchTeams({term, limit: 100})\n\t\tconst teams = response.data.teams.edges\n\t\tconst options = teams.map(({node}) => ({label: node.name, value: node.slug}))\n\t\tcallBack(options)\n\t} catch (error) {\n\t\tconsole.error(error)\n\t\tcallBack([])\n\t}\n}", "CodeBleu_score": 44.56907376595738}]}
{"instance_id": "845d63ff0f74", "generation_result": [{"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\t\tconst { teams, channels, groups, roles, isSaving, isNavigationBlocked } = this.state;\n\tconst { currentTeamId, currentChannelId } = this.props;\n\tconst team = teams.find((team) => team.id === currentTeamId);\n\tconst channel = channels.find((channel) => channel.id === currentChannelId);\n\tconst group = groups.find((group) => group.id === id);\n\n\tconst groupTeams = group.scheme_admin ? team.group_constrained : team.group_unconstrained;\n\tconst groupChannels = group.scheme_admin ? channel.group_constrained : channel.group_unconstrained;\n\tconst rolesToChange = roles.filter((role) => group.roles.includes(role.id));\n\n\tgroupTeams.map((groupTeam) => {\n\t\tif (type === 'team') {\n\t\t\tconst teamIndex = groupTeams.indexOf(groupTeam);\n\t\t\tgroupTeams[teamIndex] = {\n\t\t\t\t...groupTeam,\n\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t};\n\t\t}\n\t});\n\n\tgroupChannels.map((groupChannel) => {\n\t\tif (type === 'channel') {\n\t\t\tconst channelIndex = groupChannels.indexOf(groupChannel);\n\t\t\tgroupChannels[channelIndex] = {\n\t\t\t\t...groupChannel,\n\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t};\n\t\t}\n\t});\n\n\trolesToChange.map((role) => {\n\t\tif (type === 'team') {\n\t\t\tconst teamIndex = groupTeams.indexOf(role.team_id);\n\t\t\tgroupTeams[teamIndex] = {\n\t\t\t\t...groupTeams[teamIndex],\n\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t};\n\t\t} else if (type === 'channel') {\n\t\t\tconst channelIndex = groupChannels.indexOf(role.channel_id);\n\t\t\tgroupChannels[channelIndex] = {\n\t\t\t\t...groupChannels[channelIndex],\n\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t};\n\t\t}\n\t});\n\n\tthis.setState({\n\t\tteams: [...teams],\n\t\tchannels: [...channels],\n\t\tisSaving: true,\n\t\tisNavigationBlocked: true,\n\t});\n}", "CodeBleu_score": 29.737472304706756}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\t\tconst { groups, teams, channels } = getState();\n\tconst group = groups.find((group) => group.id === id);\n\tconst teamIds = group.teamIds;\n\tconst channelIds = group.channelIds;\n\tconst teamList = teams.filter((team) => teamIds.includes(team.id));\n\tconst channelList = channels.filter((channel) => channelIds.includes(channel.id));\n\tconst newTeamList = teamList.map((team) => ({ ...team, schemeAdmin }));\n\tconst newChannelList = channelList.map((channel) => ({ ...channel, schemeAdmin }));\n\tconst newGroup = { ...group, schemeAdmin };\n\tconst newGroups = groups.map((group) => (group.id === id ? newGroup : group));\n\tsetState({ ...getState(), teams: newTeamList, channels: newChannelList, groups: newGroups });\n\treturn {\n\t\ttype: SET_NEEDS_SAVING,\n\t\tneedsSaving: true,\n\t\tblockNavigation: true,\n\t};\n}", "CodeBleu_score": 27.294658881344564}, {"code": "onChangeRoles = (id: string, type: string, schemeAdmin: boolean) =>{\n\t\tconst {\n\t\tcurrentRoles,\n\t\tgroupChannels,\n\t\tgroupTeams,\n\t} = this.props.state;\n\n\t// Extract the current roles to change\n\tconst currentRolesToChange = currentRoles.filter(role => role.id === id);\n\n\t// Map through the list of group teams and channels to update the schemeAdmin status\n\tlet newGroupTeams: GroupTeam[] = [];\n\tlet newGroupChannels: GroupChannel[] = [];\n\n\tif (type === 'teams') {\n\t\tnewGroupTeams = groupTeams.map(team => {\n\t\t\tif (currentRolesToChange.length) {\n\t\t\t\tconst currentRolesToChangeTeam = currentRolesToChange.find(role => role.teamId === team.id);\n\t\t\t\tif (currentRolesToChangeTeam) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...team,\n\t\t\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn team;\n\t\t});\n\t} else {\n\t\tnewGroupChannels = groupChannels.map(channel => {\n\t\t\tif (currentRolesToChange.length) {\n\t\t\t\tconst currentRolesToChangeChannel = currentRolesToChange.find(role => role.channelId === channel.id);\n\t\t\t\tif (currentRolesToChangeChannel) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...channel,\n\t\t\t\t\t\tscheme_admin: schemeAdmin,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn channel;\n\t\t});\n\t}\n\n\t// Set the new state with the updated information\n\tthis.props.actions.setGroupTeams(newGroupTeams);\n\tthis.props.actions.setGroupChannels(newGroupChannels);\n\n\t// Flag that saving is needed and block navigation using a provided action\n\tthis.props.actions.setNavigationBlocked(true);\n\tthis.props.actions.setNavigationBlockedAction(this.props.actions.saveGroup);\n}", "CodeBleu_score": 26.877750826647993}]}
{"instance_id": "02b54f0774f3", "generation_result": [{"code": "handleRolesToUpdate = async () =>{\n\t\tconst {\n\t\troles,\n\t\trolesToChange,\n\t\trolesToUpdate,\n\t\trolesToUpdateError,\n\t\trolesToUpdateSuccess,\n\t\tsetRolesToUpdate,\n\t\tsetRolesToUpdateError,\n\t\tsetRolesToUpdateSuccess,\n\t} = useComponentState(initialState);\n\n\tif (rolesToChange.length === 0) {\n\t\treturn true;\n\t}\n\n\tconst promises = [];\n\n\trolesToChange.forEach((role) => {\n\t\tconst { id, type } = getSyncableIDAndType(role);\n\t\tconst promise = updateRole(id, type, role);\n\t\tpromises.push(promise);\n\t});\n\n\ttry {\n\t\tconst results = await Promise.all(promises);\n\t\tconst errors = results.filter((result) => result.error);\n\t\tconst success = results.filter((result) => !result.error);\n\n\t\tif (errors.length > 0) {\n\t\t\tsetRolesToUpdateError(errors);\n\t\t} else {\n\t\t\tsetRolesToUpdateSuccess(success);\n\t\t}\n\n\t\tsetRolesToUpdate(rolesToChange);\n\t} catch (error) {\n\t\tsetRolesToUpdateError([error]);\n\t}\n\n\treturn rolesToUpdateError.length === 0;\n}", "CodeBleu_score": 29.67544844170812}, {"code": "handleRolesToUpdate = async () =>{\n\t\tconst { rolesToUpdate } = this.state;\n\tif (!rolesToUpdate.length) return false;\n\n\tconst promises = [];\n\tfor (const role of rolesToUpdate) {\n\t\tconst { syncableId, syncableType } = role;\n\t\tpromises.push(\n\t\t\tupdateRole({\n\t\t\t\tsyncableId,\n\t\t\t\tsyncableType,\n\t\t\t\trole: role.role,\n\t\t\t\tsyncableName: role.syncableName,\n\t\t\t}),\n\t\t);\n\t}\n\n\tconst results = await Promise.all(promises);\n\tconst errors = results.filter(result => result.error);\n\tif (errors.length) {\n\t\tthis.setState({\n\t\t\terror: errors[0].error,\n\t\t});\n\t} else {\n\t\tthis.setState({\n\t\t\trolesToUpdate: [],\n\t\t});\n\t}\n\n\treturn !errors.length;\n}", "CodeBleu_score": 27.615795045609893}, {"code": "handleRolesToUpdate = async () =>{\n\t\tlet rolesToUpdate = this.state.rolesToUpdate;\n\tlet syncableIDs = [];\n\tlet syncableTypes = [];\n\tlet updatePromises = [];\n\tlet results = [];\n\tlet errors = [];\n\tlet success = true;\n\n\t// If there are roles to update, get the syncable IDs and types\n\tif (rolesToUpdate.length > 0) {\n\t\tfor (let i = 0; i < rolesToUpdate.length; i++) {\n\t\t\tsyncableIDs.push(rolesToUpdate[i].syncableID);\n\t\t\tsyncableTypes.push(rolesToUpdate[i].syncableType);\n\t\t}\n\n\t\t// For each role to update, create and push a promise to update the role\n\t\tfor (let i = 0; i < syncableIDs.length; i++) {\n\t\t\tupdatePromises.push(\n\t\t\t\tupdateRole(syncableIDs[i], syncableTypes[i], rolesToUpdate[i].role)\n\t\t\t);\n\t\t}\n\n\t\t// Await the completion of all update promises\n\t\tresults = await Promise.all(updatePromises);\n\n\t\t// Check for errors in the results\n\t\tfor (let i = 0; i < results.length; i++) {\n\t\t\tif (results[i].error) {\n\t\t\t\terrors.push(results[i].error);\n\t\t\t\tsuccess = false;\n\t\t\t}\n\t\t}\n\n\t\t// If there are no errors, clear the roles to update\n\t\tif (success) {\n\t\t\tthis.setState({\n\t\t\t\trolesToUpdate: [],\n\t\t\t});\n\t\t}\n\t}\n\n\t// If there are errors, set an error message\n\tif (!success && errors.length > 0) {\n\t\tthis.setState({\n\t\t\terror: errors,\n\t\t});\n\t}\n\n\t// Return a boolean indicating success or failure\n\treturn success;\n}", "CodeBleu_score": 20.553513363538737}]}
{"instance_id": "30463a7bcb15", "generation_result": [{"code": "nextPage = async () =>{\n\t\t// If the next page is less than the total number of members, set loading to true and fetch the members\n\tif (this.state.nextPage < this.state.totalMembers) {\n\t\tthis.setState({ loading: true });\n\t\tconst members = await fetchMembers(this.state.nextPage);\n\t\tthis.setState({\n\t\t\tmembers: [...this.state.members, ...members],\n\t\t\tnextPage: this.state.nextPage + 1,\n\t\t\tloading: false,\n\t\t});\n\t}\n}", "CodeBleu_score": 12.549935850412403}, {"code": "nextPage = async () =>{\n\tconst { page, totalMembers, members, loading } = this.state;\nconst nextPage = page + 1;\nif (nextPage > totalMembers / 10 && totalMembers % 10 !== 0) {\nreturn;\n}\nif (loading) {\nreturn;\n}\nthis.setState({ loading: true });\nconst { data } = await getMembers(nextPage);\nthis.setState({\nmembers: [...members, ...data.results],\npage: nextPage,\nloading: false,\n});\n}", "CodeBleu_score": 24.0171325175783}, {"code": "nextPage = async () =>{\n\t\tconst { members, page, totalPages } = this.state;\n\n\tif ( page < totalPages ) {\n\t\tthis.setState( { loading: true } );\n\n\t\tconst response = await fetch( `https://randomuser.me/api/?results=20&page=${ page + 1 }` );\n\t\tconst data = await response.json();\n\n\t\tthis.setState( {\n\t\t\tmembers: [...members, ...data.results],\n\t\t\tpage: page + 1,\n\t\t\tloading: false\n\t\t} );\n\t}\n}", "CodeBleu_score": 18.737576937330875}]}
{"instance_id": "d6aba286f65f", "generation_result": [{"code": "public handleGroupSearchKeyUp(e: any){\n\t\tif (e.keyCode === 13) {\n\t\tthis.props.resetPage();\n\t\tthis.props.searchGroups(this.props.searchString);\n\n\t\tconst newState = {\n\t\t\t...this.state,\n\t\t\tisAdvanced: false,\n\t\t\tisFiltered: false,\n\t\t\tisGroup: true,\n\t\t\tisGroupSearch: false,\n\t\t\tisIndividual: false,\n\t\t\tisIndividualSearch: false,\n\t\t\tisSearch: true,\n\t\t\tisSearchString: false,\n\t\t\tisUser: false,\n\t\t\tisUserSearch: false,\n\t\t};\n\n\t\tif (this.props.searchString.length > 0) {\n\t\t\tif (this.props.searchString.length < 3) {\n\t\t\t\tnewState.isSearchString = true;\n\t\t\t} else {\n\t\t\t\tnewState.isSearchString = false;\n\t\t\t}\n\n\t\t\tif (this.props.searchString.length < 2) {\n\t\t\t\tnewState.isAdvanced = true;\n\t\t\t} else {\n\t\t\t\tnewState.isAdvanced = false;\n\t\t\t}\n\n\t\t\tif (this.props.searchString.length > 0) {\n\t\t\t\tnewState.isFiltered = true;\n\t\t\t} else {\n\t\t\t\tnewState.isFiltered = false;\n\t\t\t}\n\t\t}\n\n\t\tthis.setState(newState);\n\t}\n}", "CodeBleu_score": 23.989979129737783}, {"code": "public handleGroupSearchKeyUp(e: any){\n\t\tif (e.keyCode === 13) {\n\t\tthis.setState({\n\t\t\tpage: 0,\n\t\t\tsearchString: ''\n\t\t}, () => {\n\t\t\tthis.props.searchGroups(this.state.searchString);\n\t\t});\n\n\t\tconst state = {\n\t\t\t...this.state\n\t\t};\n\n\t\tconst searchString = this.state.searchString;\n\n\t\tif (searchString === '') {\n\t\t\tstate.searchString = '';\n\t\t\tstate.showAll = true;\n\t\t\tstate.showAllResults = true;\n\t\t} else if (searchString.length < 3) {\n\t\t\tstate.searchString = searchString;\n\t\t\tstate.showAll = false;\n\t\t\tstate.showAllResults = false;\n\t\t} else {\n\t\t\tstate.searchString = searchString;\n\t\t\tstate.showAll = false;\n\t\t\tstate.showAllResults = true;\n\t\t}\n\n\t\tthis.setState(state);\n\t}\n}", "CodeBleu_score": 21.098315296254732}, {"code": "public handleGroupSearchKeyUp(e: any){\n\t\tif (e.keyCode === 13) {\n\t\tthis.props.resetPageState();\n\t\tthis.props.searchGroups(this.state.groupSearch);\n\t\tconst newState = {\n\t\t\t...this.state,\n\t\t\tgroupSearch: this.state.groupSearch,\n\t\t\tisGroupSearchExact: false,\n\t\t\tisGroupSearchCaseSensitive: false,\n\t\t\tisGroupSearchRegex: false,\n\t\t};\n\t\tif (this.state.groupSearch.length > 0) {\n\t\t\tnewState.isGroupSearchExact = this.regex(this.state.groupSearch).test(this.state.groupSearch);\n\t\t\tnewState.isGroupSearchCaseSensitive = this.regex(this.state.groupSearch).test(this.state.groupSearch);\n\t\t\tnewState.isGroupSearchRegex = this.regex(this.state.groupSearch).test(this.state.groupSearch);\n\t\t}\n\t\tthis.setState(newState);\n\t}\n}", "CodeBleu_score": 23.064047928988717}]}
{"instance_id": "f0ab31c8ac4b", "generation_result": [{"code": "reloadPercentage = async () => {\n\t\tconst { this.props.actions.getUpgradeStatus, this.props.actions.clearUpgradeStatus } = this.props.actions;\n\tconst { upgradePercentage, upgradeStatus, upgradeError } = await this.props.actions.getUpgradeStatus();\n\n\tif (upgradePercentage >= 100 && this.interval) {\n\t\tclearInterval(this.interval);\n\t\tthis.interval = null;\n\t\tthis.setState({ upgradePercentage, upgradeStatus, upgradeError });\n\t} else if (upgradePercentage > 0 && !this.interval) {\n\t\tthis.interval = setInterval(this.reloadPercentage, 2000);\n\t\tthis.setState({ upgradePercentage, upgradeStatus, upgradeError });\n\t} else {\n\t\tthis.setState({ upgradePercentage, upgradeStatus, upgradeError });\n\t}\n}", "CodeBleu_score": 38.44606956520604}, {"code": "reloadPercentage = async () => {\n\t\tconst { upgradePercentage, upgradeError } = this.state\n\tconst { upgradeToE0Status, actions } = this.props\n\n\tconst upgradeStatus = await upgradeToE0Status()\n\tconst upgradePercentage = upgradeStatus.percentage\n\tconst upgradeError = upgradeStatus.error\n\n\tthis.setState({ upgradePercentage, upgradeError })\n\n\tif (upgradePercentage === 100) {\n\t\tclearInterval(this.interval)\n\t\tthis.interval = null\n\t\tthis.props.actions.upgradeToE0Status()\n\t}\n\telse if (upgradePercentage > 0 && !this.interval) {\n\t\tthis.interval = setInterval(this.reloadPercentage, 2000)\n\t}\n}", "CodeBleu_score": 35.46396498430475}, {"code": "reloadPercentage = async () => {\n\t\tlet upgradePercentage = 0;\n\tlet upgradeError = \"\";\n\tconst upgradeStatus = await this.props.actions.upgradeToE0Status();\n\tif (upgradeStatus.upgrade_status.status === \"UPGRADE_STATUS_IN_PROGRESS\") {\n\t\tupgradePercentage = upgradeStatus.upgrade_status.percentage_completed;\n\t\tupgradeError = \"\";\n\t\tif (upgradePercentage > 0 && !this.interval) {\n\t\t\tthis.interval = setInterval(this.reloadPercentage, 2000);\n\t\t}\n\t} else if (upgradeStatus.upgrade_status.status === \"UPGRADE_STATUS_COMPLETE\") {\n\t\tupgradePercentage = 100;\n\t\tupgradeError = \"\";\n\t\tthis.interval = clearInterval(this.interval);\n\t} else {\n\t\tupgradePercentage = 0;\n\t\tupgradeError = upgradeStatus.upgrade_status.error_message;\n\t\tthis.interval = clearInterval(this.interval);\n\t}\n\tthis.setState({\n\t\tupgradePercentage: upgradePercentage,\n\t\tupgradeError: upgradeError,\n\t});\n}", "CodeBleu_score": 42.18476531281225}]}
{"instance_id": "f91ab43e6fe1", "generation_result": [{"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\te.preventDefault();\nif (fileObj) {\nsetIsUploading(true);\ntry {\nawait uploadLicense(fileObj);\nsetIsUploading(false);\nsetFileObj(null);\nsetServerError(null);\nsetUploadSuccessful(true);\nawait dispatch(getLicenseConfig());\n} catch (e) {\nsetFileObj(null);\nsetServerError(e.message);\nsetIsUploading(false);\n}\n}\n}", "CodeBleu_score": 44.566719126638645}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\te.preventDefault();\nif (fileObj) {\nsetIsUploading(true);\ntry {\nawait uploadLicense(fileObj);\nsetIsUploading(false);\nsetIsUploadSuccessful(true);\nawait dispatch(getLicenseConfig());\nsetFileObj(null);\nsetServerError(null);\n} catch (e) {\nsetFileObj(null);\nsetServerError(e.message);\nsetIsUploading(false);\n}\n}\n}", "CodeBleu_score": 47.52813083429079}, {"code": "const handleSubmit = async (e: React.MouseEvent<HTMLButtonElement>) => {\n\te.preventDefault();\nif (fileObj) {\nsetIsUploading(true);\ntry {\nawait uploadLicense(fileObj);\nsetIsUploading(false);\nsetFileObj(null);\nsetServerError(null);\nsetUploadSuccessful(true);\nawait dispatch(getLicenseConfig());\n} catch (err) {\nsetFileObj(null);\nsetServerError(err.message);\nsetIsUploading(false);\n}\n}\n}", "CodeBleu_score": 44.9382278155215}]}
{"instance_id": "840d965d4dcc", "generation_result": [{"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t", "CodeBleu_score": 1.912157034422969}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t\te.preventDefault();\n\tif (this.state.confirmation) {\n\t\tthis.setState({ confirmation: false });\n\t\treturn;\n\t}\n\tthis.setState({ saving: true, serverError: \"\" });\n\ttry {\n\t\tif (this.props.editRole) {\n\t\t\tconst role = await updateRole(this.props.role.metadata.name, this.props.role.rules);\n\t\t\tthis.props.updateRole(role);\n\t\t\tthis.props.history.push(this.props.match.url);\n\t\t} else {\n\t\t\tconst role = await createRole(this.state.roleName, this.state.roleRules);\n\t\t\tthis.props.addRole(role);\n\t\t\tthis.props.history.push(this.props.match.url);\n\t\t}\n\t} catch (err) {\n\t\tthis.setState({ serverError: err.message });\n\t} finally {\n\t\tthis.setState({ saving: false });\n\t}\n}", "CodeBleu_score": 22.090799160322025}, {"code": "handleSubmit = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) =>{\n\t", "CodeBleu_score": 1.912157034422969}]}
{"instance_id": "86453b2860e5", "generation_result": [{"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tconst { text, className } = props;\nconst { openSalesContact } = useSalesContact();\nconst handleClick = (e: React.MouseEvent) => {\ne.preventDefault();\nopenSalesContact();\ntrackEvent({\ncategory: 'ContactUsButton',\naction: 'click',\nlabel: 'Contact Sales',\n});\n};\nreturn <a className={className} href=\"#\" onClick={handleClick}>{text}</a>;\n}", "CodeBleu_score": 26.75079091961523}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tconst {\nclassName,\ntext,\n} = props;\nconst [openSalesContact, setOpenSalesContact] = React.useState(false);\nconst handleClick = (event: React.SyntheticEvent) => {\nevent.preventDefault();\nsetOpenSalesContact(true);\ntrackEvent(\"Sales Contact Link\", \"Contact Us Button Clicked\", \"\");\n};\nreturn (\n<button\nclassName={className}\nonClick={handleClick}\ntype=\"button\"\n>\n{text}\n</button>\n);\n}", "CodeBleu_score": 28.180406268120045}, {"code": "const ContactUsButton: React.FC<Props> = (props: Props) =>{\n\tconst [open, setOpen] = React.useState(false);\nconst handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\ne.preventDefault();\nsetOpen(true);\nwindow.gtag(\"event\", \"openContactSales\", {\nevent_category: \"Contact Sales\",\nevent_label: \"Contact Sales Button\",\n});\n};\nreturn (\n<Button\nonClick={handleClick}\nclassName={props.className}\n>\n{props.text}\n</Button>\n);\n}", "CodeBleu_score": 28.1604579699396}]}
{"instance_id": "49713e95ae2e", "generation_result": [{"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tconst { openContactSales, disabled } = props;\nconst handleClick = (e: React.MouseEvent<HTMLAnchorElement>) => {\ne.preventDefault();\nopenContactSales();\n};\nreturn (\n<a\nhref=\"#\"\nonClick={handleClick}\nclassName=\"renewal-link\"\ndisabled={disabled}\n>\n{formatMessage(messages.renewalLink)}\n</a>\n);\n}", "CodeBleu_score": 32.35215169389009}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tconst { openContactSales, disabled } = props\nconst { formatMessage } = useIntl()\nconst buttonText = formatMessage({ id: \"renewal_link_button\" })\nreturn (\n<button\ntype=\"button\"\nonClick={openContactSales}\nonMouseDown={e => e.preventDefault()}\ndisabled={disabled}\nclassName=\"link-button\"\n>\n{buttonText}\n</button>\n)\n}", "CodeBleu_score": 24.734506279435827}, {"code": "const RenewalLink = (props: RenewalLinkProps) => {\n\tconst { openContactSales, disabled } = props;\nconst { formatMessage } = useIntl();\nconst contactSalesLink = formatMessage(messages.contactSalesLink);\nreturn (\n<button\ntype=\"button\"\nclassName=\"button button--secondary\"\nonClick={openContactSales}\ndisabled={disabled}\n>\n{contactSalesLink}\n</button>\n);\n}", "CodeBleu_score": 23.46878606421681}]}
{"instance_id": "23618eba67aa", "generation_result": [{"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\tlet hasErrors = false;\n\tif (formError) {\n\t\tthis.setState({\n\t\t\tformError\n\t\t});\n\t\thasErrors = true;\n\t}\n\tif (fieldErrors) {\n\t\tfor (const key in fieldErrors) {\n\t\t\tif (fieldErrors.hasOwnProperty(key)) {\n\t\t\t\tconst error = fieldErrors[key];\n\t\t\t\tconst element = elements.find(element => element.id === key);\n\t\t\t\tif (element) {\n\t\t\t\t\tif (error === 'required') {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\t\ttype: 'required',\n\t\t\t\t\t\t\t\tmessage: this.props.intl.formatMessage(messages.required)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (error === 'invalid') {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\t\ttype: 'invalid',\n\t\t\t\t\t\t\t\tmessage: this.props.intl.formatMessage(messages.invalid)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\t\ttype: 'custom',\n\t\t\t\t\t\t\t\tmessage: error\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (element.type === 'markdown') {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\t\t...this.state[key],\n\t\t\t\t\t\t\t\tmessage: <Markdown source={error} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\thasErrors = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t[key]: {\n\t\t\t\t\t\t\ttype: 'unknown',\n\t\t\t\t\t\t\tmessage: this.props.intl.formatMessage(messages.unknown)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\thasErrors = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn hasErrors;\n}", "CodeBleu_score": 37.42585388986353}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\tlet errors = false;\n\tif (formError) {\n\t\tthis.setState({\n\t\t\tformError: f(formError)\n\t\t});\n\t\terrors = true;\n\t}\n\tif (fieldErrors) {\n\t\tfor (const key in fieldErrors) {\n\t\t\tconst element = elements.find(e => e.name === key);\n\t\t\tif (element) {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[element.name + \"Error\"]: f(fieldErrors[key])\n\t\t\t\t});\n\t\t\t\tif (element.type === \"markdown\") {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t[element.name + \"Error\"]: (\n\t\t\t\t\t\t\t<Markdown\n\t\t\t\t\t\t\t\ttext={fieldErrors[key]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\terrors = true;\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\t[key + \"Error\"]: f(fieldErrors[key])\n\t\t\t\t});\n\t\t\t\terrors = true;\n\t\t\t}\n\t\t}\n\t}\n\treturn errors;\n}", "CodeBleu_score": 31.34985400871634}, {"code": "updateErrors = (elements: DialogElement[], fieldErrors?: {[x: string]: string}, formError?: string): boolean =>{\n\t\tconst errorsMatchElements: boolean = checkIfErrorsMatchElements(elements, fieldErrors);\n\tif (errorsMatchElements) {\n\t\treturn true;\n\t}\n\tif (formError) {\n\t\tthis.setState({\n\t\t\tformError: formError\n\t\t});\n\t}\n\tif (fieldErrors) {\n\t\tconst unknownFieldErrors: string[] = [];\n\t\tconst formattedFieldErrors: {[x: string]: React.ReactNode} = {};\n\t\tfor (const field in fieldErrors) {\n\t\t\tif (fieldErrors.hasOwnProperty(field)) {\n\t\t\t\tconst element: DialogElement | undefined = elements.find((element: DialogElement) => element.key === field);\n\t\t\t\tif (element) {\n\t\t\t\t\tformattedFieldErrors[field] = <Markdown text={fieldErrors[field]}/>;\n\t\t\t\t} else {\n\t\t\t\t\tunknownFieldErrors.push(fieldErrors[field]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (unknownFieldErrors.length > 0) {\n\t\t\tformattedFieldErrors['unknown'] = <Markdown text={this.props.intl.formatMessage({id: 'Dialog.unknownFieldErrors', defaultMessage: 'Unknown field errors: {errors}', description: 'Unknown field errors message.'}, {errors: unknownFieldErrors.join(', ')})}/>;\n\t\t}\n\t\tthis.setState({\n\t\t\tfieldErrors: formattedFieldErrors\n\t\t});\n\t}\n\treturn false;\n}", "CodeBleu_score": 32.55664554685481}]}
{"instance_id": "10be7e79f7e0", "generation_result": [{"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\t\tconst searchTerm = userInput.toLowerCase();\n\tconst channelOptions = await autocompleteChannels(searchTerm);\n\treturn channelOptions.map((channel) => {\n\t\treturn {\n\t\t\tlabel: channel.display_name,\n\t\t\tvalue: channel.id,\n\t\t};\n\t});\n}", "CodeBleu_score": 37.96372618705822}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\t\tconst lowerCaseInput = userInput.toLowerCase();\n\tconst results = await autocomplete(lowerCaseInput);\n\tconst options = results.map((result) => {\n\t\treturn {\n\t\t\tlabel: result.name,\n\t\t\tvalue: result.id,\n\t\t};\n\t});\n\treturn options;\n}", "CodeBleu_score": 33.50722212824645}, {"code": "loadDynamicChannelOptions = async (userInput: string): Promise<AppSelectOption[]> =>{\n\t\tconst lowerCaseInput = userInput.toLowerCase();\n\tconst results = await autocompleteChannels(lowerCaseInput);\n\treturn results.map((result) => {\n\t\treturn {\n\t\t\tlabel: result.displayName,\n\t\t\tvalue: result.id,\n\t\t};\n\t});\n}", "CodeBleu_score": 34.13425062296056}]}
{"instance_id": "b44d060ba306", "generation_result": [{"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t\tconst {\n\t\tactions,\n\t\tcurrentUserId,\n\t\tteamId,\n\t\tteamName,\n\t} = this.props;\n\tif (this.isMemberOfChannel(channel.id)) {\n\t\treturn;\n\t}\n\ttry {\n\t\tawait actions.joinChannel(teamId, channel.id);\n\t} catch (error) {\n\t\tthis.setState({\n\t\t\tserverError: error.message,\n\t\t});\n\t}\n\tthis.setState({\n\t\tserverError: '',\n\t});\n\tthis.props.actions.getChannelsMemberCount(teamId);\n\tthis.props.history.push(channel.url);\n\tthis.closeEditRHS();\n\tif (done) {\n\t\tdone();\n\t}\n}", "CodeBleu_score": 48.76318825300384}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t", "CodeBleu_score": 5.016466375556629}, {"code": "handleJoin = async (channel: Channel, done: () => void) => {\n\t", "CodeBleu_score": 5.016466375556629}]}
{"instance_id": "c6636f0c9c0b", "generation_result": [{"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst {\n\t\tclassName,\n\t\tchildren,\n\t\tonClick,\n\t\tisExpanded,\n\t\t...otherProps\n\t} = props;\n\n\tconst cardHeaderClasses = classNames(\n\t\t\"card-header\",\n\t\t{\n\t\t\t\"card-header-expanded\": isExpanded\n\t\t},\n\t\tclassName\n\t);\n\n\tconst handleClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n\t\tif (onClick) {\n\t\t\tonClick(e);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={cardHeaderClasses} onClick={handleClick} {...otherProps}>\n\t\t\t{children}\n\t\t\t{isExpanded && <hr className=\"my-0\" />}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 35.44828578136017}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst {\n\t\tclassName,\n\t\tchildren,\n\t\tonClick,\n\t\texpanded,\n\t\t...otherProps\n\t} = props;\n\n\tconst [expandedState, setExpandedState] = React.useState<boolean>(expanded);\n\n\tconst handleClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n\t\tif (onClick) {\n\t\t\tonClick(event);\n\t\t}\n\n\t\tsetExpandedState(!expandedState);\n\t};\n\n\tconst classNames = classnames(\n\t\tclassName,\n\t\t'card-header',\n\t\t{\n\t\t\t'card-header-expandable': onClick,\n\t\t\t'card-header-expanded': expandedState\n\t\t}\n\t);\n\n\tconst header = (\n\t\t<div className={classNames} onClick={handleClick} {...otherProps}>\n\t\t\t{children}\n\t\t</div>\n\t);\n\n\tif (expandedState && onClick) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{header}\n\t\t\t\t<hr />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\treturn header;\n}", "CodeBleu_score": 34.19837864091815}, {"code": "const CardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst { className, onClick, children, expanded } = props;\n\n\tconst [expandedState, setExpandedState] = React.useState(expanded);\n\n\tconst handleClick = () => {\n\t\tsetExpandedState(!expandedState);\n\t\tif (onClick) {\n\t\t\tonClick();\n\t\t}\n\t};\n\n\tconst headerClass = expandedState ? 'card-header-expanded' : 'card-header-collapsed';\n\n\treturn (\n\t\t<div className={classNames(className, headerClass)} onClick={handleClick}>\n\t\t\t{children}\n\t\t\t{expandedState && <hr className=\"card-header-hr\" />}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 37.22961968075937}]}
{"instance_id": "230cb3cd6dd5", "generation_result": [{"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst { title, subtitle, buttonText, onClick, isDisabled } = props;\n\n\treturn (\n\t\t<div className=\"card-header\">\n\t\t\t<h3 className=\"card-title\">\n\t\t\t\t{title}\n\t\t\t</h3>\n\t\t\t{subtitle && <h6 className=\"card-subtitle mb-2 text-muted\">{subtitle}</h6>}\n\t\t\t{buttonText && onClick && <button className=\"btn btn-primary\" onClick={onClick} disabled={isDisabled}>{buttonText}</button>}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 30.148957456032534}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst {\n\t\ttitle,\n\t\tsubtitle,\n\t\tbuttonText,\n\t\tonClick,\n\t\tisDisabled,\n\t} = props;\n\n\treturn (\n\t\t<div className={styles.titleAndButtonCardHeader}>\n\t\t\t<div className={styles.titleAndButtonCardHeaderTitle}>{title}</div>\n\t\t\t{subtitle && <div className={styles.titleAndButtonCardHeaderSubtitle}>{subtitle}</div>}\n\t\t\t{buttonText && onClick && <Button\n\t\t\t\ttext={buttonText}\n\t\t\t\tonClick={onClick}\n\t\t\t\tisDisabled={isDisabled}\n\t\t\t/>}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 28.02194224154848}, {"code": "const TitleAndButtonCardHeader: React.FC<Props> = (props: Props) =>{\n\t\tconst { title, subtitle, buttonText, onClick, isDisabled } = props;\n\n\treturn (\n\t\t<div className=\"card-header\">\n\t\t\t<h3 className=\"card-title\">{title}</h3>\n\t\t\t<h6 className=\"card-subtitle mb-2 text-muted\">{subtitle}</h6>\n\t\t\t{buttonText && onClick && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"btn btn-primary\"\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tdisabled={isDisabled}\n\t\t\t\t>\n\t\t\t\t\t{buttonText}\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 16.463689448798874}]}
{"instance_id": "eb5c7946fd59", "generation_result": [{"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\tconst { notifications } = services;\nif (!notifications) {\nthrow new Error('Notifications service is unavailable');\n}\n\nconst show = (\n{\ntitle,\nbody,\ncolor,\nicon,\nlifetime,\nonClose,\n} : {\ntitle: string;\nbody: string;\ncolor: string;\nicon: string;\nlifetime?: number;\nonClose?: () => void;\n},\n) => {\nconst notification = notifications.toasts.add({\ntitle,\ntext: body,\ncolor,\niconType: icon,\niconColor: color,\nactions: [{\ntext: 'Close',\ntype: 'button',\nonClick: () => {\nif (onClose) {\nonClose();\n}\nnotifications.toasts.remove(notification);\n},\n},\n],\n});\n\nif (lifetime) {\nsetTimeout(() => {\nnotifications.toasts.remove(notification);\n}, lifetime);\n}\n};\n\nconst success = (\n{\ntitle,\nbody,\nlifetime,\nonClose,\n} : {\ntitle: string;\nbody: string;\nlifetime?: number;\nonClose?: () => void;\n},\n) => {\nshow({\ntitle,\nbody,\ncolor: 'success',\nicon: 'check',\nlifetime,\nonClose,\n});\n};\n\nconst warning = (\n{\ntitle,\nbody,\nlifetime,\nonClose,\n} : {\ntitle: string;\nbody: string;\nlifetime?: number;\nonClose?: () => void;\n},\n) => {\nshow({\ntitle,\nbody,\ncolor: 'warning',\nicon: 'alert',\nlifetime,\nonClose,\n});\n};\n\nconst danger = (\n{\ntitle,\nbody,\nlifetime,\nonClose,\n} : {\ntitle: string;\nbody: string;\nlifetime?: number;\nonClose?: () => void;\n},\n) => {\nshow({\ntitle,\nbody,\ncolor: 'danger',\nicon: 'cross',\nlifetime,\nonClose,\n});\n};\n\nreturn {\nshow,\nsuccess,\nwarning,\ndanger,\n};\n}", "CodeBleu_score": 32.35144351141959}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t\tconst { notifications } = services;\n\tif (!notifications) {\n\t\tthrow new Error('Notifications service is unavailable');\n\t}\n\n\tconst show = (\n\t\ttitle: string,\n\t\t{\n\t\t\tbody,\n\t\t\tcolor,\n\t\t\ticon,\n\t\t\tisAutoDismiss = true,\n\t\t\tonAction,\n\t\t\tonClear,\n\t\t\tonDismiss,\n\t\t\tonUpdate,\n\t\t\tlifetime,\n\t\t}: {\n\t\t\tbody?: string;\n\t\t\tcolor?: string;\n\t\t\ticon?: string;\n\t\t\tisAutoDismiss?: boolean;\n\t\t\tonAction?: () => void;\n\t\t\tonClear?: () => void;\n\t\t\tonDismiss?: () => void;\n\t\t\tonUpdate?: () => void;\n\t\t\tlifetime?: number;\n\t\t}\n\t) => {\n\t\tconst notification = notifications.toasts.add({\n\t\t\ttitle,\n\t\t\tcolor,\n\t\t\ticon,\n\t\t\tbody,\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\ttext: 'Dismiss',\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tonClick: onDismiss,\n\t\t\t\t},\n\t\t\t],\n\t\t\tisAutoDismiss,\n\t\t\tonClear,\n\t\t\tonAction,\n\t\t\tonUpdate,\n\t\t\tlifetime,\n\t\t});\n\n\t\treturn {\n\t\t\tdismiss: notification.dismiss,\n\t\t\tupdate: notification.update,\n\t\t};\n\t};\n\n\treturn {\n\t\tshow,\n\t\tsuccess: (title: string, { body, ...options }: { body?: string } = {}) =>\n\t\t\tshow(title, {\n\t\t\t\tbody: body || 'Success',\n\t\t\t\tcolor: 'success',\n\t\t\t\ticon: 'check',\n\t\t\t\t...options,\n\t\t\t}),\n\t\twarning: (title: string, { body, ...options }: { body?: string } = {}) =>\n\t\t\tshow(title, {\n\t\t\t\tbody: body || 'Warning',\n\t\t\t\tcolor: 'warning',\n\t\t\t\ticon: 'alert',\n\t\t\t\t...options,\n\t\t\t}),\n\t\tdanger: (title: string, { body, ...options }: { body?: string } = {}) =>\n\t\t\tshow(title, {\n\t\t\t\tbody: body || 'Danger',\n\t\t\t\tcolor: 'danger',\n\t\t\t\ticon: 'cross',\n\t\t\t\t...options,\n\t\t\t}),\n\t};\n}", "CodeBleu_score": 26.40601059306108}, {"code": "export const createNotifications = (services: KibanaServices): KibanaReactNotifications => {{\n\t\tconst { notifications } = services;\n\tif (!notifications) {\n\t\tthrow new Error('Notifications service is not available');\n\t}\n\n\tconst show = (\n\t\ttitle: ReactNode,\n\t\t{\n\t\t\tbody,\n\t\t\tcolor,\n\t\t\ticonType,\n\t\t\tisAutoDismiss = true,\n\t\t\tonClick,\n\t\t\tonDismiss,\n\t\t\t...rest\n\t\t}: NotificationArgs\n\t) => {\n\t\tconst notification = notifications.toasts.add({\n\t\t\ttitle,\n\t\t\tcolor,\n\t\t\ticonType,\n\t\t\tbody,\n\t\t\t...rest,\n\t\t\tactions: [{ type: 'button', text: 'Dismiss', onClick: onDismiss }],\n\t\t});\n\n\t\tif (isAutoDismiss && onDismiss) {\n\t\t\tconst timeoutId = setTimeout(onDismiss, DEFAULT_AUTO_DISMISS_TIMEOUT);\n\t\t\tnotification.update({\n\t\t\t\t$timeoutId: timeoutId,\n\t\t\t});\n\t\t}\n\n\t\treturn notification;\n\t};\n\n\tconst success = (\n\t\ttitle: ReactNode,\n\t\t{\n\t\t\tbody,\n\t\t\tisAutoDismiss = true,\n\t\t\tonClick,\n\t\t\tonDismiss,\n\t\t\t...rest\n\t\t}: NotificationArgs\n\t) => show(title, { body, color: 'success', iconType: 'check', isAutoDismiss, onClick, onDismiss, ...rest });\n\n\tconst warning = (\n\t\ttitle: ReactNode,\n\t\t{\n\t\t\tbody,\n\t\t\tisAutoDismiss = true,\n\t\t\tonClick,\n\t\t\tonDismiss,\n\t\t\t...rest\n\t\t}: NotificationArgs\n\t) => show(title, { body, color: 'warning', iconType: 'alert', isAutoDismiss, onClick, onDismiss, ...rest });\n\n\tconst danger = (\n\t\ttitle: ReactNode,\n\t\t{\n\t\t\tbody,\n\t\t\tisAutoDismiss = true,\n\t\t\tonClick,\n\t\t\tonDismiss,\n\t\t\t...rest\n\t\t}: NotificationArgs\n\t) => show(title, { body, color: 'danger', iconType: 'alert', isAutoDismiss, onClick, onDismiss, ...rest });\n\n\treturn {\n\t\tsuccess,\n\t\twarning,\n\t\tdanger,\n\t\tshow,\n\t};\n}", "CodeBleu_score": 29.722010876434997}]}
{"instance_id": "e8c4d43e5232", "generation_result": [{"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tcheckCoreService();\n\tconst mountPoint = services.overlays!.mountPoint(node, options?.theme);\n\treturn services.overlays!.openFlyout(mountPoint, options);\n}", "CodeBleu_score": 48.69997728799418}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tif (!checkCoreService()) {\n\t\treturn;\n\t}\n\n\tconst mountPoint = nodeToMountPoint(node);\n\tconst theme = options?.theme;\n\tconst flyout = services.overlays!.openFlyout(mountPoint, {\n\t\t...options,\n\t\ttheme: theme || 'dark',\n\t});\n\n\tif (flyout) {\n\t\treturn flyout;\n\t}\n}", "CodeBleu_score": 38.3132023393987}, {"code": "const openFlyout: KibanaReactOverlays['openFlyout'] = (node, options?) =>{\n\t\tconst { mountPoint, ...restOptions } = options || {};\n\tconst mountPointNode = mountPoint ? mountPoint : node;\n\tconst mountPointMount = toMountPoint(mountPointNode);\n\tconst overlays = services.overlays!;\n\tif (overlays && overlays.openFlyout) {\n\t\treturn overlays.openFlyout(mountPointMount, restOptions);\n\t}\n\treturn Promise.reject(\n\t\tnew Error('Overlay service not found. Did you forget to initialize CoreServices in your application?')\n\t);\n}", "CodeBleu_score": 32.07221372152237}]}
{"instance_id": "89d99efaa3c9", "generation_result": [{"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t\tconst isLeftClickEvent = event.button === 0;\n\tconst isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n\n\tif (onClickCallback) {\n\t\tonClickCallback(event);\n\t}\n\n\tif (isLeftClickEvent && !isModifiedEvent) {\n\t\tif (event.preventDefault) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\thistory.push(to);\n\t}\n\n\tif (event.target) {\n\t\t(event.target as unknown as { getAttribute: (a: string) => unknown })?.getAttribute(\n\t\t\t'target'\n\t\t);\n\t}\n\n\treturn !isLeftClickEvent || isModifiedEvent;\n  }", "CodeBleu_score": 56.32772090086523}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\t\n// If an onClick callback was provided, execute it.\n    if (onClickCallback) {\n      onClickCallback(event);\n    }\n\n// If the event's default action was prevented, return early.\n    if (event.defaultPrevented) {\n      return;\n    }\n\n// If the event target has a 'target' attribute, return early.\n    if ((event.target as unknown as { getAttribute: (a: string) => unknown })?.getAttribute('target')) {\n      return;\n    }\n\n// If the event is not a left-click, return early.\n    if (!isLeftClickEvent(event)) {\n      return;\n    }\n\n// If the event is modified, return early.\n    if (isModifiedEvent(event)) {\n      return;\n    }\n\n// Prevent the default page reload and navigate to the specified location.\n    event.preventDefault();\n    history.push(to);\n  }", "CodeBleu_score": 76.96654186798013}, {"code": "export const reactRouterOnClickHandler =\n  (history: ScopedHistory | History, to: string | LocationObject, onClickCallback?: Function) =>\n  (event: MouseEvent) =>{\n\tconst isLeftClickEvent = event.button === 0\nconst isModifiedEvent = !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)\n\nif (onClickCallback) onClickCallback(event)\nif (event.defaultPrevented) return\nif (isModifiedEvent) return\nif (isLeftClickEvent) {\n  event.preventDefault()\n  history.push(to)\n}\n\nif (event.target instanceof Element) {\n  const { getAttribute } = event.target\n  if (getAttribute && getAttribute('target')) return\n}\n\nevent.preventDefault()\nhistory.push(to)\n}", "CodeBleu_score": 43.172866209993785}]}
{"instance_id": "8d8e28c04bbd", "generation_result": [{"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t\tconst { settings } = useKibana().services;\n\tconst [value, setValue] = useState(settings.get(key) as T | undefined);\n\n\tconst set = (newValue: T) => {\n\t\tsetValue(newValue);\n\t\treturn settings.set(key, newValue);\n\t};\n\n\tif (!settings.get) {\n\t\tthrow new Error('Global settings service is not available');\n\t}\n\n\tif (value === undefined) {\n\t\tsettings.get(key).then((value) => setValue(value));\n\t}\n\n\treturn [value, set];\n}", "CodeBleu_score": 38.398675263425666}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t\tconst [value, setValue] = useState<T>(defaultValue)\n\tconst [error, setError] = useState<Error | undefined>(undefined)\n\n\tconst settings = useKibana().services.uiSettings\n\n\tconst subscription = settings.get$(key).subscribe({\n\t\tnext: (nextValue: T) => setValue(nextValue),\n\t\terror: (error: Error) => setError(error),\n\t})\n\n\tconst set = (nextValue: T) => {\n\t\tsettings.set(key, nextValue).catch((error: Error) => setError(error))\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => subscription.unsubscribe()\n\t}, [])\n\n\tif (error) {\n\t\tthrow error\n\t}\n\n\treturn [value, set]\n}", "CodeBleu_score": 33.631299784616566}, {"code": "export const useGlobalUiSetting$ = <T>(key: string, defaultValue?: T): [T, Setter<T>] => {\n\t\tconst [value, setValue] = useKibana().services.uiSettings.get(key, defaultValue);\n\tconst [currentValue, setCurrentValue] = useState(value);\n\n\tuseEffect(() => {\n\t\tconst subscription = useKibana().services.uiSettings.get$(key, defaultValue).subscribe(setCurrentValue);\n\t\treturn () => subscription.unsubscribe();\n\t}, [key, defaultValue]);\n\n\tconst set = (newValue: T) => {\n\t\tsetCurrentValue(newValue);\n\t\treturn useKibana().services.uiSettings.set(key, newValue);\n\t};\n\n\treturn [currentValue, set];\n}", "CodeBleu_score": 35.38001265862223}]}
{"instance_id": "7da631faf620", "generation_result": [{"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t\tconst panel = panels[id];\n\tif (!panel) {\n\t\treturn;\n\t}\n\n\tconst { items } = panel;\n\tconst visibleItems = items.slice(0, 10);\n\tconst submenuItems = items.slice(10);\n\n\tif (visibleItems.length === 10) {\n\t\tpanel.items = [\n\t\t\t...visibleItems,\n\t\t\t{\n\t\t\t\ttype: 'submenu',\n\t\t\t\tid: 'more',\n\t\t\t\tlabel: 'More',\n\t\t\t\tsubmenu: submenuItems\n\t\t\t}\n\t\t];\n\t}\n}", "CodeBleu_score": 26.618962005288648}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t\tconst panel = panels[id]\n\tif (panel) {\n\t\tconst { items } = panel\n\t\tif (items.length > 100) {\n\t\t\tconst visibleItems = items.slice(0, 100)\n\t\t\tconst submenuItems = items.slice(100)\n\t\t\tconst moreItem: ItemDescriptor = {\n\t\t\t\tid: 'more',\n\t\t\t\ttitle: 'More',\n\t\t\t\tsubtitle: 'View more items',\n\t\t\t\targ: `more ${id}`,\n\t\t\t\ticon: {\n\t\t\t\t\tpath: 'icons/more.png'\n\t\t\t\t}\n\t\t\t}\n\t\t\tpanel.items = [\n\t\t\t\t...visibleItems,\n\t\t\t\tmoreItem\n\t\t\t]\n\t\t\tpanels[id + '_more'] = {\n\t\t\t\tid: id + '_more',\n\t\t\t\ttitle: panel.title,\n\t\t\t\ticon: panel.icon,\n\t\t\t\titems: submenuItems\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 33.72648996377952}, {"code": "const wrapMainPanelItemsIntoSubmenu = (panels: Record<string, PanelDescriptor>, id: string) =>{\n\t", "CodeBleu_score": 2.806704880912733}]}
{"instance_id": "7a1a98211380", "generation_result": [{"code": "private scheduleFlush(){\n\t\tif (this.pendingTasks.length == 0) {\n\t\tthis.pendingTasks = this.batchingQueue;\n\t\tthis.batchingQueue = [];\n\t\tif (this.pendingTasks.length == 1) {\n\t\t\tthis.executeTask(this.pendingTasks[0]);\n\t\t} else if (this.pendingTasks.length > 1) {\n\t\t\tthis.showPopup(this.pendingTasks);\n\t\t}\n\t}\n\tif (this.pendingTasks.length > 0) {\n\t\tsetTimeout(this.scheduleFlush, 100);\n\t}\n}", "CodeBleu_score": 11.892364664652106}, {"code": "private scheduleFlush(){\n\t\tif (this.batchingQueue.length > 0) {\n\t\tif (this.batchingTimer == null) {\n\t\t\tthis.batchingTimer = setTimeout(() => {\n\t\t\t\tthis.flush();\n\t\t\t}, 100);\n\t\t}\n\t}\n}", "CodeBleu_score": 6.4113569307437075}, {"code": "private scheduleFlush(){\n\t\tif (this.timeout) {\n\t\tclearTimeout(this.timeout);\n\t}\n\tif (this.batching) {\n\t\tthis.timeout = setTimeout(this.flush.bind(this), this.batchDelay);\n\t} else {\n\t\tthis.flush();\n\t}\n}", "CodeBleu_score": 5.324018586730801}]}
{"instance_id": "702779fd9f4a", "generation_result": [{"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\t\tconst actions = await this.getCompatibleActions(context, true);\n\tconst promises = actions.map(action => this.service.executionService.execute(action, context, this, alwaysShowPopup));\n\treturn Promise.all(promises);\n}", "CodeBleu_score": 40.91600283744166}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\t\tconst actions = await this.getCompatibleActions(context, true);\n\treturn this.service.executionService.execute(actions, context, this, alwaysShowPopup);\n}", "CodeBleu_score": 27.066016769103403}, {"code": "public async execute(context: Context, alwaysShowPopup?: boolean){\n\t\tconst actions = this.getCompatibleActions(context);\n\tif (actions.length === 0) {\n\t\treturn;\n\t}\n\n\tconst promises = actions.map(action => this.service.executionService.execute(action, context, this, alwaysShowPopup));\n\tawait Promise.all(promises);\n}", "CodeBleu_score": 42.42665231364106}]}
{"instance_id": "16fd1e46a9be", "generation_result": [{"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\t\tconst images: Uint8Array[] = [];\n\tlet frame = 0;\n\tlet offset = 0;\n\twhile (frame < frameCount) {\n\t\tconst subchunk = chunk.subchunks[frame];\n\t\tif (subchunk.type !== 'icon') {\n\t\t\tthrow new Error('Invalid sub-chunk type');\n\t\t}\n\t\timages.push(subchunk.data.slice(offset));\n\t\tframe += 1;\n\t\toffset += 1;\n\t}\n\treturn images;\n}", "CodeBleu_score": 40.06324504712715}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\t\tconst images: Uint8Array[] = [];\n\n\tfor (let i = 0; i < frameCount; i++) {\n\t\tconst frame: Chunk = chunk.subChunks[i];\n\n\t\tif (frame.type !== 'icon') {\n\t\t\tthrow new Error('Invalid frame chunk type');\n\t\t}\n\n\t\timages.push(frame.slice);\n\t}\n\n\treturn images;\n}", "CodeBleu_score": 39.574284368599926}, {"code": "function readImages(chunk: Chunk, frameCount: number): Uint8Array[] {\n\t\tconst images: Uint8Array[] = [];\n\tconst subChunks = chunk.subChunks;\n\tfor (let i = 0; i < subChunks.length; i++) {\n\t\tconst subChunk = subChunks[i];\n\t\tif (subChunk.type === 'icon') {\n\t\t\tconst imageData = subChunk.data.slice(0, 10);\n\t\t\timages.push(imageData);\n\t\t} else {\n\t\t\tthrow new Error(`Expected icon sub-chunk but got ${subChunk.type}`);\n\t\t}\n\t\tif (i + 1 === frameCount) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn images;\n}", "CodeBleu_score": 42.51331055538565}]}
{"instance_id": "6b6f91239073", "generation_result": [{"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t", "CodeBleu_score": 1.3057002503992328}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t", "CodeBleu_score": 1.3057002503992328}, {"code": "function readAni(contents: Uint8Array): AniCursorImage{\n\t", "CodeBleu_score": 1.3057002503992328}]}
{"instance_id": "f059427111a8", "generation_result": [{"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t\tconst db = await getDb()\n\tconst items = await db.collection('items').find({\n\t\tmetadata: { $exists: true, $ne: null },\n\t}).toArray()\n\n\tconst tooFewFiles = []\n\tconst tooManyFiles = []\n\tconst missingSkinFile = []\n\n\tfor (const item of items) {\n\t\tconst files = item.metadata.files\n\n\t\t// Check if there are too few files\n\t\tif (files.length < 3) {\n\t\t\ttooFewFiles.push(item)\n\t\t\tcontinue\n\t\t}\n\n\t\t// Check if there are too many files\n\t\tif (files.length > 5) {\n\t\t\ttooManyFiles.push(item)\n\t\t\tcontinue\n\t\t}\n\n\t\t// Check if there is a skin file\n\t\tif (!files.some((file) => file.name.includes('skin'))) {\n\t\t\tmissingSkinFile.push(item)\n\t\t\tcontinue\n\t\t}\n\t}\n\n\tlog.info('Internet Archive Metadata')\n\tlog.info('=======================')\n\tlog.info('Too few files:')\n\tlog.info(tooFewFiles)\n\tlog.info('=======================')\n\tlog.info('Too many files:')\n\tlog.info(tooManyFiles)\n\tlog.info('=======================')\n\tlog.info('Missing skin file:')\n\tlog.info(missingSkinFile)\n\tlog.info('=======================')\n}", "CodeBleu_score": 27.012324754491228}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t\tconst items = await getItemsWithMetadata();\n\tconst metadataFiles = await getMetadataFiles(items);\n\tconst itemMetadata = await getMetadata(items);\n\n\tconst tooManyFiles = [];\n\tconst tooFewFiles = [];\n\tconst missingSkinFile = [];\n\n\tfor (const item of items) {\n\t\tconst metadata = itemMetadata[item.identifier];\n\t\tconst metadataFilesForItem = metadataFiles[item.identifier];\n\n\t\tif (metadataFilesForItem.length > 1) {\n\t\t\ttooManyFiles.push(item);\n\t\t} else if (metadataFilesForItem.length === 0) {\n\t\t\ttooFewFiles.push(item);\n\t\t} else if (metadataFilesForItem.length === 1) {\n\t\t\tconst metadataFile = metadataFilesForItem[0];\n\t\t\tconst metadataFileContents = await getMetadataFileContents(metadataFile);\n\t\t\tconst skinFile = getSkinFile(metadataFileContents);\n\n\t\t\tif (skinFile === null) {\n\t\t\t\tmissingSkinFile.push(item);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst table = new Table({\n\t\thead: ['Category', 'Count'],\n\t\tstyle: { head: ['blue'] },\n\t});\n\n\ttable.push(['Too Many Files', tooManyFiles.length]);\n\ttable.push(['Too Few Files', tooFewFiles.length]);\n\ttable.push(['Missing Skin File', missingSkinFile.length]);\n\n\tconsole.log(table.toString());\n}", "CodeBleu_score": 33.57540992298517}, {"code": "export async function checkInternetArchiveMetadata(): Promise<void>{\n\t\tconst db = new Database();\n\tconst items = await db.getItemsWithMetadata();\n\tconst tooManyFiles: Array<Item> = [];\n\tconst tooFewFiles: Array<Item> = [];\n\tconst missingSkinFile: Array<Item> = [];\n\tfor (const item of items) {\n\t\tconst metadataFiles = await db.getMetadataFiles(item);\n\t\tconst skinFiles = await db.getSkinFiles(item);\n\t\tconst files = metadataFiles.concat(skinFiles);\n\t\tif (files.length > 1) {\n\t\t\ttooManyFiles.push(item);\n\t\t} else if (files.length < 1) {\n\t\t\ttooFewFiles.push(item);\n\t\t} else if (files.length === 1 && !skinFiles.length) {\n\t\t\tmissingSkinFile.push(item);\n\t\t}\n\t}\n\tconst summary = {\n\t\ttooManyFiles: tooManyFiles.length,\n\t\ttooFewFiles: tooFewFiles.length,\n\t\tmissingSkinFile: missingSkinFile.length,\n\t};\n\tconsole.table(summary);\n}", "CodeBleu_score": 30.439732937726372}]}
{"instance_id": "9d9b04763521", "generation_result": [{"code": "function useSkinKeyboardControls(){\n\t\tconst [skinIndex, setSkinIndex] = React.useState(0);\n\tconst [isPressed, setIsPressed] = React.useState(false);\n\tconst [isFocused, setIsFocused] = React.useState(false);\n\n\tconst handleKeyDown = (event) => {\n\t\tif (event.key === \"ArrowRight\") {\n\t\t\tif (isPressed) {\n\t\t\t\tsetSkinIndex((skinIndex + 1) % skins.length);\n\t\t\t}\n\t\t} else if (event.key === \"ArrowLeft\") {\n\t\t\tif (isPressed) {\n\t\t\t\tsetSkinIndex((skinIndex + skins.length - 1) % skins.length);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event) => {\n\t\tif (event.key === \"ArrowRight\" || event.key === \"ArrowLeft\") {\n\t\t\tsetIsPressed(false);\n\t\t}\n\t};\n\n\tconst handleMouseDown = (event) => {\n\t\tif (event.button === 0) {\n\t\t\tsetIsPressed(true);\n\t\t}\n\t};\n\n\tconst handleMouseUp = (event) => {\n\t\tif (event.button === 0) {\n\t\t\tsetIsPressed(false);\n\t\t}\n\t};\n\n\tconst handleFocus = (event) => {\n\t\tsetIsFocused(true);\n\t};\n\n\tconst handleBlur = (event) => {\n\t\tsetIsFocused(false);\n\t};\n\n\tReact.useEffect(() => {\n\t\twindow.addEventListener(\"keydown\", handleKeyDown);\n\t\twindow.addEventListener(\"keyup\", handleKeyUp);\n\t\twindow.addEventListener(\"mousedown\", handleMouseDown);\n\t\twindow.addEventListener(\"mouseup\", handleMouseUp);\n\t\twindow.addEventListener(\"focus\", handleFocus);\n\t\twindow.addEventListener(\"blur\", handleBlur);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handleKeyDown);\n\t\t\twindow.removeEventListener(\"keyup\", handleKeyUp);\n\t\t\twindow.removeEventListener(\"mousedown\", handleMouseDown);\n\t\t\twindow.removeEventListener(\"mouseup\", handleMouseUp);\n\t\t\twindow.removeEventListener(\"focus\", handleFocus);\n\t\t\twindow.removeEventListener(\"blur\", handleBlur);\n\t\t};\n\t}, []);\n\n\treturn {\n\t\tskinIndex,\n\t\tisPressed,\n\t\tisFocused,\n\t};\n}", "CodeBleu_score": 24.54114091614659}, {"code": "function useSkinKeyboardControls(){\n\t\tconst { skins, setSkinIndex } = useSkinContext();\n\tconst { setControlsDisabled } = useControlsContext();\n\n\tconst handleArrowRightPress = () => {\n\t\tsetSkinIndex((prev) => (prev + 1) % skins.length);\n\t};\n\n\tconst handleArrowLeftPress = () => {\n\t\tsetSkinIndex((prev) => (prev + skins.length - 1) % skins.length);\n\t};\n\n\tconst handleArrowRightRelease = () => {\n\t\tsetControlsDisabled(false);\n\t};\n\n\tconst handleArrowLeftRelease = () => {\n\t\tsetControlsDisabled(false);\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", handleArrowRightPress);\n\t\twindow.addEventListener(\"keyup\", handleArrowRightRelease);\n\t\twindow.addEventListener(\"keydown\", handleArrowLeftPress);\n\t\twindow.addEventListener(\"keyup\", handleArrowLeftRelease);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"keydown\", handleArrowRightPress);\n\t\t\twindow.removeEventListener(\"keyup\", handleArrowRightRelease);\n\t\t\twindow.removeEventListener(\"keydown\", handleArrowLeftPress);\n\t\t\twindow.removeEventListener(\"keyup\", handleArrowLeftRelease);\n\t\t};\n\t}, []);\n}", "CodeBleu_score": 28.725593629070932}, {"code": "function useSkinKeyboardControls(){\n\t\tconst [skinIndex, setSkinIndex] = React.useState(0);\n\tconst skins = React.useContext(SkinsContext);\n\n\tfunction handleKeyDown(event) {\n\t\tif (event.key === \"ArrowRight\") {\n\t\t\tevent.preventDefault();\n\t\t\tsetSkinIndex(skinIndex => (skinIndex + 1) % skins.length);\n\t\t} else if (event.key === \"ArrowLeft\") {\n\t\t\tevent.preventDefault();\n\t\t\tsetSkinIndex(skinIndex => (skinIndex + skins.length - 1) % skins.length);\n\t\t}\n\t}\n\n\tReact.useEffect(() => {\n\t\twindow.addEventListener(\"keydown\", handleKeyDown);\n\t\treturn () => window.removeEventListener(\"keydown\", handleKeyDown);\n\t}, []);\n\n\treturn skinIndex;\n}", "CodeBleu_score": 29.11848683846443}]}
{"instance_id": "c49e878d86ad", "generation_result": [{"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t", "CodeBleu_score": 19.43816909516725}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\treturn (dispatch: Dispatch) => {\n\t\tdispatch({\n\t\t\ttype: \"openFileDialog\",\n\t\t\tpayload: {\n\t\t\t\taccept,\n\t\t\t\texpectedType,\n\t\t\t},\n\t\t});\n\n\t\tconst { fileReferences, canceled } = window.showOpenDialog({\n\t\t\ttitle: \"Open File\",\n\t\t\tbuttonLabel: \"Open\",\n\t\t\tproperties: [\"openFile\", \"multiSelections\"],\n\t\t\tfilters: [\n\t\t\t\t{ name: \"Skin Files\", extensions: [\"skn\"] },\n\t\t\t\t{ name: \"Media Files\", extensions: [\"mp3\", \"wav\"] },\n\t\t\t\t{ name: \"Equalizer Files\", extensions: [\"eqf\"] },\n\t\t\t],\n\t\t});\n\n\t\tdispatch({\n\t\t\ttype: \"promptForFileReferences\",\n\t\t\tpayload: {\n\t\t\t\tfileReferences,\n\t\t\t\tcanceled,\n\t\t\t},\n\t\t});\n\n\t\tif (!canceled) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"loadFilesFromReferences\",\n\t\t\t\tpayload: {\n\t\t\t\t\tfileReferences,\n\t\t\t\t\texpectedType,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t};\n}", "CodeBleu_score": 40.33144162033092}, {"code": "function _openFileDialog(\n  accept: string | null,\n  expectedType: \"SKIN\" | \"MEDIA\" | \"EQ\"\n): Thunk{\n\t\treturn (dispatch, getState) => {\n\t\tconst {\n\t\t\tapp: {\n\t\t\t\tfileBrowser: {\n\t\t\t\t\tfileReferences\n\t\t\t\t}\n\t\t\t}\n\t\t} = getState();\n\t\tconst options = {\n\t\t\tproperties: [\"openFile\", \"multiSelections\"],\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\tname: \"Skin\",\n\t\t\t\t\textensions: [\"skin\"]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Media\",\n\t\t\t\t\textensions: [\"mp3\", \"wav\", \"ogg\", \"mp4\", \"mov\", \"webm\"]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"Equalizer\",\n\t\t\t\t\textensions: [\"eq\"]\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tif (accept) {\n\t\t\toptions.filters[expectedType].extensions.push(accept);\n\t\t}\n\t\tdialog.showOpenDialog(\n\t\t\tremote.getCurrentWindow(),\n\t\t\toptions,\n\t\t\t(filePaths: string[] | null) => {\n\t\t\t\tif (filePaths) {\n\t\t\t\t\tconst fileReference = filePaths[0];\n\t\t\t\t\tconst fileNames = filePaths.map(path => path.split(/[\\\\/]/).pop());\n\t\t\t\t\tconst fileCount = filePaths.length;\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: SET_FILE_REFERENCES,\n\t\t\t\t\t\tfileReferences: {\n\t\t\t\t\t\t\t...fileReferences,\n\t\t\t\t\t\t\t[expectedType]: fileReference\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: SET_FILE_NAMES,\n\t\t\t\t\t\tfileNames: {\n\t\t\t\t\t\t\t...fileNames\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: SET_FILE_COUNT,\n\t\t\t\t\t\tfileCount: {\n\t\t\t\t\t\t\t...fileCount\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: SET_FILE_TYPE,\n\t\t\t\t\t\tfileType: expectedType\n\t\t\t\t\t});\n\t\t\t\t\tdispatch(loadFilesFromReferences());\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n}", "CodeBleu_score": 34.990053571989236}]}
{"instance_id": "afa715d20f88", "generation_result": [{"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\n}", "CodeBleu_score": 11.677704588262825}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\n}", "CodeBleu_score": 11.677704588262825}, {"code": "export function loadMedia(\n  e: React.DragEvent<HTMLDivElement>,\n  loadStyle: LoadStyle = LOAD_STYLE.NONE,\n  atIndex = 0\n): Thunk{\n\t\n}", "CodeBleu_score": 11.677704588262825}]}
{"instance_id": "0faea0aa350c", "generation_result": [{"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t+   dispatch({ type: 'FETCH_MEDIA_TAGS_STARTED', id });\n    try {\n      // We use the requireMusicMetadata hook to get the fetchMediaTags function\n      // from the MusicMetadata module.\n      const fetchMediaTags = requireMusicMetadata().fetchMediaTags;\n-     const tags = await fetchMediaTags(file);\n+     const tags = await fetchMediaTags(file, {\n+       // We can pass options to the fetchMediaTags function.\n+       // For example, we can pass a custom decoder to decode tags from a\n+       // custom format.\n+       decoder: myDecoder,\n+     });\n      dispatch({ type: 'FETCH_MEDIA_TAGS_COMPLETED', id, tags });\n    } catch (error) {\n-     dispatch({ type: 'FETCH_MEDIA_TAGS_FAILED', id, error });\n+     dispatch({ type: 'FETCH_MEDIA_TAGS_FAILED', id, error: error.message });\n    }\n  }", "CodeBleu_score": 22.916102445505725}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\n// dispatch an action to indicate the request has started\n    dispatch(fetchMediaTagsStarted(id));\n\n// fetch the metadata\n    const metadata = await requireMusicMetadata(file);\n\n// extract relevant information\n    const { artist, title, album, artwork } = extractMediaTags(metadata);\n\n// dispatch an action to set the media tags\n    dispatch(fetchMediaTagsSucceeded(id, artist, title, album, artwork));\n  }", "CodeBleu_score": 11.868087331381183}, {"code": "export function fetchMediaTags(file: string | Blob, id: number): Thunk {\n  return async (dispatch, getState, { requireMusicMetadata }) =>{\n\t\n// dispatch an action to indicate the request has started\n    dispatch({\n      type: actionTypes.FETCH_MEDIA_TAGS_REQUEST,\n      payload: {\n        id,\n      },\n    });\n\n// fetch the media tags\n    let tags = await requireMusicMetadata(file);\n\n// extract relevant information\n    let title = tags.common.title;\n    let artist = tags.common.artist;\n    let album = tags.common.album;\n    let artwork = tags.common.picture;\n\n// dispatch an action to set the media tags\n    dispatch({\n      type: actionTypes.FETCH_MEDIA_TAGS_SUCCESS,\n      payload: {\n        id,\n        title,\n        artist,\n        album,\n        artwork,\n      },\n    });\n  }", "CodeBleu_score": 18.73896953769537}]}
{"instance_id": "02174213852f", "generation_result": [{"code": "export function playTrack(id: number): Thunk {{\n\t\treturn (dispatch, getState) => {\n\t\tconst state = getState()\n\t\tconst mediaStatus = selectors.getMediaStatus(state)\n\n\t\tif (mediaStatus === MediaStatus.STOPPED) {\n\t\t\tdispatch(bufferTrack(id))\n\t\t} else {\n\t\t\tdispatch(playTrack(id))\n\t\t}\n\t}\n}", "CodeBleu_score": 45.0159801398911}, {"code": "export function playTrack(id: number): Thunk {{\n\t\treturn (dispatch: Dispatch, getState: GetState) => {\n\t\tconst state = getState();\n\t\tconst mediaStatus = state.media.mediaStatus;\n\n\t\tif (mediaStatus.status === 'STOPPED') {\n\t\t\tdispatch(bufferTrack(id));\n\t\t} else {\n\t\t\tdispatch(playTrack(id));\n\t\t}\n\t};\n}", "CodeBleu_score": 39.405751841327906}, {"code": "export function playTrack(id: number): Thunk {{\n\treturn (dispatch: Dispatch, getState: GetState) => {\nconst state = getState();\nconst mediaStatus = selectors.getMediaStatus(state);\nif (mediaStatus === MEDIA_STATUS.STOPPED) {\ndispatch(bufferTrack(id));\n} else {\ndispatch(playTrack(id));\n}\n};\n}", "CodeBleu_score": 44.902076144777666}]}
{"instance_id": "643b829015d2", "generation_result": [{"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault()\n\treturn (dispatch, getState) => {\n\t\tconst { volume } = getState().audio\n\t\tconst newVolume = volume + e.deltaY * -0.0005\n\t\tdispatch(setVolume(newVolume))\n\t}\n}", "CodeBleu_score": 56.42920591655105}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault()\n\treturn (dispatch, getState) => {\n\t\tconst state = getState()\n\t\tconst volume = state.volume\n\t\tconst newVolume = volume + e.deltaY\n\t\tif (newVolume > 100) {\n\t\t\tdispatch(setVolume(100))\n\t\t} else if (newVolume < 0) {\n\t\t\tdispatch(setVolume(0))\n\t\t} else {\n\t\t\tdispatch(setVolume(newVolume))\n\t\t}\n\t}\n}", "CodeBleu_score": 51.87982894992575}, {"code": "export function scrollVolume(e: React.WheelEvent<HTMLDivElement>): Thunk{\n\t\te.preventDefault()\n\treturn (dispatch, getState) => {\n\t\tconst currentVolume = getState().volume\n\t\tdispatch(setVolume(currentVolume + e.deltaY))\n\t}\n}", "CodeBleu_score": 66.05490913276962}]}
{"instance_id": "d97c127090ce", "generation_result": [{"code": "function FullScreen(props: Props){\n\t\tconst {\n\t\tenabled,\n\t\tchildren,\n\t\tclassName,\n\t\t...rest\n\t} = props;\n\n\tconst target = React.useRef<HTMLDivElement | null>(null);\n\n\tReact.useEffect(() => {\n\t\tconst handleFullscreenChange = () => {\n\t\t\tif (enabled) {\n\t\t\t\tenterFullScreen(target.current);\n\t\t\t} else {\n\t\t\t\tleaveFullScreen(target.current);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('fullscreenchange', handleFullscreenChange);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('fullscreenchange', handleFullscreenChange);\n\t\t};\n\t}, [enabled]);\n\n\tReact.useLayoutEffect(() => {\n\t\tif (enabled) {\n\t\t\tenterFullScreen(target.current);\n\t\t} else {\n\t\t\tleaveFullScreen(target.current);\n\t\t}\n\t}, [enabled]);\n\n\treturn (\n\t\t<div\n\t\t\tref={target}\n\t\t\tclassName={classNames(className, 'fullscreen')}\n\t\t\t{...rest}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 41.16360694005035}, {"code": "function FullScreen(props: Props){\n\tconst {\nchildren,\nenabled = false,\n} = props;\nconst targetRef = React.useRef<HTMLElement | null>(null);\nconst [isFullscreen, setIsFullscreen] = React.useState(false);\nconst handleFullscreenChange = React.useCallback(() => {\nif (targetRef.current) {\nsetIsFullscreen(document.fullscreenElement === targetRef.current);\n}\n}, [targetRef]);\nReact.useEffect(() => {\nif (enabled) {\ndocument.addEventListener('fullscreenchange', handleFullscreenChange);\n}\nreturn () => {\nif (enabled) {\ndocument.removeEventListener('fullscreenchange', handleFullscreenChange);\n}\n};\n}, [enabled, handleFullscreenChange]);\nconst handleEnterFullScreen = React.useCallback(() => {\nif (targetRef.current) {\ntargetRef.current.requestFullscreen();\n}\n}, [targetRef]);\nconst handleLeaveFullScreen = React.useCallback(() => {\nif (document.fullscreenElement) {\ndocument.exitFullscreen();\n}\n}, []);\nReact.useLayoutEffect(() => {\nif (enabled) {\nif (targetRef.current) {\ntargetRef.current.requestFullscreen();\n}\n} else {\nif (document.fullscreenElement) {\ndocument.exitFullscreen();\n}\n}\n}, [enabled]);\nreturn (\n<div ref={targetRef} style={enabled ? {\nposition: 'fixed',\ntop: 0,\nleft: 0,\nwidth: '100%',\nheight: '100%',\nzIndex: 999999999,\n} : {}}>\n{children}\n</div>\n);\n}", "CodeBleu_score": 42.121700948224124}, {"code": "function FullScreen(props: Props){\n\t", "CodeBleu_score": 0.7181526259630319}]}
{"instance_id": "d333738337a8", "generation_result": [{"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\tif (skinRegion) {\n\t\tskinRegion.forEach((region) => {\n\t\t\tconst { name, polygon } = region;\n\t\t\tif (polygon) {\n\t\t\t\tclipPaths[name] = polygon;\n\t\t\t}\n\t\t});\n\t}\n\treturn clipPaths;\n}", "CodeBleu_score": 21.775026604908696}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\n\tif (skinRegion) {\n\t\tObject.keys(skinRegion).forEach((regionName) => {\n\t\t\tconst region = skinRegion[regionName];\n\t\t\tconst regionID = region.id;\n\n\t\t\tif (region.polygon) {\n\t\t\t\tclipPaths[regionID] = region.polygon;\n\t\t\t}\n\t\t});\n\t}\n\n\treturn clipPaths;\n}", "CodeBleu_score": 24.93758628765547}, {"code": "const getClipPaths = createSelector(Selectors.getSkinRegion, (skinRegion) =>{\n\t\tconst clipPaths = {};\n\tif (skinRegion) {\n\t\tskinRegion.forEach((region) => {\n\t\t\tconst { name, polygons } = region;\n\t\t\tif (polygons) {\n\t\t\t\tclipPaths[name] = polygons;\n\t\t\t}\n\t\t});\n\t}\n\treturn clipPaths;\n}", "CodeBleu_score": 23.195830167418986}]}
{"instance_id": "6d30b280ffbe", "generation_result": [{"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets: number[] = new Array(NUM_OCTAVES).fill(0);\n\tconst octaveStep: number = Math.pow(2, 1 / NUM_OCTAVES);\n\tconst minHz: number = MIN_HZ;\n\tconst maxHz: number = MAX_HZ;\n\tconst freqStep: number = Math.pow(octaveStep, 1 / NUM_OCTAVES);\n\tlet freq: number = minHz;\n\tfor (let i: number = 0; i < NUM_OCTAVES; i++) {\n\t\tconst index: number = Math.floor(freq / freqStep);\n\t\tif (index >= bufferLength) {\n\t\t\tindex = bufferLength - 1;\n\t\t}\n\t\toctaveBuckets[i] = index;\n\t\tfreq *= octaveStep;\n\t}\n\treturn octaveBuckets;\n}", "CodeBleu_score": 38.20067439594539}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets: number[] = new Array(NUM_OCTAVES).fill(0)\n\tconst step: number = Math.pow(2, 1 / NUM_OCTAVES)\n\tlet currentStep: number = step\n\tlet i: number = 0\n\tlet j: number = 0\n\tlet k: number = 0\n\twhile (currentStep < maxHz) {\n\t\tconst freq: number = minHz * Math.pow(currentStep, 1 / 12)\n\t\twhile (freq < maxHz) {\n\t\t\tconst index: number = Math.floor(freq / sampleRate * bufferLength)\n\t\t\tif (index > octaveBuckets[j]) {\n\t\t\t\toctaveBuckets[j] = index\n\t\t\t\ti = j\n\t\t\t}\n\t\t\tfreq *= 2\n\t\t\tk++\n\t\t}\n\t\tj++\n\t\tcurrentStep *= step\n\t}\n\treturn octaveBuckets\n}", "CodeBleu_score": 29.959670673299993}, {"code": "function octaveBucketsForBufferLength(bufferLength: number): number[]{\n\t\tconst octaveBuckets = new Array(NUM_OCTAVES).fill(0)\n\tconst octaveStep = Math.pow(2, 1 / NUM_OCTAVES)\n\tconst minHz = MIN_HZ\n\tconst maxHz = MAX_HZ\n\tconst minIdx = Math.round(minHz / SAMPLE_RATE * bufferLength)\n\tconst maxIdx = Math.round(maxHz / SAMPLE_RATE * bufferLength)\n\tconst step = Math.round(octaveStep / SAMPLE_RATE * bufferLength)\n\tfor (let i = minIdx; i < maxIdx; i += step) {\n\t\tconst hz = i / bufferLength * SAMPLE_RATE\n\t\tconst octave = Math.log2(hz / minHz)\n\t\tconst octaveIdx = Math.floor(octave)\n\t\tif (octaveIdx < 0 || octaveIdx >= NUM_OCTAVES) {\n\t\t\tcontinue\n\t\t}\n\t\tconst bucket = octaveBuckets[octaveIdx]\n\t\toctaveBuckets[octaveIdx] = bucket + 1\n\t}\n\treturn octaveBuckets\n}", "CodeBleu_score": 37.61619336505627}]}
{"instance_id": "e7c399fb0db4", "generation_result": [{"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}, {"code": "function EqGraph(){\n\t", "CodeBleu_score": 0.8779573970704413}]}
{"instance_id": "b858f410c3f3", "generation_result": [{"code": "const ClutterBar = memo(() =>{\n\t", "CodeBleu_score": 1.1151438765950388}, {"code": "const ClutterBar = memo(() =>{\n\t\tconst [doubled, setDoubled] = useTypedSelector(d.doubled)\n\tconst [focused, setFocused] = useTypedSelector(d.focused)\n\tconst dispatch = useDispatch()\n\n\tconst toggleDoubled = () => {\n\t\tsetDoubled(!doubled)\n\t}\n\n\tconst handleMouseUp = () => {\n\t\tdispatch(d.setFocused(false))\n\t}\n\n\tconst handleMouseDown = () => {\n\t\tdispatch(d.setFocused(true))\n\t}\n\n\treturn (\n\t\t<div className=\"clutter-bar\">\n\t\t\t<div className=\"clutter-bar-buttons\">\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tDoubled\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tTriple\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tQuadruple\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"clutter-bar-context-menu\">\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tDoubled\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tTriple\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tclassName={focused ? 'focused' : ''}\n\t\t\t\t\tonClick={toggleDoubled}\n\t\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\t>\n\t\t\t\t\tQuadruple\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}", "CodeBleu_score": 21.29608271618486}, {"code": "const ClutterBar = memo(() =>{\n\t\tconst [doubled, setDoubled] = useTypedSelector(state => state.clutter.doubled)\n\tconst doubledClass = doubled ? 'doubled' : ''\n\tconst doubledHandler = () => setDoubled(!doubled)\n\tconst doubledAction = useActionCreator(setDoubled)\n\treturn (\n\t\t<div className='clutter-bar'>\n\t\t\t<div className='clutter-bar-buttons'>\n\t\t\t\t<button onClick={doubledHandler} className={doubledClass}>Doubled</button>\n\t\t\t\t<button onClick={doubledHandler}>Halved</button>\n\t\t\t\t<button onClick={doubledHandler}>Normal</button>\n\t\t\t</div>\n\t\t\t<div className='clutter-bar-context-menu'>\n\t\t\t\t<button onClick={doubledHandler}>Doubled</button>\n\t\t\t\t<button onClick={doubledHandler}>Halved</button>\n\t\t\t\t<button onClick={doubledHandler}>Normal</button>\n\t\t\t</div>\n\t\t</div>\n\t)\n}", "CodeBleu_score": 24.01692178828346}]}
{"instance_id": "5946b13d68ba", "generation_result": [{"code": "const PlaylistToggleButton = memo(() =>{\n\tconst playlistOpen = useTypedSelector(Selectors.getWindowOpen);\nconst togglePlaylist = useActionCreator(ActionCreators.togglePlaylist);\nconst toggleClassName = `playlist-toggle ${playlistOpen ? 'open' : ''}`;\nconst toggleTitle = playlistOpen ? 'Close Playlist' : 'Open Playlist';\nreturn (\n<button\nclassName={toggleClassName}\nid=\"playlist-toggle\"\nonClick={togglePlaylist}\ntitle={toggleTitle}\n>\n<i className=\"material-icons\">playlist_play</i>\n</button>\n);\n}", "CodeBleu_score": 29.477943503399402}, {"code": "const PlaylistToggleButton = memo(() =>{\n\tconst isOpen = useTypedSelector(Selectors.getWindowOpen);\nconst togglePlaylist = useTypedActionCreator(ActionCreators.togglePlaylist);\nreturn (\n<button\nid=\"playlist-toggle-button\"\nclassName={isOpen ? \"toggle-button toggle-button-open\" : \"toggle-button\"}\nonClick={togglePlaylist}\ntitle=\"Toggle playlist editor\"\n>\n<FontAwesomeIcon icon={faListUl} />\n</button>\n);\n}", "CodeBleu_score": 27.559090409749288}, {"code": "const PlaylistToggleButton = memo(() =>{\n\tconst isOpen = useTypedSelector(Selectors.getWindowOpen)\nconst togglePlaylist = useActionCreator(ActionCreators.togglePlaylist)\nreturn (\n<button\nid=\"playlist-toggle\"\nclassName={isOpen ? \"open\" : \"closed\"}\nonClick={togglePlaylist}\ntitle=\"Toggle Playlist Editor\"\n>\n{isOpen ? \"Close\" : \"Open\"}\n</button>\n)\n}", "CodeBleu_score": 30.94169654607526}]}
{"instance_id": "39ecf0db7a99", "generation_result": [{"code": "const Desktop = React.memo(({ children }: Props) =>{\n\tconst [container] = React.useState(document.createElement(\"div\"));\ncontainer.className = \"webamp-desktop\";\nReact.useEffect(() => {\ndocument.body.appendChild(container);\nreturn () => {\ndocument.body.removeChild(container);\n};\n}, [container]);\nreturn ReactDOM.createPortal(children, container);\n}", "CodeBleu_score": 39.27879443204868}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\tconst ref = React.useRef<HTMLDivElement>(null);\nconst [isMounted, setIsMounted] = React.useState(false);\n\nReact.useEffect(() => {\nsetIsMounted(true);\nreturn () => setIsMounted(false);\n}, []);\n\nif (!isMounted) {\nreturn null;\n}\n\nreturn ReactDOM.createPortal(\n<div className=\"webamp-desktop\" ref={ref}>{children}</div>,\ndocument.body\n);\n}", "CodeBleu_score": 24.30923812500123}, {"code": "const Desktop = React.memo(({ children }: Props) =>{\n\tconst [portal, setPortal] = React.useState<HTMLElement | null>(null);\nReact.useEffect(() => {\nif (portal === null) {\nconst newPortal = document.createElement(\"div\");\nnewPortal.className = \"webamp-desktop\";\ndocument.body.appendChild(newPortal);\nsetPortal(newPortal);\n}\nreturn () => {\nif (portal !== null) {\ndocument.body.removeChild(portal);\n}\n};\n}, [portal]);\nif (portal === null) {\nreturn null;\n}\nreturn ReactDOM.createPortal(children, portal);\n}", "CodeBleu_score": 36.48477237942207}]}
{"instance_id": "41be320578a4", "generation_result": [{"code": "export default function PlaylistScrollBar(){\n\t\tconst { playlist, scrollPosition, isVisible } = usePlaylistStore();\n\tconst { height } = useWindowSize();\n\tconst scrollBarHeight = Math.max(height * 0.05, 20);\n\n\tconst playlistHeight = usePlaylistHeight();\n\tconst playlistScrollPosition = usePlaylistScrollPosition();\n\n\tconst handleScroll = (value: number) => {\n\t\tdispatch(updateScrollPosition(value));\n\t};\n\n\tconst handleScrollEnd = (value: number) => {\n\t\tdispatch(updateScrollPosition(value));\n\t};\n\n\treturn (\n\t\t<div className=\"scrollbar\">\n\t\t\t<VerticalSlider\n\t\t\t\tvalue={scrollPosition}\n\t\t\t\tmin={0}\n\t\t\t\tmax={playlistHeight - scrollBarHeight}\n\t\t\t\tstep={1}\n\t\t\t\tonChange={handleScroll}\n\t\t\t\tonEnd={handleScrollEnd}\n\t\t\t\tdisabled={!isVisible}\n\t\t\t\tclassName=\"scrollbar__slider\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"scrollbar__handle\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: scrollBarHeight,\n\t\t\t\t\t\ttop: playlistScrollPosition,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</VerticalSlider>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 28.806901863002793}, {"code": "export default function PlaylistScrollBar(){\n\t\tconst playlistHeight = useRecoilValue(playlistHeightSelector);\n\tconst scrollPosition = useRecoilValue(scrollPositionSelector);\n\tconst isVisible = useRecoilValue(isVisibleSelector);\n\tconst dispatch = useDispatch();\n\n\tconst handleScroll = (event, value) => {\n\t\tdispatch(setPlaylistScrollPosition(value));\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\theight: playlistHeight,\n\t\t\t\tdisplay: isVisible ? \"block\" : \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<VerticalSlider\n\t\t\t\tvalue={scrollPosition}\n\t\t\t\tmin={0}\n\t\t\t\tmax={playlistHeight - 100}\n\t\t\t\tonChange={handleScroll}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tmarginBottom: 5,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 29.73055781767753}, {"code": "export default function PlaylistScrollBar(){\n\t\tconst playlistHeight = useAppSelector(selectPlaylistHeight)\n\tconst scrollPosition = useAppSelector(selectPlaylistScrollPosition)\n\tconst tracksVisible = useAppSelector(selectTracksVisible)\n\tconst dispatch = useAppDispatch()\n\n\tconst handleScroll = (event, value) => {\n\t\tdispatch(updatePlaylistScrollPosition(value))\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\theight: '100%',\n\t\t\t\twidth: '100%',\n\t\t\t\toverflowY: 'scroll',\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\tjustifyContent: 'flex-start',\n\t\t\t\talignItems: 'center',\n\t\t\t}}\n\t\t>\n\t\t\t<VerticalSlider\n\t\t\t\tvalue={scrollPosition}\n\t\t\t\tmin={0}\n\t\t\t\tmax={playlistHeight - 100}\n\t\t\t\tstep={1}\n\t\t\t\tonChange={handleScroll}\n\t\t\t\tdisabled={tracksVisible}\n\t\t\t/>\n\t\t</div>\n\t)\n}", "CodeBleu_score": 29.344832862109726}]}
{"instance_id": "fccf51432007", "generation_result": [{"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\treturn new Promise((resolve, reject) => {\n\t\tconst audio = new Audio();\n\t\taudio.crossOrigin = \"anonymous\";\n\t\taudio.preload = \"auto\";\n\t\taudio.src = url;\n\t\taudio.onloadedmetadata = () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.onloadedmetadata = null;\n\t\t};\n\t\taudio.onerror = (e) => {\n\t\t\treject(e);\n\t\t\taudio.onerror = null;\n\t\t};\n\t});\n}", "CodeBleu_score": 31.738884918401922}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\tconst audio = document.createElement('audio');\n\taudio.crossOrigin = 'anonymous';\n\taudio.preload = 'metadata';\n\taudio.src = url;\n\n\treturn new Promise((resolve, reject) => {\n\t\taudio.addEventListener('durationchange', () => {\n\t\t\tresolve(audio.duration);\n\t\t\taudio.removeEventListener('durationchange', () => {});\n\t\t});\n\t\taudio.addEventListener('error', () => {\n\t\t\treject(audio.error);\n\t\t\taudio.removeEventListener('error', () => {});\n\t\t});\n\t});\n}", "CodeBleu_score": 35.60790925877812}, {"code": "export function genMediaDuration(url: string): Promise<number>{\n\t\treturn new Promise((resolve, reject) => {\n\t\tconst audio = new Audio()\n\t\taudio.crossOrigin = 'anonymous'\n\t\taudio.preload = 'metadata'\n\t\taudio.src = url\n\t\taudio.addEventListener('durationchange', () => {\n\t\t\tresolve(audio.duration)\n\t\t\taudio.removeEventListener('durationchange', null)\n\t\t})\n\t\taudio.addEventListener('error', (err) => {\n\t\t\treject(err)\n\t\t\taudio.removeEventListener('error', null)\n\t\t})\n\t})\n}", "CodeBleu_score": 32.43649815069066}]}
{"instance_id": "8055da9c9425", "generation_result": [{"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\tif (fileReference === null) {\n\t\treturn Promise.reject(\n\t\t\tnew Error(\"File reference was null. File must be selected.\")\n\t\t);\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event: any) => {\n\t\t\tresolve(event.target.result);\n\t\t};\n\t\treader.onerror = (event: any) => {\n\t\t\treject(event.target.error);\n\t\t};\n\t\treader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 53.46802260227188}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\tif (!fileReference) {\n\t\tthrow new Error(\"fileReference is null\");\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event: any) => {\n\t\t\tif (event.target) {\n\t\t\t\tresolve(event.target.result);\n\t\t\t}\n\t\t};\n\t\treader.onerror = (event: any) => {\n\t\t\treject(event.target.error);\n\t\t};\n\t\treader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 53.86506749546044}, {"code": "export async function genArrayBufferFromFileReference(\n  fileReference: File\n): Promise<any>{\n\t\tif (fileReference == null) {\n\t\tthrow new Error(\"fileReference must not be null\");\n\t}\n\treturn new Promise((resolve, reject) => {\n\t\tconst reader = new FileReader();\n\t\treader.onload = (event: any) => {\n\t\t\tresolve(event.target.result);\n\t\t};\n\t\treader.onerror = (event: any) => {\n\t\t\treject(event.error);\n\t\t};\n\t\treader.readAsArrayBuffer(fileReference);\n\t});\n}", "CodeBleu_score": 55.06802192169945}]}
{"instance_id": "b3dc12d7d309", "generation_result": [{"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = React.useState<T | null>(null);\n\tconst [disposed, setDisposed] = React.useState<boolean>(false);\n\n\tReact.useEffect(() => {\n\t\tconst dispose = () => {\n\t\t\tsetDisposed(true);\n\t\t};\n\n\t\tconst resolve = () => {\n\t\t\tif (!disposed) {\n\t\t\t\tsetValue(propValue);\n\t\t\t}\n\t\t};\n\n\t\tconst reject = () => {\n\t\t\tif (!disposed) {\n\t\t\t\tsetValue(null);\n\t\t\t}\n\t\t};\n\n\t\tpropValue.then(resolve, reject);\n\n\t\treturn dispose;\n\t}, [propValue, disposed]);\n\n\treturn value;\n}", "CodeBleu_score": 39.61949598259482}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = React.useState<T | null>(null);\n\tconst [disposed, setDisposed] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tif (disposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tasync function handlePromise() {\n\t\t\ttry {\n\t\t\t\tconst resolvedValue = await propValue;\n\t\t\t\tif (!disposed) {\n\t\t\t\t\tsetValue(resolvedValue);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tif (!disposed) {\n\t\t\t\t\tsetValue(null);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\thandlePromise();\n\n\t\treturn () => {\n\t\t\tsetDisposed(true);\n\t\t};\n\t}, [propValue, disposed]);\n\n\treturn value;\n}", "CodeBleu_score": 44.76616592857291}, {"code": "export function usePromiseValueOrNull<T>(propValue: Promise<T>): T | null{\n\t\tconst [value, setValue] = React.useState<T | null>(null);\n\tconst [isDisposed, setIsDisposed] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\ttry {\n\t\t\t\tconst resolvedValue = await propValue;\n\t\t\t\tif (!isDisposed) {\n\t\t\t\t\tsetValue(resolvedValue);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tif (!isDisposed) {\n\t\t\t\t\tsetValue(null);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tfetchData();\n\t\treturn () => {\n\t\t\tsetIsDisposed(true);\n\t\t};\n\t}, [propValue, isDisposed]);\n\n\treturn value;\n}", "CodeBleu_score": 39.82845505620748}]}
{"instance_id": "7fc14a50df16", "generation_result": [{"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData = new RegionData();\n\tconst lines = regionStr.split('\n');\n\tlet section = '';\n\tlet points: Point[] = [];\n\tlet point: Point | null = null;\n\tlet polygon: Polygon | null = null;\n\tlet polygons: Polygon[] = [];\n\tlet polygonStr: string = '';\n\tlet isPolygon: boolean = false;\n\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tconst line = lines[i].trim();\n\n\t\tif (line.startsWith('[') && line.endsWith(']')) {\n\t\t\tsection = line.slice(1, -1);\n\t\t} else if (line.startsWith('(') && line.endsWith(')')) {\n\t\t\tif (isPolygon) {\n\t\t\t\tpolygonStr += line.slice(1, -1);\n\t\t\t} else {\n\t\t\t\tpoint = parsePoint(line.slice(1, -1));\n\t\t\t}\n\t\t} else if (line.startsWith(';')) {\n\t\t\tcontinue;\n\t\t} else if (line.startsWith('poly')) {\n\t\t\tisPolygon = true;\n\t\t} else if (line.startsWith('end')) {\n\t\t\tisPolygon = false;\n\t\t\tif (point) {\n\t\t\t\tpoints.push(point);\n\t\t\t\tpoint = null;\n\t\t\t}\n\n\t\t\tif (polygonStr) {\n\t\t\t\tpolygon = parsePolygon(polygonStr);\n\t\t\t\tif (polygon) {\n\t\t\t\t\tpolygons.push(polygon);\n\t\t\t\t}\n\t\t\t\tpolygonStr = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tif (point) {\n\t\tpoints.push(point);\n\t}\n\n\tif (polygonStr) {\n\t\tpolygon = parsePolygon(polygonStr);\n\t\tif (polygon) {\n\t\t\tpolygons.push(polygon);\n\t\t}\n\t}\n\n\tregionData.polygons = polygons;\n\tregionData.points = points;\n\n\treturn regionData;\n}", "CodeBleu_score": 21.68914070481841}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData: RegionData = {};\n\tconst sections: string[] = regionStr.split(\"[\");\n\n\t// Parse each section.\n\tfor (let i = 0; i < sections.length; i++) {\n\t\tconst section: string = sections[i];\n\t\tconst lines: string[] = section.split(\"\n\");\n\n\t\t// Ignore empty sections.\n\t\tif (lines.length === 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// The first line of a section should be the section name.\n\t\tconst sectionName: string = lines[0].trim();\n\n\t\t// The second line of a section should be the number of points in the polygon.\n\t\tconst numPoints: number = parseInt(lines[1].trim());\n\n\t\t// The rest of the section should be the polygon points.\n\t\tconst points: number[][] = [];\n\t\tfor (let j = 2; j < lines.length; j++) {\n\t\t\tconst line: string = lines[j].trim();\n\t\t\tif (line.length === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst point: number[] = line.split(\",\").map((x: string) => parseInt(x));\n\t\t\tpoints.push(point);\n\t\t}\n\n\t\t// Check if the number of points in the section matches the number of points specified in the section header.\n\t\tif (points.length !== numPoints) {\n\t\t\tthrow new Error(\"Invalid number of points in section '\" + sectionName + \"'.\");\n\t\t}\n\n\t\t// Check if the polygon is valid.\n\t\tif (!isPolygon(points)) {\n\t\t\tthrow new Error(\"Invalid polygon in section '\" + sectionName + \"'.\");\n\t\t}\n\n\t\t// Add the polygon to the output object.\n\t\tregionData[sectionName] = points;\n\t}\n\n\treturn regionData;\n}", "CodeBleu_score": 26.753831523446898}, {"code": "export default function regionParser(regionStr: string): RegionData{\n\t\tconst regionData = new RegionData();\n\n\t// Split the input string into sections\n\tconst sectionStrings = regionStr.split(\"[\").slice(1);\n\n\t// Process each section\n\tfor (const sectionString of sectionStrings) {\n\t\tconst section = sectionString.split(\"]\");\n\t\tconst sectionName = section[0].trim();\n\n\t\t// Split the section into lines\n\t\tconst lineStrings = section[1].split(\"\n\");\n\n\t\t// Process each line\n\t\tconst polygons: Polygon[] = [];\n\t\tfor (const lineString of lineStrings) {\n\t\t\tconst line = lineString.trim();\n\t\t\tif (line.length === 0) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Split the line into points\n\t\t\tconst pointStrings = line.split(\",\");\n\t\t\tconst points: Point[] = [];\n\t\t\tfor (const pointString of pointStrings) {\n\t\t\t\tconst point = pointString.trim();\n\t\t\t\tif (point.length === 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst pointComponents = point.split(\" \");\n\t\t\t\tif (pointComponents.length !== 2) {\n\t\t\t\t\tthrow new Error(`Invalid point \"${point}\" in region section \"${sectionName}\"`);\n\t\t\t\t}\n\n\t\t\t\tconst x = parseFloat(pointComponents[0]);\n\t\t\t\tconst y = parseFloat(pointComponents[1]);\n\t\t\t\tif (isNaN(x) || isNaN(y)) {\n\t\t\t\t\tthrow new Error(`Invalid point \"${point}\" in region section \"${sectionName}\"`);\n\t\t\t\t}\n\n\t\t\t\tpoints.push({ x, y });\n\t\t\t}\n\n\t\t\tif (points.length < 3) {\n\t\t\t\tthrow new Error(`Region section \"${sectionName}\" contains a polygon with less than 3 points`);\n\t\t\t}\n\n\t\t\t// Remove polygons that have less than 3 valid points\n\t\t\tconst polygon = new Polygon(points);\n\t\t\tif (polygon.validPoints.length < 3) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpolygons.push(polygon);\n\t\t}\n\n\t\t// Remove regions that have no valid polygons\n\t\tif (polygons.length === 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tregionData.regions[sectionName] = polygons;\n\t}\n\n\treturn regionData;\n}", "CodeBleu_score": 24.982404195713688}]}
{"instance_id": "6e97ec2706cf", "generation_result": [{"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tisMediaPlaying: ( state ) => state.media.isPlaying,\n\tcurrentTrackId: ( state ) => state.media.currentTrackId,\n\ttracks: ( state ) => state.tracks,\n}", "CodeBleu_score": 9.769441924853158}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tisMediaPlaying: ( state ) => state.media.isPlaying,\n\tcurrentTrackId: ( state ) => state.media.currentTrackId,\n\tmedia: ( state ) => state.media.media,\n}", "CodeBleu_score": 9.82059220603763}, {"code": "export const getCurrentlyPlayingTrackIdIfLoaded = createSelector({\n\t\tisMediaPlaying: ( state ) => state.media.isPlaying,\n\tcurrentTrackId: ( state ) => state.tracks.currentTrackId,\n\ttracks: ( state ) => state.tracks.tracks,\n}", "CodeBleu_score": 9.91357671177116}]}
{"instance_id": "5dbbdd07f829", "generation_result": [{"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t\tconst {\n\t\tid,\n\t\ttitle,\n\t\turl,\n\t\twidth,\n\t\theight,\n\t\toptions,\n\t\tstate,\n\t\tmedia,\n\t\tfilePicker,\n\t\tonMount,\n\t\tonUnmount,\n\t} = this._root;\n\tconst {\n\t\tskin,\n\t\ttheme,\n\t\tlocale,\n\t\trender,\n\t\trenderError,\n\t\trenderLoading,\n\t\trenderWarning,\n\t} = this._options;\n\n\tconst dispatch = this._dispatch;\n\tconst getState = this._getState;\n\n\t// If the instance is already rendered, do nothing\n\tif (this._root.unmount) {\n\t\treturn;\n\t}\n\n\t// Initialize the instance\n\tthis._root.unmount = true;\n\tthis._root.node = node;\n\n\t// Wait for the skin to load\n\tawait dispatch(actions.init(id, title, url, width, height, options));\n\n\t// If the instance was disposed before the skin loaded, do nothing\n\tif (this._root.unmount) {\n\t\treturn;\n\t}\n\n\t// Create a React root\n\tconst root = this._root.root = React.createRoot(node);\n\n\t// Render the application within a Redux Provider\n\troot.render(\n\t\t<Provider store={this._store}>\n\t\t\t<Application\n\t\t\t\tid={id}\n\t\t\t\ttitle={title}\n\t\t\t\turl={url}\n\t\t\t\twidth={width}\n\t\t\t\theight={height}\n\t\t\t\toptions={options}\n\t\t\t\tstate={state}\n\t\t\t\tmedia={media}\n\t\t\t\tfilePicker={filePicker}\n\t\t\t\tonMount={onMount}\n\t\t\t\tonUnmount={onUnmount}\n\t\t\t\tskin={skin}\n\t\t\t\ttheme={theme}\n\t\t\t\tlocale={locale}\n\t\t\t\trender={render}\n\t\t\t\trenderError={renderError}\n\t\t\t\trenderLoading={renderLoading}\n\t\t\t\trenderWarning={renderWarning}\n\t\t\t/>\n\t\t</Provider>,\n\t);\n}", "CodeBleu_score": 44.33012368276522}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t", "CodeBleu_score": 2.5019891902114106}, {"code": " async renderWhenReady(node: HTMLElement): Promise<void>{\n\t\tif (this._root) {\n\t\treturn\n\t}\n\n\tconst dispatch = this._dispatch.bind(this)\n\tconst state = this._state.bind(this)\n\n\tthis._root = new Root(node, dispatch, state)\n\n\ttry {\n\t\tawait this._root.mount()\n\t} catch (err) {\n\t\tthis._root.unmount()\n\t\tthrow err\n\t}\n\n\tconst {\n\t\tmedia,\n\t\tfilePicker,\n\t\t...rest\n\t} = this._options\n\n\tconst store = configureStore({\n\t\t...rest,\n\t\tmedia: media || defaultMediaOptions,\n\t\tfilePicker: filePicker || defaultFilePickerOptions,\n\t})\n\n\tthis._root.render(\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>,\n\t)\n}", "CodeBleu_score": 31.899924917307043}]}
{"instance_id": "2598a3bbc50d", "generation_result": [{"code": "handleContextMenu(e: any){\n\t\tconst activeElem = document.activeElement;\n\tconst sel = window.getSelection();\n\tconst isBlank = sel.toString().trim() === '';\n\n\tif (activeElem.tagName === 'TEXTAREA' || activeElem.tagName === 'INPUT' && activeElem.type === 'text') {\n\t\tthis.contextEditMenu = true;\n\t} else if (isBlank) {\n\t\tthis.contextEditMenu = false;\n\t}\n\tthis.contextMenu(e, this.contextEditMenu);\n}", "CodeBleu_score": 29.809900034902366}, {"code": "handleContextMenu(e: any){\n\tconst activeElem = document.activeElement as HTMLElement;\nconst isTextarea = activeElem.tagName === 'TEXTAREA';\nconst isInput = activeElem.tagName === 'INPUT';\nconst isInputText = isInput && activeElem.getAttribute('type') === 'text';\nconst isInputField = isTextarea || isInputText;\nconst hasSelection = window.getSelection().toString() !== '';\nif (isInputField && hasSelection) {\nthis.contextEditMenu(e, { cut: true });\n} else {\nthis.contextEditMenu(e, { cut: false });\n}\n}", "CodeBleu_score": 29.37678608465959}, {"code": "handleContextMenu(e: any){\n\t\t// Check if the active element is a non-terminal input field\n\tconst activeElem: any = document.activeElement;\n\tconst isInputField: boolean = activeElem.tagName.toLowerCase() === \"textarea\" || activeElem.tagName.toLowerCase() === \"input\" && activeElem.type.toLowerCase() === \"text\";\n\tconst isInputFieldWithText: boolean = isInputField && activeElem.selectionStart !== activeElem.selectionEnd;\n\t// Check if there is any selected text\n\tconst hasSelection: boolean = window.getSelection().toString() !== \"\";\n\t// Invoke the contextEditMenu method with the event and options\n\tthis.contextEditMenu(e, {\n\t\tcut: isInputFieldWithText || hasSelection\n\t});\n}", "CodeBleu_score": 28.2882923513592}]}
{"instance_id": "9a7475588195", "generation_result": [{"code": "handleChangeFontSize(fontSize: string): void{\n\t\tconst newFontSize = Number(fontSize);\n\tif (newFontSize !== this.model.getTermFontSize()) {\n\t\tthis.model.setTermFontSize(newFontSize);\n\t\tconst commandRtn = this.commandRtnHandler.handleCommandReturn(this.commandRunner.setTermFontSize(newFontSize));\n\t\tif (commandRtn.error) {\n\t\t\tthis.commandRtnHandler.handleCommandError(commandRtn.error);\n\t\t}\n\t}\n}", "CodeBleu_score": 53.4901099200068}, {"code": "handleChangeFontSize(fontSize: string): void{\n\t\tconst newFontSize: number = Number(fontSize);\n\tif (newFontSize !== this.termFontSize) {\n\t\tthis.termFontSize = newFontSize;\n\t\tthis.commandRtnHandler(this.setTermFontSize(newFontSize));\n\t}\n}", "CodeBleu_score": 31.521462025241785}, {"code": "handleChangeFontSize(fontSize: string): void{\n\t\tlet newFontSize: number = Number(fontSize);\n\tif (newFontSize != this.termFontSize) {\n\t\tthis.termFontSize = newFontSize;\n\t\tthis.term.setOption('fontSize', this.termFontSize);\n\t\tthis.commandRtnHandler(this.commandRunner.setTermFontSize(newFontSize));\n\t}\n}", "CodeBleu_score": 32.42333465548491}]}
{"instance_id": "d4d74a9c8035", "generation_result": [{"code": "handleChangeTermTheme(theme: string): void{\n\t\tconst termThemeSettings = this.getTermThemeSettings();\n\tconst newTheme = JSON.parse(theme);\n\n\tif (termThemeSettings.name === newTheme.name) {\n\t\treturn;\n\t}\n\n\tthis.setRootTermTheme(newTheme);\n\tconst rtn = this.commandRtnHandler(this.setTermTheme(newTheme.name));\n\n\tif (rtn.success) {\n\t\tthis.emit('term-theme-changed', newTheme);\n\t} else {\n\t\tthis.emit('term-theme-change-error', rtn.error);\n\t}\n}", "CodeBleu_score": 39.34061559768691}, {"code": "handleChangeTermTheme(theme: string): void{\n\t\tconst currentTheme = this.getTermThemeSettings();\n\tif (theme === currentTheme) {\n\t\treturn;\n\t}\n\tthis.setTermTheme(theme);\n\tconst rtn = this.commandRtnHandler(this.runCommand('echo -e \"\\033]50;SetLocalVar theme=' + theme + '\\007\"'));\n\tif (rtn.rtnCode === 0) {\n\t\tthis.setRootTermTheme(theme);\n\t} else {\n\t\tthis.setTermTheme(currentTheme);\n\t\tthis.setRootTermTheme(currentTheme);\n\t\tthis.commandRtnHandler(this.runCommand('echo -e \"\\033]50;SetLocalVar theme=' + currentTheme + '\\007\"'));\n\t}\n}", "CodeBleu_score": 41.41838082872389}, {"code": "handleChangeTermTheme(theme: string): void{\n\t\t// Retrieve the current theme\n\tconst currentTheme = this.getTermThemeSettings();\n\n\t// If the current theme is the same as the new theme, return without making changes\n\tif (currentTheme === theme) {\n\t\treturn;\n\t}\n\n\t// Set the new theme\n\tthis.setRootTermTheme(theme);\n\n\t// Handle the command return value\n\tconst commandRtn = this.commandRtnHandler(this.commandRtn);\n\n\t// If the command return value was an error, throw an error\n\tif (commandRtn.error) {\n\t\tthrow new Error(commandRtn.error);\n\t}\n}", "CodeBleu_score": 46.4316526590673}]}
{"instance_id": "329444949255", "generation_result": [{"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\tconst modalHeaderRef = React.useRef<HTMLDivElement>(null);\n\tconst [isHovered, setIsHovered] = React.useState(false);\n\tconst [isFocused, setIsFocused] = React.useState(false);\n\n\tconst handleMouseEnter = () => setIsHovered(true);\n\tconst handleMouseLeave = () => setIsHovered(false);\n\tconst handleFocus = () => setIsFocused(true);\n\tconst handleBlur = () => setIsFocused(false);\n\n\tconst handleClose = () => {\n\t\tif (onClose) onClose();\n\t};\n\n\tconst handleKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n\t\tif (event.key === 'Escape') {\n\t\t\thandleClose();\n\t\t}\n\t};\n\n\tconst handleKeyUp = (event: React.KeyboardEvent<HTMLDivElement>) => {\n\t\tif (event.key === 'Escape') {\n\t\t\thandleClose();\n\t\t}\n\t};\n\n\tconst handleClick = (event: React.MouseEvent<HTMLDivElement>) => {\n\t\tif (modalHeaderRef.current && modalHeaderRef.current.contains(event.target as Node)) {\n\t\t\thandleClose();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"modal-header\"\n\t\t\tonMouseEnter={handleMouseEnter}\n\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\tonFocus={handleFocus}\n\t\t\tonBlur={handleBlur}\n\t\t\tonClick={handleClick}\n\t\t\tonKeyDown={handleKeyDown}\n\t\t\tonKeyUp={handleKeyUp}\n\t\t\tref={modalHeaderRef}\n\t\t>\n\t\t\t<div className=\"modal-header__title\">\n\t\t\t\t{title}\n\t\t\t</div>\n\t\t\t{onClose && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"modal-header__close-button\"\n\t\t\t\t\tonClick={handleClose}\n\t\t\t\t>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{keybindings && (\n\t\t\t\t<ModalKeybindings\n\t\t\t\t\tkeybindings={keybindings}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 32.909548628413596}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\tconst [showCloseButton, setShowCloseButton] = React.useState(false);\n\tconst [showKeybindings, setShowKeybindings] = React.useState(false);\n\n\tconst handleCloseButtonClick = () => {\n\t\tonClose && onClose();\n\t};\n\n\tconst handleKeybindingsClick = () => {\n\t\tsetShowKeybindings(true);\n\t};\n\n\tconst handleKeybindingsClose = () => {\n\t\tsetShowKeybindings(false);\n\t};\n\n\tconst handleCloseButtonMouseEnter = () => {\n\t\tsetShowCloseButton(true);\n\t};\n\n\tconst handleCloseButtonMouseLeave = () => {\n\t\tsetShowCloseButton(false);\n\t};\n\n\treturn (\n\t\t<div className=\"modal-header\">\n\t\t\t<div className=\"modal-header-title\">\n\t\t\t\t{title}\n\t\t\t</div>\n\t\t\t{onClose && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"modal-header-close-button\"\n\t\t\t\t\tonClick={handleCloseButtonClick}\n\t\t\t\t\tonMouseEnter={handleCloseButtonMouseEnter}\n\t\t\t\t\tonMouseLeave={handleCloseButtonMouseLeave}\n\t\t\t\t>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype=\"close\"\n\t\t\t\t\t\tclassName={classNames({\n\t\t\t\t\t\t\t\"modal-header-close-button-icon\": true,\n\t\t\t\t\t\t\t\"modal-header-close-button-icon-show\": showCloseButton,\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{keybindings && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"modal-header-keybindings-button\"\n\t\t\t\t\tonClick={handleKeybindingsClick}\n\t\t\t\t>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ttype=\"keyboard\"\n\t\t\t\t\t\tclassName=\"modal-header-keybindings-button-icon\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{showKeybindings && (\n\t\t\t\t<ModalKeybindings\n\t\t\t\t\tkeybindings={keybindings}\n\t\t\t\t\tonClose={handleKeybindingsClose}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 22.16660221667528}, {"code": "const ModalHeader: React.FC<ModalHeaderProps> = ({ onClose, keybindings, title }) => {\n\t\tconst [isHovering, setIsHovering] = React.useState(false);\n\tconst [isFocused, setIsFocused] = React.useState(false);\n\tconst handleMouseEnter = () => setIsHovering(true);\n\tconst handleMouseLeave = () => setIsHovering(false);\n\tconst handleFocus = () => setIsFocused(true);\n\tconst handleBlur = () => setIsFocused(false);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"modal-header\"\n\t\t\tonMouseEnter={handleMouseEnter}\n\t\t\tonMouseLeave={handleMouseLeave}\n\t\t\tonFocus={handleFocus}\n\t\t\tonBlur={handleBlur}\n\t\t>\n\t\t\t<div className=\"modal-header-title\">\n\t\t\t\t{title}\n\t\t\t</div>\n\t\t\t{onClose && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclassName=\"modal-header-close\"\n\t\t\t\t\tonClick={onClose}\n\t\t\t\t\ttitle=\"Close modal\"\n\t\t\t\t>\n\t\t\t\t\t<Icon name=\"close\" />\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t{keybindings && (\n\t\t\t\t<ModalKeybindings\n\t\t\t\t\tkeybindings={keybindings}\n\t\t\t\t\tisHovering={isHovering}\n\t\t\t\t\tisFocused={isFocused}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 33.77517453164019}]}
{"instance_id": "1da69d707d33", "generation_result": [{"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr == null || rptr.remoteid == \"\") {\n\t\treturn \"\";\n\t}\n\tlet remoteName = rnames[rptr.remoteid] || rptr.remoteid.substring(0, 8);\n\tif (rptr.name != \"\") {\n\t\tremoteName += \": \" + rptr.name;\n\t}\n\treturn \"[\" + remoteName + \"]\";\n}", "CodeBleu_score": 50.65702133885136}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr == null || rptr.remoteid.isBlank()) return \"\";\n\tlet remoteName = rnames[rptr.remoteid] || rptr.remoteid.substring(0, 8);\n\tif (rptr.name) remoteName += \":\" + rptr.name;\n\treturn \"[\" + remoteName + \"]\";\n}", "CodeBleu_score": 46.583706895270325}, {"code": "function formatRemoteName(rnames: Record<string, string>, rptr: RemotePtrType): string{\n\t\tif (rptr === null || rptr.remoteid === '') {\n\t\treturn '';\n\t}\n\tconst name = rnames[rptr.remoteid] || rptr.remoteid.substring(0, 8);\n\treturn rptr.name ? `[${name}:${rptr.name}]` : `[${name}]`;\n}", "CodeBleu_score": 36.60676999927206}]}
{"instance_id": "757ee5b9626f", "generation_result": [{"code": "adjustTextAreaHeight(){\n\t\tconst textArea = this.shadowRoot.querySelector(\"#textarea\");\n\tconst lineHeight = parseInt(window.getComputedStyle(textArea).getPropertyValue(\"line-height\"), 10);\n\tconst paddingTop = parseInt(window.getComputedStyle(textArea).getPropertyValue(\"padding-top\"), 10);\n\tconst paddingBottom = parseInt(window.getComputedStyle(textArea).getPropertyValue(\"padding-bottom\"), 10);\n\tconst borderTop = parseInt(window.getComputedStyle(textArea).getPropertyValue(\"border-top-width\"), 10);\n\tconst borderBottom = parseInt(window.getComputedStyle(textArea).getPropertyValue(\"border-bottom-width\"), 10);\n\tconst minHeight = lineHeight * 3 + paddingTop + paddingBottom + borderTop + borderBottom;\n\tconst maxHeight = lineHeight * 10 + paddingTop + paddingBottom + borderTop + borderBottom;\n\tconst scrollHeight = textArea.scrollHeight;\n\ttextArea.style.height = Math.min(Math.max(scrollHeight, minHeight), maxHeight) + \"px\";\n}", "CodeBleu_score": 33.31144022862642}, {"code": "adjustTextAreaHeight(){\n\t\tconst textArea = document.getElementById(\"text-area\");\n\tconst minRows = 1;\n\tconst maxRows = 10;\n\n\ttextArea.style.height = \"1px\";\n\ttextArea.style.height = `${Math.min(Math.max(textArea.scrollHeight, minRows), maxRows)}rem`;\n}", "CodeBleu_score": 11.606428071770786}, {"code": "adjustTextAreaHeight(){\n\t\tlet textarea = this.shadowRoot.querySelector(\"#textarea\");\n\tlet textareaStyle = window.getComputedStyle(textarea);\n\tlet lineHeight = parseFloat(textareaStyle.lineHeight);\n\tlet fontSize = parseFloat(textareaStyle.fontSize);\n\tlet lines = textarea.value.split(\"\n\").length;\n\tlet newHeight = Math.min(Math.max(lines * lineHeight, 1), this.maxLines * lineHeight);\n\ttextarea.style.height = newHeight + \"px\";\n}", "CodeBleu_score": 35.076096413996396}]}
{"instance_id": "c0fa6e5d0067", "generation_result": [{"code": "onEnterKeyPressed(){\n\tconst selectedIdx = this.getSelectedCodeBlockIndex();\nif (selectedIdx >= 0) {\n    return this.onSetCmdInputValue();\n} else {\n    const messageStr = this.chatWindowRef.current?.querySelector(\"#message-input\")?.value;\n    this.chatWindowRef.current?.querySelector(\"#message-input\")?.value = \"\";\n    this.submitChatMessage(messageStr);\n    return true;\n}\n}", "CodeBleu_score": 46.86570048724202}, {"code": "onEnterKeyPressed(){\n\t\n}", "CodeBleu_score": 4.36884838607064}, {"code": "onEnterKeyPressed(){\n\tconst selectedIdx = GlobalModel.sidebarchatModel.getSelectedCodeBlockIndex();\nif (selectedIdx !== -1) {\nthis.onSetCmdInputValue(null);\n} else {\nconst messageStr = GlobalModel.inputModel.curLine;\nthis.submitChatMessage(messageStr);\n}\nreturn true;\n}", "CodeBleu_score": 48.973064155691624}]}
{"instance_id": "a022487e54ff", "generation_result": [{"code": "function readAuthKey(): string{\n\t\tconst homeDir = app.getPath('home')\n\tconst authKeyPath = path.join(homeDir, '.config', 'electron-react-boilerplate', 'auth.json')\n\n\tif (fs.existsSync(authKeyPath)) {\n\t\tconst authKey = fs.readFileSync(authKeyPath, 'utf-8')\n\t\tconst key = JSON.parse(authKey)\n\t\tif (key.length !== 36) {\n\t\t\tthrow new Error('Invalid auth key')\n\t\t}\n\t\treturn key\n\t}\n\n\tconst key = uuid.v4()\n\tfs.mkdirSync(path.dirname(authKeyPath), { recursive: true })\n\tfs.writeFileSync(authKeyPath, JSON.stringify({ key }), { mode: 0o600 })\n\treturn key\n}", "CodeBleu_score": 28.965374650337118}, {"code": "function readAuthKey(): string{\n\t\tconst homedir = os.homedir();\n\tconst keyPath = path.join(homedir, \".config/webamp/auth.key\");\n\tif (fs.existsSync(keyPath)) {\n\t\tconst key = fs.readFileSync(keyPath, \"utf-8\");\n\t\tif (key.length === 36) {\n\t\t\treturn key;\n\t\t}\n\t\tthrow new Error(\"Invalid auth key\");\n\t}\n\tconst key = uuid.v4();\n\tfs.writeFileSync(keyPath, key, { mode: 0o600 });\n\treturn key;\n}", "CodeBleu_score": 22.662851884730507}, {"code": "function readAuthKey(): string{\n\t\tconst homeDir = require('os').homedir()\n\tconst authKeyPath = homeDir + '/.config/xivlauncher/authkey'\n\tif (fs.existsSync(authKeyPath)) {\n\t\tconst authKey = fs.readFileSync(authKeyPath, 'utf-8')\n\t\tif (isValidAuthKey(authKey)) {\n\t\t\treturn authKey\n\t\t} else {\n\t\t\tthrow new Error('Invalid auth key')\n\t\t}\n\t} else {\n\t\tconst authKey = uuid.v4()\n\t\tfs.writeFileSync(authKeyPath, authKey, {mode: 0o600})\n\t\treturn authKey\n\t}\n}", "CodeBleu_score": 23.08361999417265}]}
{"instance_id": "9c3e2f93e1c1", "generation_result": [{"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t\tif (!this.isRunning) {\n\t\treturn;\n\t}\n\tconst chunkSize = 500000;\n\tlet i = 0;\n\twhile (i < data.length) {\n\t\tconst chunk = data.slice(i, i + chunkSize);\n\t\tthis.handleInputChunk(chunk, renderer);\n\t\ti += chunkSize;\n\t}\n}", "CodeBleu_score": 41.17764728251843}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t\tif (!this.isRunning) {\n\t\treturn;\n\t}\n\tlet chunkSize: number = 1024;\n\tlet dataLength: number = data.length;\n\tlet dataChunk: string;\n\tlet dataChunkLength: number;\n\tlet i: number = 0;\n\twhile (i < dataLength) {\n\t\tdataChunkLength = Math.min(chunkSize, dataLength - i);\n\t\tdataChunk = data.slice(i, i + dataChunkLength);\n\t\tthis.handleDataChunk(dataChunk, renderer);\n\t\ti += dataChunkLength;\n\t}\n}", "CodeBleu_score": 34.40812423589079}, {"code": "handleDataFromRenderer(data: string, renderer: RendererModel): void{\n\t\tif (this.isRunning) {\n\t\tlet chunkSize = this.chunkSize;\n\t\tlet dataChunks = [];\n\t\tlet i = 0;\n\t\twhile (i < data.length) {\n\t\t\tdataChunks.push(data.slice(i, i + chunkSize));\n\t\t\ti += chunkSize;\n\t\t}\n\t\tfor (let j = 0; j < dataChunks.length; j++) {\n\t\t\tthis.handleInputChunk(dataChunks[j], renderer);\n\t\t}\n\t}\n}", "CodeBleu_score": 36.424222080978815}]}
{"instance_id": "37ad09d7b939", "generation_result": [{"code": "function checkValidServiceWorker(swUrl) {\n\t(function () {\n  const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', swUrl, true);\n  xhr.onload = function() {\n    // If service worker is found, response is valid, and exists\n    if (xhr.status === 404) {\n      // Unregister service worker\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister().then(() => {\n          // Refresh the page\n          window.location.reload();\n        });\n      });\n    } else if (xhr.status === 401) {\n      // Service worker exists, but it's not a valid service worker\n      navigator.serviceWorker.ready.then(registration => {\n        registration.unregister().then(() => {\n          // Refresh the page\n          window.location.reload();\n        });\n      });\n    } else {\n      // Register valid service worker\n      registerValidSW(swUrl);\n    }\n  };\n  xhr.onerror = function() {\n    // No internet connection\n    console.log('[PWA Builder] No internet connection found. App is running in offline mode.');\n  };\n  xhr.send();\n}());}", "CodeBleu_score": 58.877940253044}, {"code": "function checkValidServiceWorker(swUrl) {\n\t(function() {\n  const timeoutId = setTimeout(() => {\n    const errorMessage = 'Service worker activation timeout';\n    console.log(errorMessage);\n    // document.querySelector('.js-offline-ui').style.display = 'block';\n  }, 20000);\n  navigator.serviceWorker.register(swUrl).then(registration => {\n    clearTimeout(timeoutId);\n    // document.querySelector('.js-offline-ui').style.display = 'none';\n    // console.log('Service worker registration successful with scope: ', registration.scope);\n    // registration.onupdatefound = () => {\n    //   const installingWorker = registration.installing;\n    //   installingWorker.onstatechange = () => {\n    //     if (installingWorker.state === 'installed') {\n    //       if (navigator.serviceWorker.controller) {\n    //         // At this point, the old content will have been purged and\n    //         // the fresh content will have been added to the cache.\n    //         // It's the perfect time to display a \"New content is\n    //         // available; please refresh.\" message in your web app.\n    //         console.log('New content is available; please refresh.');\n    //       } else {\n    //         // At this point, everything has been precached.\n    //         // It's the perfect time to display a\n    //         // \"Content is cached for offline use.\" message.\n    //         console.log('Content is cached for offline use.');\n    //       }\n    //     }\n    //   };\n    // };\n  }).catch(error => {\n    clearTimeout(timeoutId);\n    console.log('Service worker registration failed: ', error);\n    // document.querySelector('.js-offline-ui').style.display = 'block';\n  });\n}());}", "CodeBleu_score": 27.518521598041822}, {"code": "function checkValidServiceWorker(swUrl) {\n\t(async () => {\n  const response = await fetch(swUrl);\n  const contentType = response.headers.get('content-type');\n  if (\n    response.status === 404 ||\n    (contentType != null && contentType.indexOf('javascript') === -1)\n  ) {\n    // No service worker found.\n    // or invalid service worker found.\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister().then(() => {\n        window.location.reload();\n      });\n    });\n  } else {\n    // We found a service worker file, so it's likely that the service worker is valid.\n    registerValidSW(swUrl);\n  }\n})();}", "CodeBleu_score": 64.6340180315155}]}
{"instance_id": "27dabe0c40aa", "generation_result": [{"code": "function areAllRequiredElementsHighlighted{\n\t\tlet highlightCount = 0;\n\tfor (const element of elementsToHighlight) {\n\t\tif (highlighted.includes(element)) {\n\t\t\thighlightCount++;\n\t\t}\n\t}\n\tif (highlightCount === 0) {\n\t\treturn CheckboxState.Unchecked;\n\t}\n\telse if (highlightCount === elementsToHighlight.length) {\n\t\treturn CheckboxState.Checked;\n\t}\n\telse {\n\t\treturn CheckboxState.Indeterminate;\n\t}\n}", "CodeBleu_score": 21.92641750796102}, {"code": "function areAllRequiredElementsHighlighted{\n\t\n// Get the number of highlighted elements\nvar numHighlighted = highlightedElements.length;\n\n// Get the number of required elements\nvar numRequired = requiredElements.length;\n\n// If the number of highlighted elements is the same as the number of required elements, return CHECKED\nif (numHighlighted == numRequired) {\nreturn CHECKED;\n}\n\n// If the number of highlighted elements is less than the number of required elements, return UNCHECKED\nif (numHighlighted < numRequired) {\nreturn UNCHECKED;\n}\n\n// If the number of highlighted elements is greater than the number of required elements, return INDETERMINATE\nreturn INDETERMINATE;\n\n}", "CodeBleu_score": 18.862823779512926}, {"code": "function areAllRequiredElementsHighlighted{\n\t\nvar requiredElements = document.getElementsByClassName('required-element');\nvar numRequiredElementsHighlighted = 0;\n\nfor (var i = 0; i < requiredElements.length; i++) {\n\nif (requiredElements[i].checked) {\nnumRequiredElementsHighlighted++;\n}\n\n}\n\nif (numRequiredElementsHighlighted === requiredElements.length) {\nreturn CHECKED;\n}\n\nelse if (numRequiredElementsHighlighted === 0) {\nreturn UNCHECKED;\n}\n\nelse {\nreturn INDETERMINATE;\n}\n\n}", "CodeBleu_score": 23.000998950364117}]}
{"instance_id": "c60e532809af", "generation_result": [{"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\t\tconst actions = actionsFn(...handles);\n\tconst handlers = [];\n\tObject.keys(actions).forEach((key) => {\n\t\tconst [eventName, selector] = key.split(' ');\n\t\tconst handler = (event: Event) => {\n\t\t\tconst target = event.target as Element;\n\t\t\tconst action = actions[key];\n\t\t\tif (selector === undefined) {\n\t\t\t\taction(event);\n\t\t\t} else if (target.matches(selector)) {\n\t\t\t\taction(event);\n\t\t\t}\n\t\t};\n\t\thandlers.push({eventName, handler});\n\t});\n\treturn handlers;\n}", "CodeBleu_score": 41.29212753771245}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\t\tconst actions = actionsFn(...handles);\n\tconst handlers = [];\n\tfor (const [key, value] of Object.entries(actions)) {\n\t\tconst [event, selector = null] = key.split(' ');\n\t\tconst handler = (event: Event) => {\n\t\t\tif (selector === null || event.target.matches(selector)) {\n\t\t\t\tvalue(event);\n\t\t\t}\n\t\t};\n\t\thandlers.push({event, handler});\n\t}\n\treturn handlers;\n}", "CodeBleu_score": 40.0452095387861}, {"code": "const createHandlers = (actionsFn: (...arg: any[]) => object, ...handles: any[]) => {\n\t\tconst actions = actionsFn(...handles);\n\tconst handlers = [];\n\tfor (const key in actions) {\n\t\tconst { event, selector, action } = parseKey(key);\n\t\thandlers.push({\n\t\t\tevent,\n\t\t\thandler: (e: Event) => {\n\t\t\t\tif (selector === undefined || e.target.matches(selector)) {\n\t\t\t\t\taction(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn handlers;\n}", "CodeBleu_score": 37.093943406940454}]}
{"instance_id": "8c81ca953249", "generation_result": [{"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t\tconst root = document.getElementById('storybook-root')\n\tconst eventHandlers = actionsFn(...handles)\n\n\tif (root) {\n\t\tObject.entries(eventHandlers).forEach(([event, handler]) => {\n\t\t\troot.addEventListener(event, handler)\n\t\t})\n\n\t\treturn () => {\n\t\t\tObject.entries(eventHandlers).forEach(([event, handler]) => {\n\t\t\t\troot.removeEventListener(event, handler)\n\t\t\t})\n\t\t}\n\t}\n\n\treturn () => {}\n}", "CodeBleu_score": 39.631382198488694}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t\tif (root) {\n\t\tconst events = actionsFn(root, ...handles)\n\t\tif (events) {\n\t\t\tfor (const [eventName, handler] of Object.entries(events)) {\n\t\t\t\troot.addEventListener(eventName, handler)\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 24.388883237510722}, {"code": "const applyEventHandlers = (actionsFn: any, ...handles: any[]) =>{\n\t\tconst root = document.getElementById('storybook-root')\n\tconst eventHandlers = createEventHandlers(actionsFn, ...handles)\n\n\tuseEffect(() => {\n\t\tif (root) {\n\t\t\tconst eventListeners = createEventListeners(root, eventHandlers)\n\t\t\treturn () => removeEventListeners(root, eventListeners)\n\t\t}\n\t}, [root, ...handles])\n}", "CodeBleu_score": 37.19806253629666}]}
{"instance_id": "3b9dc9070ef1", "generation_result": [{"code": "addAction = (action: ActionDisplay) =>{\n\t. . . . }", "CodeBleu_score": 2.7557147947163836}, {"code": "addAction = (action: ActionDisplay) =>{\n\t. . . . }", "CodeBleu_score": 2.7557147947163836}, {"code": "addAction = (action: ActionDisplay) =>{\n\t. . . . }", "CodeBleu_score": 2.7557147947163836}]}
{"instance_id": "c58b95bdb84e", "generation_result": [{"code": "export const addGridStyle = (selector: string, css: string) => {\n\t\tconst style = document.getElementById(selector)\n\tif (style) {\n\t\tif (style.innerHTML !== css) {\n\t\t\tstyle.innerHTML = css\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style')\n\t\tstyle.id = selector\n\t\tstyle.innerHTML = css\n\t\tdocument.head.appendChild(style)\n\t}\n}", "CodeBleu_score": 48.95035663051827}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\t\tconst style = document.getElementById(selector) as HTMLStyleElement;\n\tif (style) {\n\t\tif (style.textContent !== css) {\n\t\t\tstyle.textContent = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style');\n\t\tstyle.id = selector;\n\t\tstyle.textContent = css;\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 54.49330969599438}, {"code": "export const addGridStyle = (selector: string, css: string) => {\n\t\tconst existingStyle = document.getElementById(selector);\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML !== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style');\n\t\tstyle.id = selector;\n\t\tstyle.innerHTML = css;\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 61.58017865598}]}
{"instance_id": "882d870a20b2", "generation_result": [{"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\t\tconst existingStyle = document.getElementById(selector);\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML !== css) {\n\t\t\texistingStyle.innerHTML = css;\n\t\t}\n\t\treturn;\n\t}\n\n\tconst newStyle = document.createElement(\"style\");\n\tnewStyle.id = selector;\n\tnewStyle.innerHTML = css;\n\tdocument.head.appendChild(newStyle);\n\n\tconst existingGridStyle = document.getElementById(storyId);\n\tif (existingGridStyle) {\n\t\texistingGridStyle.parentElement?.insertBefore(newStyle, existingGridStyle);\n\t} else {\n\t\tdocument.head.appendChild(newStyle);\n\t}\n}", "CodeBleu_score": 50.43693396716711}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\t\tconst existingStyle = document.getElementById(selector);\n\tif (existingStyle && existingStyle.innerHTML !== css) {\n\t\texistingStyle.innerHTML = css;\n\t} else if (!existingStyle) {\n\t\tconst newStyle = document.createElement('style');\n\t\tnewStyle.id = selector;\n\t\tnewStyle.innerHTML = css;\n\t\tdocument.head.appendChild(newStyle);\n\t}\n\n\tconst existingGridStyle = document.getElementById(storyId);\n\tif (existingGridStyle) {\n\t\texistingGridStyle.parentElement?.insertBefore(document.getElementById(selector), existingGridStyle);\n\t} else {\n\t\tdocument.head.appendChild(document.getElementById(selector));\n\t}\n}", "CodeBleu_score": 47.732369748736616}, {"code": "export const addBackgroundStyle = (selector: string, css: string, storyId: string | null) =>{\n\t\tconst existingStyle = document.querySelector(`#${selector}`) as HTMLStyleElement | null;\n\tconst existingGridStyle = document.querySelector(\n\t\t`#${selector}-grid`\n\t) as HTMLStyleElement | null;\n\tif (existingStyle !== null) {\n\t\tif (existingStyle.textContent !== css) {\n\t\t\texistingStyle.textContent = css;\n\t\t}\n\t} else {\n\t\tconst newStyle = document.createElement(\"style\");\n\t\tnewStyle.id = selector;\n\t\tnewStyle.textContent = css;\n\t\tdocument.head.appendChild(newStyle);\n\t}\n\tif (existingGridStyle !== null) {\n\t\texistingGridStyle.parentElement?.insertBefore(newStyle, existingGridStyle);\n\t} else if (storyId !== null) {\n\t\tconst newGridStyle = document.createElement(\"style\");\n\t\tnewGridStyle.id = `${selector}-grid`;\n\t\tnewGridStyle.textContent = `.story-grid[data-story-id=\"${storyId}\"] > * {\n\t\t\t${css}\n\t\t}`;\n\t\tdocument.head.appendChild(newGridStyle);\n\t}\n}", "CodeBleu_score": 49.62793635779034}]}
{"instance_id": "c17e647327b5", "generation_result": [{"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\tevent.preventDefault();\nif (!isSaving) {\nsetErrorMessage('');\nsetSaving(true);\ntry {\nconst sanitizedStoryName = storyName.replace(\n/^[^a-z]/i,\n'',\n).replaceAll(' ', '-');\nawait createStory(sanitizedStoryName);\nsetCreating(false);\nsetSaving(false);\n} catch (error) {\nsetErrorMessage(error.message);\nsetSaving(false);\n}\n}\n}", "CodeBleu_score": 57.83304842913879}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\tevent.preventDefault();\n\nif (!isCreating && !isSaving) {\nsetErrorMessage('');\nsetCreating(true);\nsetSaving(true);\n\ntry {\nconst sanitizedStoryName = storyName.replace(\n/^[^a-z]/i,\n'',\n);\nconst createdStory = await createStory(sanitizedStoryName);\nsetCreatedStory(createdStory);\nsetCreating(false);\nsetSaving(false);\n} catch (error) {\nsetErrorMessage(error.message);\nsetSaving(false);\n}\n}\n}", "CodeBleu_score": 53.970511969217405}, {"code": "const onSubmitForm = async (event: React.FormEvent<HTMLFormElement>) =>{\n\tevent.preventDefault();\n\nif (!isCreating && !isSaving) {\nsetErrorMessage('');\nsetCreating(true);\nsetSaving(true);\n\ntry {\nconst sanitizedStoryName = storyName.replace(\n/^[^a-z]/i,\n''\n).replaceAll(\n'[^a-z0-9]',\n''\n);\nawait createStory(sanitizedStoryName);\nsetCreating(false);\nsetSaving(false);\n} catch (error) {\nsetErrorMessage(error.message);\nsetSaving(false);\n}\n}\n}", "CodeBleu_score": 56.316301456198616}]}
{"instance_id": "2d58c69eda27", "generation_result": [{"code": "function Title(){\n\t\tconst { useArgTypes } = useControls();\n\tconst argTypes = useArgTypes();\n\n\tconst disabledCount = Object.values(argTypes).reduce((count, argType) => {\n\t\tif (argType.control.disabled) {\n\t\t\treturn count + 1;\n\t\t}\n\t\treturn count;\n\t}, 0);\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\talignItems: 'center',\n\t\t\t\tmarginBottom: 8,\n\t\t\t}}\n\t\t>\n\t\t\t<span>Controls</span>\n\t\t\t{disabledCount > 0 && (\n\t\t\t\t<span\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginLeft: 8,\n\t\t\t\t\t\tpadding: '4px 8px',\n\t\t\t\t\t\tbackground: '#f5222d',\n\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{disabledCount} disabled\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 27.708926413679713}, {"code": "function Title(){\n\t\tconst { useArgTypes } = useArgs();\n\tconst argTypes = useArgTypes();\n\tconst count = Object.values(argTypes).reduce((acc, argType) => {\n\t\tif (argType.control && !argType.disabled) {\n\t\t\treturn acc + 1;\n\t\t}\n\t\treturn acc;\n\t}, 0);\n\treturn (\n\t\t<div style={{ display: 'flex', gap: '0.5rem' }}>\n\t\t\t<span>Controls</span>\n\t\t\t{count > 0 && <Badge color=\"secondary\">{count}</Badge>}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 31.48766886429561}, {"code": "function Title(){\n\t\tconst [argTypes, setArgTypes] = useArgTypes();\n\tconst [argCounts, setArgCounts] = useArgCounts();\n\n\tconst disabledArgCounts = Object.values(argCounts).filter((argCount) => argCount.disabled);\n\tconst disabledArgCount = disabledArgCounts.reduce((a, b) => a + b, 0);\n\n\treturn (\n\t\t<div>\n\t\t\t<span>Controls</span>\n\t\t\t{disabledArgCount > 0 && (\n\t\t\t\t<Badge\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginLeft: '0.5rem',\n\t\t\t\t\t\tmarginRight: '0.5rem',\n\t\t\t\t\t\tbackgroundColor: 'var(--vscode-editorError-foreground)',\n\t\t\t\t\t\tcolor: 'var(--vscode-editorError-foreground)',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{disabledArgCount}\n\t\t\t\t</Badge>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 27.23140708999501}]}
{"instance_id": "b8fba20204d6", "generation_result": [{"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst highlights = document.querySelectorAll('.highlight');\n\thighlights.forEach(h => h.remove());\n\n\tconst ids = new Set();\n\tconst style = document.createElement('style');\n\tstyle.className = 'highlight';\n\tinfos.forEach(info => {\n\t\tconst id = info.id;\n\t\tif (ids.has(id)) {\n\t\t\treturn;\n\t\t}\n\t\tids.add(id);\n\n\t\tconst selector = `#${id}`;\n\t\tconst css = `${selector} { ${info.css} }`;\n\t\tstyle.innerHTML += css;\n\t});\n\tdocument.head.appendChild(style);\n}", "CodeBleu_score": 41.45497138150772}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst {\n\t\telements,\n\t\tcolor,\n\t\tbackgroundColor,\n\t\tborderColor,\n\t\tborderWidth,\n\t\tborderStyle,\n\t\thighlightStyle,\n\t} = infos;\n\n\t// Reset any existing highlights\n\tresetHighlights();\n\n\t// Ensure no duplicate selectors in the elements array\n\tconst selectors = [];\n\tfor (const element of elements) {\n\t\tconst selector = getSelector(element);\n\t\tif (selectors.includes(selector)) {\n\t\t\tcontinue;\n\t\t}\n\t\tselectors.push(selector);\n\t}\n\n\t// Create a new style element\n\tconst style = document.createElement('style');\n\tstyle.id = 'highlight-styles';\n\n\t// Define CSS rules for each element\n\tfor (const selector of selectors) {\n\t\tconst css = `${selector} {\n\t\t\t${highlightStyle === 'outline' ? `outline: ${borderWidth}px ${borderStyle} ${borderColor};` : ''}\n\t\t\t${highlightStyle === 'box' ? `box-shadow: 0 0 0 ${borderWidth}px ${borderColor};` : ''}\n\t\t\tbackground-color: ${backgroundColor};\n\t\t\tcolor: ${color};\n\t\t}`;\n\t\tstyle.innerHTML += css;\n\t}\n\n\t// Append the style element to the document head\n\tdocument.head.appendChild(style);\n}", "CodeBleu_score": 36.527750555115865}, {"code": "const highlight = (infos: HighlightInfo) =>{\n\t\tconst selectors = infos.map(info => `${info.selector} { ${info.style} }`);\n\tconst style = document.createElement('style');\n\tstyle.id = 'highlight-style';\n\tstyle.innerHTML = selectors.join('\n');\n\tdocument.head.appendChild(style);\n}", "CodeBleu_score": 32.31123288077254}]}
{"instance_id": "08a3fb827e48", "generation_result": [{"code": "const resetHighlight = () =>{\n\t\tconst sheet = document.getElementById(\"highlight-sheet\")\n\tif (sheet) {\n\t\tsheet.parentNode.removeChild(sheet)\n\t}\n}", "CodeBleu_score": 31.864801577466395}, {"code": "const resetHighlight = () =>{\n\t\tconst sheetToRemove = document.getElementById('highlight')\n\tif (sheetToRemove) sheetToRemove.parentNode.removeChild(sheetToRemove)\n}", "CodeBleu_score": 33.60041782202165}, {"code": "const resetHighlight = () =>{\n\t\tconst sheetToRemove = document.getElementById(highlightId);\n\tif (sheetToRemove) sheetToRemove.parentNode?.removeChild(sheetToRemove);\n}", "CodeBleu_score": 43.321596537671105}]}
{"instance_id": "1287df4e99b3", "generation_result": [{"code": "function parseQuery(queryString: string){\n\t\tconst obj = {};\n\tif (queryString) {\n\t\tqueryString = queryString[0] === '?' ? queryString.substring(1) : queryString;\n\t\tconst pairs = queryString.split('&');\n\t\tfor (let i = 0; i < pairs.length; i++) {\n\t\t\tconst pair = pairs[i].split('=');\n\t\t\tconst key = decodeURIComponent(pair[0]);\n\t\t\tlet value = decodeURIComponent(pair[1]);\n\t\t\tif (key in obj) {\n\t\t\t\tif (Array.isArray(obj[key])) {\n\t\t\t\t\tobj[key].push(value);\n\t\t\t\t} else {\n\t\t\t\t\tobj[key] = [obj[key], value];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tobj[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn obj;\n}", "CodeBleu_score": 54.03666937981721}, {"code": "function parseQuery(queryString: string){\n\t\tlet obj = {};\n\tif (queryString[0] === '?') {\n\t\tqueryString = queryString.substring(1);\n\t}\n\tlet pairs = queryString.split('&');\n\tfor (let i = 0; i < pairs.length; i++) {\n\t\tlet pair = pairs[i].split('=');\n\t\tlet key = decodeURIComponent(pair[0]);\n\t\tlet val = decodeURIComponent(pair[1]);\n\t\tobj[key] = val;\n\t}\n\treturn obj;\n}", "CodeBleu_score": 49.57783729956765}, {"code": "function parseQuery(queryString: string){\n\t\t// Initialize an empty object\n\tconst queryObject = {}\n\t// If the query string is empty, return the empty object\n\tif (queryString.length === 0) {\n\t\treturn queryObject\n\t}\n\t// If the query string starts with a '?', remove it\n\tif (queryString[0] === '?') {\n\t\tqueryString = queryString.substring(1)\n\t}\n\t// Split the query string into an array of key-value pairs\n\tconst pairs = queryString.split('&')\n\t// For each pair, split it into a key and value\n\tfor (let i = 0; i < pairs.length; i++) {\n\t\tconst pair = pairs[i]\n\t\tconst keyValue = pair.split('=')\n\t\tconst key = keyValue[0]\n\t\tlet value = keyValue[1]\n\t\t// If there is no value, set it to null\n\t\tif (value === undefined) {\n\t\t\tvalue = null\n\t\t}\n\t\t// Decode the key and value\n\t\tconst decodedKey = decodeURIComponent(key)\n\t\tconst decodedValue = decodeURIComponent(value)\n\t\t// Add the key and value to the query object\n\t\tqueryObject[decodedKey] = decodedValue\n\t}\n\t// Return the query object\n\treturn queryObject\n}", "CodeBleu_score": 43.85347297068284}]}
{"instance_id": "83c4f520b99a", "generation_result": [{"code": "const linksListener = (e: Event) =>{\n\t\tconst el = e.target as HTMLElement\n\tif (el.dataset.sbKind && el.dataset.sbStory) {\n\t\te.preventDefault()\n\t\tnavigate(el.dataset.sbKind, el.dataset.sbStory)\n\t}\n}", "CodeBleu_score": 22.940618162798547}, {"code": "const linksListener = (e: Event) =>{\n\t\tif (e.target instanceof Element) {\n\t\tconst { sbKind, sbStory } = e.target.dataset;\n\t\tif (sbKind && sbStory) {\n\t\t\te.preventDefault();\n\t\t\tnavigate(sbKind, sbStory);\n\t\t}\n\t}\n}", "CodeBleu_score": 26.93960483416264}, {"code": "const linksListener = (e: Event) =>{\n\t\tif (e.target instanceof HTMLAnchorElement) {\n\t\tconst { sbKind, sbStory } = e.target.dataset;\n\t\tif (sbKind && sbStory) {\n\t\t\te.preventDefault();\n\t\t\tnavigate(sbKind, sbStory);\n\t\t}\n\t}\n}", "CodeBleu_score": 27.651236875040208}]}
{"instance_id": "8b8e277eb593", "generation_result": [{"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tif (node.shadowRoot) {\n\t\tconst nestedElement = (node.shadowRoot as any).elementFromPoint(x, y);\n\t\tif (nestedElement === node) {\n\t\t\treturn node;\n\t\t}\n\t\tif (nestedElement) {\n\t\t\treturn crawlShadows(nestedElement);\n\t\t}\n\t}\n\treturn node;\n}", "CodeBleu_score": 59.864512762992526}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tconst shadowRoot = node.shadowRoot;\n\tif (shadowRoot) {\n\t\tconst elementFromPoint = (shadowRoot as any).elementFromPoint;\n\t\tif (elementFromPoint) {\n\t\t\tconst nestedElement = elementFromPoint(x, y);\n\t\t\tif (nestedElement === node) {\n\t\t\t\treturn node;\n\t\t\t} else if (nestedElement) {\n\t\t\t\treturn crawlShadows(nestedElement as HTMLElement);\n\t\t\t}\n\t\t}\n\t}\n\treturn node;\n}", "CodeBleu_score": 45.23947959042302}, {"code": "const crawlShadows = (node: HTMLElement): HTMLElement =>{\n\t\tif (node.shadowRoot) {\n\t\tconst elementFromPoint = (node.shadowRoot as any).elementFromPoint(x, y) as HTMLElement;\n\t\tif (elementFromPoint.isEqualNode(node)) {\n\t\t\treturn node;\n\t\t}\n\t\treturn crawlShadows(elementFromPoint);\n\t}\n\treturn node;\n}", "CodeBleu_score": 50.24968238391847}]}
{"instance_id": "2fa298c35659", "generation_result": [{"code": "function createCanvas(): CanvasState{\n\t\tconst canvas = document.createElement(\"canvas\");\n\tcanvas.id = \"canvas\";\n\tconst context = canvas.getContext(\"2d\");\n\tif (context === null) {\n\t\tthrow new Error(\"Unable to get 2D canvas context\");\n\t}\n\tconst { innerWidth, innerHeight } = window;\n\tcanvas.width = innerWidth;\n\tcanvas.height = innerHeight;\n\tcanvas.style.position = \"absolute\";\n\tcanvas.style.zIndex = 100000;\n\tcanvas.style.pointerEvents = \"none\";\n\tdocument.body.appendChild(canvas);\n\treturn { canvas, context, width: innerWidth, height: innerHeight };\n}", "CodeBleu_score": 44.17279108957522}, {"code": "function createCanvas(): CanvasState{\n\t", "CodeBleu_score": 0.7655865560510021}, {"code": "function createCanvas(): CanvasState{\n\t\tconst canvas = document.createElement(\"canvas\");\n\tconst context = canvas.getContext(\"2d\");\n\tif (context === null) {\n\t\tthrow new Error(\"Unable to obtain 2D context from canvas element\");\n\t}\n\tconst width = document.documentElement.clientWidth;\n\tconst height = document.documentElement.clientHeight;\n\tcanvas.id = \"canvas\";\n\tcanvas.width = width;\n\tcanvas.height = height;\n\tcanvas.style.position = \"absolute\";\n\tcanvas.style.top = \"0\";\n\tcanvas.style.left = \"0\";\n\tcanvas.style.zIndex = \"99999\";\n\tcanvas.style.pointerEvents = \"none\";\n\tdocument.body.appendChild(canvas);\n\treturn { canvas, context, width, height };\n}", "CodeBleu_score": 49.409377807293964}]}
{"instance_id": "0484eaeba359", "generation_result": [{"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\t\tconst { channelOptions, transportOptions } = options;\n\tconst channelConfig = {\n\t\t...channelOptions,\n\t\taddons: [...(channelOptions.addons || []), { name: '@storybook/addon-onboarding', options: { measure: false } }],\n\t};\n\tconst transport = await createTransport(transportOptions);\n\tconst channel = addons.makeChannel({ transport });\n\tconst onReceive = (msg: any) => {\n\t\tif (msg.event === 'telemetry') {\n\t\t\tconst { payload } = msg;\n\t\t\tconst { eventName, args } = payload;\n\t\t\tconst addonVersion = '@storybook/addon-onboarding';\n\t\t\tconst version = require(addonVersion).version;\n\t\t\tchannel.emit(eventName, ...args, { version });\n\t\t}\n\t};\n\tchannel.on('message', onReceive);\n\treturn configureServer(channel, channelConfig);\n}", "CodeBleu_score": 30.665703808265306}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\tconst { channel: { port }, storyStore } = options;\nconst channelOpts = {\ntransport: new Server(port),\n\n// @ts-ignore\nsetup: async (channel) => {\nconst onReceive = (envelope) => {\nif (envelope.type === 'event' && envelope.event.type === 'STORY_RENDERED') {\nconst { kind, story } = envelope.event.data;\nstoryStore.incrementStoryRenderCount(kind, story);\n}\n};\nchannel.on('message', onReceive);\n\n// @ts-ignore\nconst { version } = await import('@storybook/addon-onboarding');\nchannel.emit('storybook/telemetry', {\nv: 1,\ntype: 'client_init',\npayload: {\nversion,\n\n// @ts-ignore\nclientChannel: channel.transport.id,\n},\n});\n},\n};\n\n// @ts-ignore\nreturn createChannel(channelOpts);\n}", "CodeBleu_score": 32.8736841277877}, {"code": "export const experimental_serverChannel = async (channel: Channel, options: Options) =>{\n\t\tconst { channelOptions, transportOptions } = options;\n\tconst channelWithTelemetry = withTelemetry(channel, {\n\t\tpackageName: '@storybook/addon-onboarding',\n\t\tpackageVersion: version,\n\t});\n\n\tconst channelWithApolloTracing = addGraphQLSubscriptions(channelWithTelemetry);\n\n\tconst channelWithInit = init(channelWithApolloTracing, channelOptions);\n\n\tconst channelWithTransport = transports.connection.create(channelWithInit, transportOptions);\n\n\treturn channelWithTransport;\n}", "CodeBleu_score": 24.533598190589174}]}
{"instance_id": "8552de1f8368", "generation_result": [{"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\t\tconst id = `outline-style-${selector.replace(/\\./g, '-')}`;\n\tconst style = global.document.getElementById(id);\n\tif (style) {\n\t\tif (style.innerHTML !== css) {\n\t\t\tstyle.innerHTML = css;\n\t\t}\n\t} else {\n\t\tconst style = global.document.createElement('style');\n\t\tstyle.id = id;\n\t\tstyle.innerHTML = css;\n\t\tglobal.document.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 63.910322211474366}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\t\tconst id = selector.replace(/[^a-zA-Z0-9_-]/g, '_')\n\tconst existingStyle = document.getElementById(id)\n\tif (existingStyle) {\n\t\tif (existingStyle.innerHTML !== css) {\n\t\t\texistingStyle.innerHTML = css\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style')\n\t\tstyle.id = id\n\t\tstyle.innerHTML = css\n\t\tdocument.head.appendChild(style)\n\t}\n}", "CodeBleu_score": 61.181928834402555}, {"code": "export const addOutlineStyles = (selector: string, css: string) => {\n\t\tconst id = selector.replace(/[^a-zA-Z0-9]/g, '_');\n\tconst style = document.getElementById(id) as HTMLStyleElement;\n\tif (style) {\n\t\tif (style.textContent !== css) {\n\t\t\tstyle.textContent = css;\n\t\t}\n\t} else {\n\t\tconst style = document.createElement('style');\n\t\tstyle.id = id;\n\t\tstyle.textContent = css;\n\t\tdocument.head.appendChild(style);\n\t}\n}", "CodeBleu_score": 53.549504508039405}]}
{"instance_id": "2472b6d48b9a", "generation_result": [{"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\"\"\"\n\n# The footer of the generated file.\nfooter = \"\"\"\n  // Log warnings for missing translations\n  for (const locale of missingTranslations.keys()) {\n    const missingTranslationsForLocale = missingTranslations.get(locale)!;\n    for (const missingTranslation of missingTranslationsForLocale) {\n      const warning = `Missing translation for \"${missingTranslation.id}\" in \"${locale}\"`;\n      if (missingTranslation.description) {\n        warning += ` [${missingTranslation.description}]`;\n      }\n      if (missingTranslation.meaning) {\n        warning += ` (meaning: \"${missingTranslation.meaning}\")`;\n      }\n      context.logger.warn(warning);\n    }\n  }\n\n  // Throw errors for missing translations\n  for (const locale of missingTranslations.keys()) {\n    const missingTranslationsForLocale = missingTranslations.get(locale)!;\n    for (const missingTranslation of missingTranslationsForLocale) {\n      const error = `Missing translation for \"${missingTranslation.id}\" in \"${locale}\"`;\n      if (missingTranslation.description) {\n        error += ` [${missingTranslation.description}]`;\n      }\n      if (missingTranslation.meaning) {\n        error += ` (meaning: \"${missingTranslation.meaning}\")`;\n      }\n      throw new Error(error);\n    }\n  }\n}", "CodeBleu_score": 37.25467857064479}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\\tif (i18n.inlineLocaleId) {\n\\t\\tconst inlineLocaleId = i18n.inlineLocaleId;\n\\t\\tconst locale = i18n.locales[inlineLocaleId];\n\\t\\tif (locale && locale.translation) {\n\\t\\t\\tawait loadTranslations(context, locale.translation);\n\\t\\t}\n\\t} else {\n\\t\\tfor (const locale of Object.values(i18n.locales)) {\n\\t\\t\\tif (\n\\t\\t\\t\\t!locale ||\n\\t\\t\\t\\t!locale.translation ||\n\\t\\t\\t\\tlocale.inline === false ||\n\\t\\t\\t\\tlocale.sourceLocale === locale.locale\n\\t\\t\\t) {\n\\t\\t\\t\\tcontinue;\n\\t\\t\\t}\n\\t\\t\\tawait loadTranslations(context, locale.translation);\n\\t\\t}\n\\t}\n}", "CodeBleu_score": 35.193303941309885}, {"code": "export async function loadActiveTranslations(\n  context: BuilderContext,\n  i18n: NormalizedApplicationBuildOptions['i18nOptions'],\n){\n\t\"\"\"\n\n# The footer for the generated file.\nfooter = \"\"\"\n  }", "CodeBleu_score": 14.436056546529297}]}
{"instance_id": "24579c798101", "generation_result": [{"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t\n-  return buildApplicationInternal(options, context, pluginsOrExtensions);\n+  return buildApplicationInternal(options, context, normalizePlugins(pluginsOrExtensions));\n}", "CodeBleu_score": 36.329634229931195}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t\n-  return buildApplicationInternal(options, context, pluginsOrExtensions);\n+  return buildApplicationInternal(options, context, normalizePlugins(pluginsOrExtensions));\n}", "CodeBleu_score": 36.329634229931195}, {"code": "export function buildApplication(\n  options: ApplicationBuilderOptions,\n  context: BuilderContext,\n  pluginsOrExtensions?: Plugin[] | ApplicationBuilderExtensions,\n): AsyncIterable<ApplicationBuilderOutput>{\n\t\n...\n\n  yield {\n    success: true,\n    kind: 'build-result',\n    result: result,\n    outputPath: outputPath,\n    outputHash: outputHash,\n  };\n\n}", "CodeBleu_score": 30.900703019391575}]}
{"instance_id": "126e9e9e4010", "generation_result": [{"code": "const diagnostics = checkDuplicateMessages{\n\t\tcheckFileSystem: true,\n\tmessages: extractionResult.messages,\n\ttype: 'warning',\n\tbasePath: extractionResult.basePath,\n}", "CodeBleu_score": 25.802833632935325}, {"code": "const diagnostics = checkDuplicateMessages{\n\t\tcheckFileSystem: checkFileSystem as any,\n\tmessages: extractionResult.messages,\n\ttype: 'warning',\n\tbasePath: extractionResult.basePath,\n}", "CodeBleu_score": 33.94253129180809}, {"code": "const diagnostics = checkDuplicateMessages{\n\t\tcheckFileSystem: checkFileSystem as any,\n\tmessages: extractionResult.messages,\n\tseverity: 'warning',\n\tbasePath: extractionResult.basePath\n}", "CodeBleu_score": 33.60631157839703}]}
{"instance_id": "349518a072df", "generation_result": [{"code": "function isTslibHelperName(name: string): boolean{\n\t\tconst parts = name.split('$');\n\tif (parts.length !== 2) {\n\t\treturn false;\n\t}\n\tconst originalName = parts[0];\n\tconst originalNameNumber = parseInt(parts[1], 10);\n\tif (isNaN(originalNameNumber)) {\n\t\treturn false;\n\t}\n\treturn tslibHelpers.has(originalName);\n}", "CodeBleu_score": 63.36844881369408}, {"code": "function isTslibHelperName(name: string): boolean{\n\t\tconst splitName = name.split('$');\n\tif (splitName.length !== 2) {\n\t\treturn false;\n\t}\n\tconst originalName = splitName[0];\n\tconst index = parseInt(splitName[1], 10);\n\treturn typeof index === 'number' && tslibHelpers.has(originalName);\n}", "CodeBleu_score": 58.70213646366098}, {"code": "function isTslibHelperName(name: string): boolean{\n\t\tconst split = name.split('$');\n\tif (split.length !== 2) {\n\t\treturn false;\n\t}\n\tconst originalName = split[0];\n\tconst originalNameNumber = parseInt(split[1], 10);\n\tif (isNaN(originalNameNumber)) {\n\t\treturn false;\n\t}\n\treturn tslibHelpers.has(originalName);\n}", "CodeBleu_score": 61.99135384534556}]}
{"instance_id": "0a9b3093b5bc", "generation_result": [{"code": "async bundle(): Promise<BundleContextResult>{\n\t\tconst bundle = this.#bundle;\n\tif (bundle !== undefined) {\n\t\treturn bundle;\n\t}\n\tconst result = await this.#performBundle();\n\tif (this.#cache) {\n\t\tthis.#bundle = result;\n\t}\n\treturn result;\n}", "CodeBleu_score": 58.06183688446877}, {"code": "async bundle(): Promise<BundleContextResult>{\n\t\tif (this.#bundle) {\n\t\treturn this.#bundle;\n\t}\n\tconst result = await this.#performBundle();\n\tif (this.#cache) {\n\t\tthis.#bundle = result;\n\t}\n\treturn result;\n}", "CodeBleu_score": 78.12895584367341}, {"code": "async bundle(): Promise<BundleContextResult>{\n\t\tconst cachedResult = this.#cachedBundleResult;\n\tif (cachedResult !== undefined) {\n\t\treturn cachedResult;\n\t}\n\tconst result = await this.#performBundle();\n\tif (this.#enableCaching) {\n\t\tthis.#cachedBundleResult = result;\n\t}\n\treturn result;\n}", "CodeBleu_score": 57.89639461709284}]}
{"instance_id": "f4fe3e6ac648", "generation_result": [{"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\t\n}", "CodeBleu_score": 6.8575250682082185}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\t\tconst changedFiles = new Set<string>();\n\tfor (const outputFileName of this.outputFiles) {\n\t\tconst previousOutputHash = previousOutputHashes.get(outputFileName);\n\t\tconst currentOutputHash = this.currentOutputHashes.get(outputFileName);\n\t\tif (!previousOutputHash || previousOutputHash !== currentOutputHash) {\n\t\t\tchangedFiles.add(outputFileName);\n\t\t}\n\t}\n\treturn changedFiles;\n}", "CodeBleu_score": 51.77421782912257}, {"code": "findChangedFiles(previousOutputHashes: Map<string, string>): Set<string> {\n\t\tconst changedFiles = new Set<string>();\n\tconst outputFiles = this.outputFiles;\n\tfor (const outputFile of outputFiles) {\n\t\tconst previousHash = previousOutputHashes.get(outputFile);\n\t\tconst currentHash = this.currentOutputHashes.get(outputFile);\n\t\tif (previousHash === undefined || currentHash !== previousHash) {\n\t\t\tchangedFiles.add(outputFile);\n\t\t}\n\t}\n\treturn changedFiles;\n}", "CodeBleu_score": 56.09949601148703}]}
{"instance_id": "8969b8ce5198", "generation_result": [{"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\t\tif ( !loadLocalizeTools.loaded ) {\n\t\tloadLocalizeTools.loaded = await import('@angular/localize/tools');\n\t}\n\treturn loadLocalizeTools.loaded;\n}", "CodeBleu_score": 28.73102999751835}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\t\tif (localizeTools === undefined) {\n\t\tlocalizeTools = (await import('@angular/localize/tools')).LocalizeTools;\n\t}\n\treturn localizeTools;\n}", "CodeBleu_score": 30.23804777506982}, {"code": "async function loadLocalizeTools(): Promise<LocalizeUtilityModule> {\n\t", "CodeBleu_score": 8.548146406079093}]}
{"instance_id": "d7c4df80e1ac", "generation_result": [{"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\tconst diagnostics: Diagnostic[] = [];\n\tconst diagnosticsPlugin = createDiagnosticsPlugin(diagnostics);\n\tconst translationPlugin = createTranslationPlugin(translation);\n\tconst localePlugin = createLocalePlugin(locale);\n\treturn {\n\t\tdiagnostics,\n\t\tplugins: [\n\t\t\tdiagnosticsPlugin,\n\t\t\ttranslationPlugin,\n\t\t\tlocalePlugin,\n\t\t],\n\t};\n}", "CodeBleu_score": 26.17352312447875}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\tconst diagnostics = new Map<string, Diagnostic>();\n\tconst diagnosticsReporter = new DiagnosticsReporter(diagnostics);\n\tconst diagnosticsPlugin = diagnosticsReporter.plugin;\n\tconst diagnosticReporter = new DiagnosticReporter(diagnostics);\n\tconst diagnosticReporterPlugin = diagnosticReporter.plugin;\n\tconst diagnosticFilterPlugin = diagnosticReporter.filter;\n\tconst translationPlugin = translationPluginFactory(translation);\n\tconst localePlugin = localePluginFactory(locale);\n\tconst plugins = [\n\t\tdiagnosticReporterPlugin,\n\t\tdiagnosticFilterPlugin,\n\t\ttranslationPlugin,\n\t\tlocalePlugin,\n\t];\n\treturn { diagnostics, plugins };\n}", "CodeBleu_score": 31.613061525354002}, {"code": "async function createI18nPlugins(locale: string, translation: Record<string, unknown> | undefined){\n\t\tconst diagnostics = new Diagnostics()\n\tconst translationPlugin = createTranslationPlugin(diagnostics, translation)\n\tconst diagnosticsPlugin = createDiagnosticsPlugin(diagnostics)\n\tconst localePlugin = createLocalePlugin(locale)\n\treturn { diagnostics, plugins: [translationPlugin, diagnosticsPlugin, localePlugin] }\n}", "CodeBleu_score": 27.16889762615343}]}
{"instance_id": "9486259c4631", "generation_result": [{"code": "const readAsset = async function (filePath: string): Promise<string>{\n\t\tfilePath = filePath.replace(new RegExp('^' + path.sep), '');\n\tconst file = browserOutputFiles.find(file => file.path === filePath);\n\tif (file) {\n\t\treturn file.content;\n\t}\n\tthrow new Error('File does not exist: ' + filePath);\n}", "CodeBleu_score": 49.859693353888716}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\t\tconst relativePath = filePath.replace(new RegExp('^' + path.sep), '');\n\tconst asset = browserOutputFiles.find(file => file.path === relativePath);\n\tif (!asset) {\n\t\tthrow new Error(`Could not find asset file ${filePath}`);\n\t}\n\treturn asset.content;\n}", "CodeBleu_score": 46.88872378273901}, {"code": "const readAsset = async function (filePath: string): Promise<string>{\n\t\tconst relativePath = filePath.replace(new RegExp(\"^\" + path.sep), \"\");\n\tconst file = browserOutputFiles.find(file => file.path === relativePath);\n\tif (file) {\n\t\treturn file.content;\n\t} else {\n\t\tthrow new Error(`Could not find asset file: ${filePath}`);\n\t}\n}", "CodeBleu_score": 54.343522341762196}]}
{"instance_id": "2206ca03c7ec", "generation_result": [{"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\t", "CodeBleu_score": 7.789944509933383}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\t", "CodeBleu_score": 7.789944509933383}, {"code": "async put(path: string, result: OnLoadResult): Promise<void>{\n\t\n}", "CodeBleu_score": 7.881650192158834}]}
{"instance_id": "a261d85630d0", "generation_result": [{"code": "invalidate(path: string): boolean{\n\t\tconst results = [];\n\tconst dependencies = this.#fileDependencies.get(path);\n\tif (dependencies) {\n\t\tfor (const dependency of dependencies) {\n\t\t\tconst result = this.#loadResults.delete(dependency);\n\t\t\tif (result) {\n\t\t\t\tresults.push(result);\n\t\t\t}\n\t\t}\n\t}\n\tconst result = this.#fileDependencies.delete(path);\n\tif (result) {\n\t\tresults.push(result);\n\t}\n\treturn results.length > 0;\n}", "CodeBleu_score": 40.59091154820125}, {"code": "invalidate(path: string): boolean{\n\t\tconst affectedPaths = this.#fileDependencies.get(path)\n\tif (affectedPaths) {\n\t\tconst loadResultsDeleted = affectedPaths.reduce((acc, path) => {\n\t\t\tif (this.#loadResults.delete(path)) acc = true\n\t\t\treturn acc\n\t\t}, false)\n\t\tthis.#fileDependencies.delete(path)\n\t\treturn loadResultsDeleted\n\t}\n\treturn false\n}", "CodeBleu_score": 52.53491762579954}, {"code": "invalidate(path: string): boolean{\n\t\tlet deleted = false;\n\tconst dependencies = this.#fileDependencies.get(path);\n\tif (dependencies) {\n\t\tfor (const dependency of dependencies) {\n\t\t\tif (this.#loadResults.delete(dependency)) {\n\t\t\t\tdeleted = true;\n\t\t\t}\n\t\t}\n\t\tthis.#fileDependencies.delete(path);\n\t}\n\treturn deleted;\n}", "CodeBleu_score": 64.72678561446648}]}
{"instance_id": "8fa6dee0ba79", "generation_result": [{"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tif (cumulative) {\n\t\tcumulativeDurations[name] = (cumulativeDurations[name] || 0n) + (process.hrtime.bigint() - startTime);\n\t} else {\n\t\tconsole.log(name + \": \" + (process.hrtime.bigint() - startTime) / 1000000000n);\n\t}\n}", "CodeBleu_score": 23.11869213124243}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tlet duration: bigint = BigInt(Date.now()) - startTime;\n\tif (cumulative) {\n\t\tif (name in cumulativeDurations) {\n\t\t\tcumulativeDurations[name] += duration;\n\t\t} else {\n\t\t\tcumulativeDurations[name] = duration;\n\t\t}\n\t} else {\n\t\tconsole.log(name + \" took \" + (duration / BigInt(1000000000)).toString() + \" seconds.\");\n\t}\n}", "CodeBleu_score": 30.70832856954833}, {"code": "function recordDuration(name: string, startTime: bigint, cumulative?: boolean): void{\n\t\tlet duration = (process.hrtime.bigint() - startTime) / BigInt(1e6);\n\tif (cumulative) {\n\t\tcumulativeDurations.set(name, (cumulativeDurations.get(name) || 0n) + duration);\n\t} else {\n\t\tconsole.log(name + \" took \" + duration.toString() + \"ms\");\n\t}\n}", "CodeBleu_score": 33.736005838298475}]}
{"instance_id": "0c530cbeb386", "generation_result": [{"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\tconst oldGetSourceFiles = program.getSourceFiles;\n\tprogram.getSourceFiles = function getSourceFiles() {\n\t\tconst sourceFiles = oldGetSourceFiles();\n\t\tconst newSourceFiles: ts.SourceFile[] = [];\n\t\tfor (const sourceFile of sourceFiles) {\n\t\t\tif (!sourceFile.version) {\n\t\t\t\tconst file = sourceFile.text;\n\t\t\t\tconst hash = createHash('sha256');\n\t\t\t\thash.update(file);\n\t\t\t\tconst newVersion = hash.digest('hex');\n\t\t\t\tconst newSourceFile = ts.updateSourceFile(sourceFile, file, false, ts.ScriptTarget.Latest, true, ts.ScriptKind.TS, newVersion);\n\t\t\t\tnewSourceFiles.push(newSourceFile);\n\t\t\t} else {\n\t\t\t\tnewSourceFiles.push(sourceFile);\n\t\t\t}\n\t\t}\n\t\treturn newSourceFiles;\n\t};\n}", "CodeBleu_score": 37.31395957662883}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\tconst oldGetSourceFiles = program.getSourceFiles;\n\tprogram.getSourceFiles = function getSourceFiles() {\n\t\tconst files = oldGetSourceFiles();\n\t\tconst seen = new Set();\n\t\tconst result: ts.SourceFile[] = [];\n\t\tfor (const file of files) {\n\t\t\tif (file.isDeclarationFile) {\n\t\t\t\tresult.push(file);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst version = file.version;\n\t\t\tif (version !== undefined) {\n\t\t\t\tresult.push(file);\n\t\t\t\tseen.add(file.fileName);\n\t\t\t}\n\t\t}\n\t\tfor (const file of files) {\n\t\t\tif (file.isDeclarationFile) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (seen.has(file.fileName)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst text = file.text;\n\t\t\tconst hash = createHash('sha256');\n\t\t\thash.update(text);\n\t\t\tconst newFile = ts.updateSourceFile(file, text, true, ts.ScriptTarget.Latest, true);\n\t\t\tnewFile.version = hash.digest('base64');\n\t\t\tresult.push(newFile);\n\t\t}\n\t\treturn result;\n\t};\n}", "CodeBleu_score": 38.381047037509}, {"code": "export function ensureSourceFileVersions(program: ts.Program): void{\n\t\tconst files = program.getSourceFiles();\n\tconst getSourceFile = program.getSourceFile;\n\tconst getSourceFiles = program.getSourceFiles;\n\tconst createHash = crypto.createHash;\n\tconst baseGetSourceFiles = program.getSourceFiles;\n\tconst baseGetSourceFile = program.getSourceFile;\n\n\tprogram.getSourceFiles = () => {\n\t\tconst sourceFiles = baseGetSourceFiles();\n\t\tconst filesWithVersions = sourceFiles.filter(file => file.version !== undefined);\n\t\tconst filesWithoutVersions = sourceFiles.filter(file => file.version === undefined);\n\t\treturn [...filesWithVersions, ...filesWithoutVersions];\n\t};\n\n\tprogram.getSourceFile = (fileName: string, languageVersion: ts.ScriptTarget, onError?: (message: string) => void, shouldCreateNewSourceFile?: boolean) => {\n\t\tconst file = baseGetSourceFile(fileName, languageVersion, onError, shouldCreateNewSourceFile);\n\t\tif (file && file.version === undefined) {\n\t\t\tfile.version = createHash('sha256').update(file.text).digest('hex');\n\t\t}\n\t\treturn file;\n\t};\n}", "CodeBleu_score": 41.4288231951074}]}
{"instance_id": "3faf480d56ae", "generation_result": [{"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (resolvedModule) {\n\t\tconst resolvedFileName = resolvedModule.resolvedFileName;\n\t\tif (resolvedFileName) {\n\t\t\tconst replacement = replacements[resolvedFileName];\n\t\t\tif (replacement) {\n\t\t\t\tconst isExternalLibraryImport = resolvedFileName.startsWith(\"node_modules\");\n\t\t\t\treturn {\n\t\t\t\t\tresolvedFileName: replacement,\n\t\t\t\t\tisExternalLibraryImport,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\treturn resolvedModule;\n}", "CodeBleu_score": 45.692168656080334}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (resolvedModule) {\n\t\tconst resolvedFileName = resolvedModule.resolvedFileName;\n\t\tconst resolvedFileNameWithoutExtension = resolvedFileName.slice(0, resolvedFileName.lastIndexOf(\".\"));\n\t\tconst replacement = replacements[resolvedFileNameWithoutExtension];\n\t\tif (replacement) {\n\t\t\treturn {\n\t\t\t\tresolvedFileName: replacement.replace,\n\t\t\t\tisExternalLibraryImport: replacement.isExternalLibraryImport\n\t\t\t};\n\t\t}\n\t}\n\treturn resolvedModule;\n}", "CodeBleu_score": 45.27846986248706}, {"code": "const tryReplace = (resolvedModule: ts.ResolvedModule | undefined) =>{\n\t\tif (!resolvedModule) {\n\t\treturn resolvedModule\n\t}\n\n\tconst resolvedFileName = resolvedModule.resolvedFileName\n\tconst isExternalLibraryImport = resolvedModule.isExternalLibraryImport\n\n\tif (!resolvedFileName) {\n\t\treturn resolvedModule\n\t}\n\n\tconst replacement = replacements[resolvedFileName]\n\n\tif (replacement) {\n\t\treturn {\n\t\t\tresolvedFileName: replacement,\n\t\t\tisExternalLibraryImport,\n\t\t}\n\t}\n\n\treturn resolvedModule\n}", "CodeBleu_score": 46.821539436795675}]}
{"instance_id": "382672b61228", "generation_result": [{"code": "get waitUntilReady(): Promise<boolean>{\n\t\tif (this._readyPromise) {\n\t\treturn this._readyPromise;\n\t}\n\tif (this._compilation) {\n\t\tif (!this._compilation.ready) {\n\t\t\tthis._compilation.ready = new Promise<boolean>((resolve, reject) => {\n\t\t\t\tthis._compilation.on('statusChange', (status) => {\n\t\t\t\t\tif (status === Compilation.Status.Ready) {\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tthis._readyPromise = this._compilation.ready;\n\t}\n\treturn Promise.resolve(!!this._readyPromise);\n}", "CodeBleu_score": 17.366214231071588}, {"code": "get waitUntilReady(): Promise<boolean>{\n\t\tif (this._readyPromise === undefined) {\n\t\tthis._readyPromise = new Promise((resolve, reject) => {\n\t\t\tif (this.error) {\n\t\t\t\treject(this.error);\n\t\t\t} else {\n\t\t\t\tresolve(true);\n\t\t\t}\n\t\t});\n\t}\n\treturn this._readyPromise;\n}", "CodeBleu_score": 16.117599430810394}, {"code": "get waitUntilReady(): Promise<boolean>{\n\t\tif (!this.ready) {\n\t\tif (!this.readyPromise) {\n\t\t\tthis.readyPromise = new Promise<boolean>(resolve => {\n\t\t\t\tthis.readyPromiseResolve = resolve;\n\t\t\t});\n\t\t}\n\t\treturn this.readyPromise;\n\t}\n\treturn Promise.resolve(true);\n}", "CodeBleu_score": 20.72477138858495}]}
{"instance_id": "27f631043b39", "generation_result": [{"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\t\tconst workspaceRoot = this.workspaceRoot;\n\tconst incremental = this.incremental;\n\tconst bundler = new BundlerContext(workspaceRoot, { incremental });\n\n\tconst stylesBundleOptions = {\n\t\tinject: true,\n\t\tminify: false,\n\t\tscopeHoist: false,\n\t\ttarget: 'dist',\n\t\tbanner: '',\n\t\tglobals: {},\n\t\tinjectCSS: true,\n\t\tinjectRawCSS: false,\n\t\tsourceMap: false,\n\t\thmr: false,\n\t\tresolveDir: path.dirname(entry.filePath),\n\t};\n\n\tbundler.addEntry(entry.filePath, {\n\t\ttarget: 'dist',\n\t\tformat: 'esm',\n\t\tresolveDir: path.dirname(entry.filePath),\n\t\tglobals: {},\n\t\tsourceMap: false,\n\t\tplugins: [\n\t\t\t{\n\t\t\t\tname: 'angular:styles/component',\n\t\t\t\tresolveId: (importee) => {\n\t\t\t\t\tif (importee === entry.filePath) {\n\t\t\t\t\t\treturn importee;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tload: (id) => {\n\t\t\t\t\tif (id === entry.filePath) {\n\t\t\t\t\t\treturn `export default ${JSON.stringify(entry.styles)};`;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttransform: (code, id) => {\n\t\t\t\t\tif (id === entry.filePath) {\n\t\t\t\t\t\tconst stylesheets = entry.stylesheets.map((stylesheet) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tpath: path.relative(path.dirname(entry.filePath), stylesheet.filePath),\n\t\t\t\t\t\t\t\tnamespace: stylesheet.namespace,\n\t\t\t\t\t\t\t\tcontent: stylesheet.content,\n\t\t\t\t\t\t\t\tresolveDir: path.dirname(stylesheet.filePath),\n\t\t\t\t\t\t\t\tloader: stylesheet.loader,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn `export default [${stylesheets.map((stylesheet) => {\n\t\t\t\t\t\t\treturn `{ path: ${JSON.stringify(stylesheet.path)}, namespace: ${JSON.stringify(stylesheet.namespace)}, content: ${JSON.stringify(stylesheet.content)}, resolveDir: ${JSON.stringify(stylesheet.resolveDir)}, loader: ${JSON.stringify(stylesheet.loader)} }`;\n\t\t\t\t\t\t}).join(', ')}];`;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t});\n\n\treturn bundler;\n}", "CodeBleu_score": 28.009065517706137}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\t\tconst bundler = new Bundler(workspaceRoot, { incremental: true });\n\tconst options = {\n\t\tnamespace: 'angular:styles/component',\n\t\tentry: [entry],\n\t\tplugins: [\n\t\t\t{\n\t\t\t\tname: 'angular-component-plugin',\n\t\t\t\tresolveId: (id) => {\n\t\t\t\t\tif (!id.startsWith('angular:')) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn id;\n\t\t\t\t},\n\t\t\t\tload: (id) => {\n\t\t\t\t\tif (!id.startsWith('angular:')) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tconst path = id.replace('angular:', '');\n\t\t\t\t\tconst resolvedPath = path.replace(new RegExp('^/'), workspaceRoot);\n\t\t\t\t\treturn fs.promises.readFile(resolvedPath, 'utf-8');\n\t\t\t\t},\n\t\t\t\ttransform: (code, id) => {\n\t\t\t\t\tif (!id.startsWith('angular:')) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\tconst path = id.replace('angular:', '');\n\t\t\t\t\tconst resolvedPath = path.replace(new RegExp('^/'), workspaceRoot);\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcode: `export default { path: '${path}', namespace: 'angular:styles/component', content: \\`${code}\\`, resolveDir: '${path.replace(new RegExp('/[^/]+$'), '')}' }`,\n\t\t\t\t\t\tmap: { mappings: '' }\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t};\n\treturn bundler.createContext(options);\n}", "CodeBleu_score": 34.92752663144721}, {"code": "const bundlerContext = await this.#inlineContexts.getOrCreate(entry, () =>{\n\t\tconst bundler = new BundlerContext(workspace.root, { incremental: true });\n\n\tconst stylesheetBundleOptions = {\n\t\tinject: true,\n\t\tinjectDependencies: true,\n\t\tinjectGlobalStyle: true,\n\t\tresolveDir: workspace.root,\n\t\tnamespace: 'angular:styles/component',\n\t};\n\n\tbundler.entry(entry);\n\tbundler.plugin(stylesPlugin(stylesheetBundleOptions));\n\n\treturn bundler;\n}", "CodeBleu_score": 12.07494663783756}]}
{"instance_id": "b89b44b794a7", "generation_result": [{"code": "invalidate(files: Iterable<string>) {\n\t\tconst normalizedFiles = Array.from(files).map(normalizePath);\n\tthis.#inlineContexts.values().forEach(bundler => bundler.invalidate(normalizedFiles));\n\tthis.#fileContexts.values().forEach(bundler => bundler.invalidate(normalizedFiles));\n}", "CodeBleu_score": 53.550966814512165}, {"code": "invalidate(files: Iterable<string>) {\n\t\tconst normalizedFiles = Array.from(files).map(normalizePath);\n\tthis.#fileContexts.forEach(bundler => bundler.invalidate(normalizedFiles));\n\tthis.#inlineContexts.forEach(bundler => bundler.invalidate(normalizedFiles));\n}", "CodeBleu_score": 49.6127081586532}, {"code": "invalidate(files: Iterable<string>) {\n\t\n}", "CodeBleu_score": 4.246788044121336}]}
{"instance_id": "aa3aa0817adf", "generation_result": [{"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\t", "CodeBleu_score": 8.267777108135347}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\t\"\"\"\n\nfor diagnostic in diagnostics:\n    if diagnostic.source == 'ts':\n        source = 'TS'\n    elif diagnostic.source == 'angular':\n        source = 'NG'\n    else:\n        raise Exception('Unknown diagnostic source: ' + diagnostic.source)\n    if diagnostic.file:\n        line = diagnostic.file.getLineAndCharacterOfPosition(diagnostic.start).line\n        text = diagnostic.file.text.splitlines()[line]\n    else:\n        line = -1\n        text = ''\n    print(f\"\"\"\\\n  if (diagnostic.code === {diagnostic.code}) {{\n    return {{\n      code: '{source}{diagnostic.code}',\n      message: convertTypeScriptDiagnosticInfo(typescript, diagnostic.messageText, diagnostic.code),\n      shortDescription: typescript.flattenDiagnosticMessageText(diagnostic.messageText, '\\\n'),\n      longDescription: {diagnostic.messageText},\n      position: {{\n        line: {line},\n        character: 0,\n      }},\n      text: '{text}',\n    }};\n  }}\n\"\"\")\n\nprint(f\"\"\"\\\n}", "CodeBleu_score": 26.256436050169196}, {"code": "export function convertTypeScriptDiagnostic(\n  typescript: typeof ts,\n  diagnostic: ts.Diagnostic,\n): PartialMessage {\n\t\"\"\"\n\nprint(f\"{header}\n\")\n\nfor diagnostic_code in DIAGNOSTIC_CODES:\n    print(f\"  if (diagnostic.code === {diagnostic_code}) {{\")\n    print(f\"    return convertTypeScriptDiagnosticInfo({diagnostic_code}, diagnostic.file, diagnostic.start, diagnostic.length, diagnostic.messageText);\")\n    print(f\"  }}\")\n\nprint(f\"\"\"\n}", "CodeBleu_score": 19.424208772241958}]}
{"instance_id": "0cd0285018f1", "generation_result": [{"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\t\tconst normalizedContainingFile = normalizePath(containingFile);\n\tconst normalizedReferencedFiles = Array.from(referencedFiles).map(normalizePath);\n\tif (normalizedContainingFile === normalizedReferencedFiles[0]) {\n\t\treturn;\n\t}\n\tif (!this.referencingFiles.has(normalizedContainingFile)) {\n\t\tthis.referencingFiles.set(normalizedContainingFile, new Set());\n\t}\n\tconst referencingFiles = this.referencingFiles.get(normalizedContainingFile)!;\n\tfor (const referencedFile of normalizedReferencedFiles) {\n\t\treferencingFiles.add(referencedFile);\n\t}\n}", "CodeBleu_score": 51.49856176387478}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\t\tconst normalizedContainingFile = normalizePath(containingFile);\n\tconst normalizedReferencedFiles = new Set(\n\t\t[...referencedFiles].map(normalizePath),\n\t);\n\tif (normalizedContainingFile === normalizedReferencedFiles) {\n\t\treturn;\n\t}\n\tconst containingFileSet = this.referencingFiles.get(normalizedContainingFile);\n\tif (containingFileSet) {\n\t\tcontainingFileSet.add(normalizedReferencedFiles);\n\t} else {\n\t\tthis.referencingFiles.set(normalizedContainingFile, new Set([...normalizedReferencedFiles]));\n\t}\n}", "CodeBleu_score": 51.01659416685447}, {"code": "add(containingFile: string, referencedFiles: Iterable<string>): void{\n\t\tconst normalizedContainingFile = normalizePath(containingFile);\n\tfor (const referencedFile of referencedFiles) {\n\t\tconst normalizedReferencedFile = normalizePath(referencedFile);\n\t\tif (normalizedContainingFile === normalizedReferencedFile) {\n\t\t\tcontinue;\n\t\t}\n\t\tlet referencingFiles = this.referencingFiles.get(normalizedReferencedFile);\n\t\tif (referencingFiles == null) {\n\t\t\treferencingFiles = new Set();\n\t\t\tthis.referencingFiles.set(normalizedReferencedFile, referencingFiles);\n\t\t}\n\t\treferencingFiles.add(normalizedContainingFile);\n\t}\n}", "CodeBleu_score": 63.1762966059124}]}
{"instance_id": "e22be1916b33", "generation_result": [{"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\t\treturn (typeof ng !== 'undefined') ? ng : (await loadEsmModule('@angular/compiler-cli'));\n}", "CodeBleu_score": 26.327588436313317}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\t\tif (ng === undefined) {\n\t\tconst { ng } = await import('@angular/compiler-cli');\n\t\treturn ng;\n\t} else {\n\t\treturn ng;\n\t}\n}", "CodeBleu_score": 32.55181039769967}, {"code": "static async loadCompilerCli(): Promise<typeof ng> {\n\t\tif ( !loadCompilerCli.compilerCli )  {\n\t\ttry {\n\t\t\tloadCompilerCli.compilerCli = await import('@angular/compiler-cli');\n\t\t} catch ( error ) {\n\t\t\tthrow new Error(\n\t\t\t\t'The Angular compiler-cli package was not installed. ' +\n\t\t\t\t'Please run \"npm install @angular/compiler-cli\" and try again.'\n\t\t\t);\n\t\t}\n\t}\n\treturn loadCompilerCli.compilerCli;\n}", "CodeBleu_score": 27.56930179298007}]}
{"instance_id": "64e42342101f", "generation_result": [{"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\treturn new (await import('./parallel-compilation')).ParallelCompilation();\n\t} else if (jit) {\n\t\treturn new (await import('./jit-compilation')).JitCompilation();\n\t} else {\n\t\treturn new (await import('./aot-compilation')).AotCompilation();\n\t}\n}", "CodeBleu_score": 29.717099096727523}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tif (useParallelTs) {\n\t\treturn new ParallelCompilation();\n\t} else if (jit) {\n\t\treturn new JitCompilation();\n\t} else {\n\t\treturn new AotCompilation();\n\t}\n}", "CodeBleu_score": 19.46121606537442}, {"code": "export async function createAngularCompilation(jit: boolean): Promise<AngularCompilation>{\n\t\tconst { AotCompiler, AotCompilerHost, AngularCompilerPlugin, createAotCompiler, createCompilerHost } = await import('@angular/compiler-cli');\n\tconst { readFileSync } = await import('fs');\n\tconst { join } = await import('path');\n\tconst { createAngularCompilerOptions } = await import('./create-angular-compiler-options');\n\tconst { createTsCompiler } = await import('./create-ts-compiler');\n\n\tconst tsCompiler = createTsCompiler();\n\tconst angularCompilerOptions = createAngularCompilerOptions();\n\n\tconst compilerHost = createCompilerHost(angularCompilerOptions);\n\tconst angularCompilerPlugin = new AngularCompilerPlugin({\n\t\ttsCompiler,\n\t\tcompilerHost,\n\t\toptions: angularCompilerOptions\n\t});\n\n\tconst aotCompilerHost = new AotCompilerHost(angularCompilerOptions, compilerHost, tsCompiler);\n\tconst aotCompiler = createAotCompiler(angularCompilerOptions, aotCompilerHost);\n\n\tif (jit) {\n\t\treturn new JitCompilation(aotCompiler, angularCompilerOptions, angularCompilerPlugin);\n\t} else if (useParallelTs) {\n\t\treturn new ParallelCompilation(aotCompiler, angularCompilerOptions, angularCompilerPlugin);\n\t} else {\n\t\treturn new AotCompilation(aotCompiler, angularCompilerOptions, angularCompilerPlugin);\n\t}\n}", "CodeBleu_score": 36.95706651053021}]}
{"instance_id": "37804d74eb2d", "generation_result": [{"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t\n}", "CodeBleu_score": 13.993599339758173}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t}", "CodeBleu_score": 13.993599339758173}, {"code": "function sourceMapToUrlComment(\n  sourceMap: Exclude<CompileResult['sourceMap'], undefined>,\n  root: string,\n): string{\n\t\n}", "CodeBleu_score": 13.993599339758173}]}
{"instance_id": "bccb5eeb4c4d", "generation_result": [{"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(/^\\s+at\\s+(.+?)\\s+\\((.+?)\\)/);\n\t\tif (match) {\n\t\t\tconst [, file, location] = match;\n\t\t\tconst segments = location.split('/');\n\t\t\tconst fileName = segments.pop();\n\t\t\tif (fileName) {\n\t\t\t\tsegments.push(fileName);\n\t\t\t}\n\t\t\tyield file + ':' + segments.join('/');\n\t\t}\n\t}\n}", "CodeBleu_score": 42.23345954954861}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(/^\\s+at\\s+(.+?)\\s+\\((.+?)\\)/);\n\t\tif (match) {\n\t\t\tconst [_, file, location] = match;\n\t\t\tconst segments = location.split('/');\n\t\t\tconst index = segments.indexOf('webpack');\n\t\t\tif (index >= 0) {\n\t\t\t\tconst fileSegments = segments.slice(index + 1);\n\t\t\t\tif (fileSegments.length > 0) {\n\t\t\t\t\tconst file = fileSegments.join('/');\n\t\t\t\t\tyield file;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 40.04408061171225}, {"code": "function* extractFilesFromStack(stack: string): Iterable<string>{\n\t\tconst lines = stack.split('\n');\n\tfor (const line of lines) {\n\t\tconst match = line.match(/^\\s*at (?:(?:new )?)?(\\w*)\\s?\\((.*):(\\d*):(\\d*)\\)/);\n\t\tif (match) {\n\t\t\tconst [, functionName, filePath, lineNumber, columnNumber] = match;\n\t\t\tconst adjustedFilePath = path.relative(process.cwd(), filePath);\n\t\t\tyield `${adjustedFilePath}:${lineNumber}:${columnNumber}`;\n\t\t}\n\t}\n}", "CodeBleu_score": 34.655035914655805}]}
{"instance_id": "e73986d88a00", "generation_result": [{"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\tif (typeof contents === \"string\") {\n\t\treturn contents.includes(tailwindKeyword)\n\t} else {\n\t\treturn Buffer.from(contents).includes(tailwindKeyword)\n\t}\n}", "CodeBleu_score": 28.086413116222275}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\tif (typeof contents === 'string') {\n\t\treturn contents.includes(tailwindKeyword)\n\t} else {\n\t\treturn Buffer.from(contents).includes(tailwindKeyword)\n\t}\n}", "CodeBleu_score": 31.29847688786841}, {"code": "function hasTailwindKeywords(contents: string | Uint8Array): boolean{\n\t\tif (typeof contents === \"string\") {\n\t\treturn contents.includes(tailwindKeywords);\n\t} else {\n\t\treturn new TextDecoder().decode(contents).includes(tailwindKeywords);\n\t}\n}", "CodeBleu_score": 28.140846903768136}]}
{"instance_id": "ff27dc4f1deb", "generation_result": [{"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t${serverConfiguredHeaders.map(\n  (header) => `  if (server.config.headers['${header.name}']) {\n    res.setHeader('${header.name}', server.config.headers['${header.name}'])\n  }`,\n).join('\n')}\n}", "CodeBleu_score": 29.446588162595166}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t${serverConfiguredHeaders}\n}", "CodeBleu_score": 15.668671477603146}, {"code": "export function appendServerConfiguredHeaders(\n  server: ViteDevServer,\n  res: ServerResponse<IncomingMessage>,\n): void{\n\t${serverConfiguredHeaders.map(\n  (header) => `  if (server.config.server.headers['${header.key}']) {\n    res.setHeader('${header.key}', server.config.server.headers['${header.key}'])\n  }`,\n).join('\n')}\n}", "CodeBleu_score": 29.43692314061507}]}
{"instance_id": "1d547de72724", "generation_result": [{"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\tconst unusedParsers = new Map<string, Parser>();\n\tconst parsers = await importParsers();\n\tconst parserNames = Object.keys(parsers);\n\tconst parserCount = parserNames.length;\n\tconst parserIndex = new Map<string, number>();\n\tfor (let i = 0; i < parserCount; i++) {\n\t\tconst parserName = parserNames[i];\n\t\tunusedParsers.set(parserName, parsers[parserName]);\n\t\tparserIndex.set(parserName, i);\n\t}\n\treturn async function loadTranslation(filePath: string): Promise<Translation> {\n\t\tconst content = fs.readFileSync(filePath, 'utf-8');\n\t\tconst messages: string[] = [];\n\t\tconst createHash = require('crypto').createHash;\n\t\tconst hash = createHash('sha256').update(content).digest('hex');\n\t\tconst parser = await findParser(filePath, content, unusedParsers);\n\t\tunusedParsers.delete(parser.name);\n\t\tconst analysis = parser.analyze(content);\n\t\tconst diagnostics = analysis.diagnostics;\n\t\tif (diagnostics.length) {\n\t\t\tconst diagnosticsMessage = diagnostics.formatDiagnostics(filePath);\n\t\t\tmessages.push(diagnosticsMessage);\n\t\t}\n\t\tconst translations = parser.parse(analysis);\n\t\tconst translationMessage = messages.push(translations.format(parser.name));\n\t\treturn {\n\t\t\tlocale: translations.locale,\n\t\t\tformat: parser.name,\n\t\t\tmessages: messages.join('\n'),\n\t\t\tintegrity: hash\n\t\t};\n\t};\n}", "CodeBleu_score": 41.27171348174815}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t\tconst unusedParsers = new Map<string, Parser>();\n\tconst parsers = await Promise.all([\n\t\timport('./parsers/json'),\n\t\timport('./parsers/properties'),\n\t\timport('./parsers/yaml'),\n\t]);\n\tfor (const [name, parser] of parsers.entries()) {\n\t\tunusedParsers.set(name, parser.default);\n\t}\n\n\treturn async function loadTranslation(path: string): Promise<Translation> {\n\t\tconst content = fs.readFileSync(path, 'utf8');\n\t\tconst messages: string[] = [];\n\t\tconst createHash = crypto.createHash;\n\t\tconst digest = (content: string) => createHash('sha256').update(content).digest('base64');\n\t\tconst messagesPush = messages.push.bind(messages);\n\t\tconst parser = unusedParsers.entries().next().value[1];\n\t\tconst unusedParsersSet = unusedParsers.set.bind(unusedParsers);\n\t\tconst parserAnalyze = parser.analyze.bind(parser);\n\t\tconst formatDiagnostics = ts.formatDiagnostics.bind(ts);\n\t\tconst messagesJoin = messages.join.bind(messages);\n\t\tconst analysis = parserAnalyze(content, messagesPush, unusedParsersSet);\n\t\tconst diagnostics = analysis.diagnostics;\n\t\tif (diagnostics.length) {\n\t\t\tconst diagnosticsText = formatDiagnostics(diagnostics, {\n\t\t\t\tgetRuleName: (ruleId) => ruleId,\n\t\t\t\tpretty: true,\n\t\t\t});\n\t\t\tthrow new Error(messagesJoin(`Diagnostics while loading translation file ${path}:\n`, diagnosticsText));\n\t\t}\n\t\treturn {\n\t\t\tformat: parser.format,\n\t\t\tlocale: parser.locale,\n\t\t\ttranslations: analysis.translations,\n\t\t\tintegrity: digest(content),\n\t\t};\n\t};\n}", "CodeBleu_score": 42.15233933861523}, {"code": "export async function createTranslationLoader(): Promise<TranslationLoader>{\n\t", "CodeBleu_score": 0.9144276103247926}]}
{"instance_id": "0c0d3dcf983c", "generation_result": [{"code": "toggleSidebar(): boolean{\n\tthis.sidebarService.toggle(this.sidebarId, this.sidebarState);\nthis.layoutService.changeLayoutSize();\nreturn false;\n}", "CodeBleu_score": 45.806492297243906}, {"code": "toggleSidebar(): boolean{\n\t\tthis.sidebarService.toggle(this.sidebar);\n\tthis.layoutService.changeLayoutSize();\n\treturn false;\n}", "CodeBleu_score": 46.406257361205064}, {"code": "toggleSidebar(): boolean{\n\t\n// Toggle the sidebar visibility.\nthis.sidebarService.toggle(this.sidebarId, this.sidebarState);\n\n// Update the layout size.\nthis.layoutService.changeLayoutSize();\n\n// Return false to prevent default event processing.\nreturn false;\n}", "CodeBleu_score": 45.96298888811094}]}
{"instance_id": "c5ebbdd1dadf", "generation_result": [{"code": "loadNext(cardData){\n\t\tif (!this.loading) {\n\t\tthis.loading = true;\n\t\tthis.news = [];\n\t\tfor (let i = 0; i < this.placeholderCount; i++) {\n\t\t\tthis.news.push(null);\n\t\t}\n\t\tthis.newsService.loadNext(this.page).subscribe(\n\t\t\t(news) => {\n\t\t\t\tthis.news = this.news.filter(n => n !== null);\n\t\t\t\tthis.news = this.news.concat(news);\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.page++;\n\t\t\t},\n\t\t\t(err) => {\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.news = [];\n\t\t\t\tthis.error = err;\n\t\t\t}\n\t\t);\n\t}\n}", "CodeBleu_score": 19.338357761575253}, {"code": "loadNext(cardData){\n\t\tif (this.loading) {\n\t\treturn;\n\t}\n\tthis.loading = true;\n\tthis.news = [\n\t\t{\n\t\t\ttitle: 'Loading...',\n\t\t\tdescription: 'Loading...',\n\t\t\turl: 'https://www.google.com',\n\t\t\timageUrl: 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png'\n\t\t},\n\t\t{\n\t\t\ttitle: 'Loading...',\n\t\t\tdescription: 'Loading...',\n\t\t\turl: 'https://www.google.com',\n\t\t\timageUrl: 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png'\n\t\t},\n\t\t{\n\t\t\ttitle: 'Loading...',\n\t\t\tdescription: 'Loading...',\n\t\t\turl: 'https://www.google.com',\n\t\t\timageUrl: 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png'\n\t\t},\n\t\t{\n\t\t\ttitle: 'Loading...',\n\t\t\tdescription: 'Loading...',\n\t\t\turl: 'https://www.google.com',\n\t\t\timageUrl: 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png'\n\t\t}\n\t];\n\tthis.newsService.loadNext(this.page).subscribe(\n\t\tnews => {\n\t\t\tthis.news = this.news.concat(news);\n\t\t\tthis.loading = false;\n\t\t\tthis.page++;\n\t\t},\n\t\te => {\n\t\t\tthis.loading = false;\n\t\t\tthis.news = [];\n\t\t\tthis.page++;\n\t\t\tconsole.error(e);\n\t\t}\n\t);\n}", "CodeBleu_score": 17.942810412210523}, {"code": "loadNext(cardData){\n\tif (!cardData.news.loading) {\ncardData.news.loading = true\ncardData.news.placeholders = []\ncardData.news.push(...Array(10).fill(undefined))\ncardData.newsService.loadNext(cardData.news.page).subscribe(\n(news) => {\ncardData.news.push(...news)\ncardData.news.placeholders = []\ncardData.news.loading = false\ncardData.news.page++\n},\n(e) => this.error(e)\n)\n}\n}", "CodeBleu_score": 30.803700288864132}]}
{"instance_id": "1bd87ab8efa2", "generation_result": [{"code": "backToTop(){\n\tif (this.isMoving) return\nconst start = window.pageYOffset\nlet i = 0\nthis.isMoving = true\nthis.interval = setInterval(() => {\nconst next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500))\nif (next <= this.backPosition) {\nwindow.scrollTo(0, this.backPosition)\nclearInterval(this.interval)\nthis.isMoving = false\n} else {\nwindow.scrollTo(0, next)\n}\ni++\n}, 16.7)\n}", "CodeBleu_score": 93.83577141580723}, {"code": "backToTop(){\n\tif (this.isMoving) return\nconst start = window.pageYOffset\nlet i = 0\nthis.isMoving = true\nthis.interval = setInterval(() => {\nconst next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500))\nif (next <= this.backPosition) {\nwindow.scrollTo(0, this.backPosition)\nclearInterval(this.interval)\nthis.isMoving = false\n} else {\nwindow.scrollTo(0, next)\n}\ni++\n}, 16.7)\n}", "CodeBleu_score": 93.83577141580723}, {"code": "backToTop(){\n\tif (this.isMoving) return\nconst start = window.pageYOffset\nlet i = 0\nthis.isMoving = true\nthis.interval = setInterval(() => {\nconst next = Math.floor(this.easeInOutQuad(10 * i, start, -start, 500))\nif (next <= this.backPosition) {\nwindow.scrollTo(0, this.backPosition)\nclearInterval(this.interval)\nthis.isMoving = false\n} else {\nwindow.scrollTo(0, next)\n}\ni++\n}, 16.7)\n}", "CodeBleu_score": 93.83577141580723}]}
{"instance_id": "0ef728b56235", "generation_result": [{"code": "getBreadcrumb(){\n\t// only show routes with meta.title\nlet matched = this.$route.matched.filter(item => item.meta && item.meta.title)\nconst first = matched[0]\n\nif (!this.isDashboard(first)) {\nmatched = [{ path: '/dashboard', meta: { title: 'Dashboard' }}].concat(matched)\n}\n\nthis.levelList = matched.filter(item => item.meta && item.meta.title && item.meta.breadcrumb !== false)\n}", "CodeBleu_score": 96.64530460018051}, {"code": "getBreadcrumb(){\n\t\n}", "CodeBleu_score": 1.471182134388089}, {"code": "getBreadcrumb(){\n\t// only show routes with meta.title\nlet matched = this.$route.matched.filter(item => item.meta && item.meta.title)\nconst first = matched[0]\n\nif (!this.isDashboard(first)) {\n  matched = [{ path: '/dashboard', meta: { title: 'Dashboard' }}].concat(matched)\n}\n\nthis.levelList = matched.filter(item => item.meta && item.meta.title && item.meta.breadcrumb !== false)\n}", "CodeBleu_score": 96.89164690782752}]}
{"instance_id": "4431fde0a559", "generation_result": [{"code": "destroyListener(){\n\twindow.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\n\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\n}", "CodeBleu_score": 68.85944140866023}, {"code": "destroyListener(){\n\twindow.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\n\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\n}", "CodeBleu_score": 68.85944140866023}, {"code": "destroyListener(){\n\twindow.removeEventListener('resize', this.$_resizeHandler)\nthis.$_resizeHandler = null\n\nthis.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\n}", "CodeBleu_score": 68.85944140866023}]}
{"instance_id": "7215170e04cd", "generation_result": [{"code": "deleteEle(ele){\n\t\n}", "CodeBleu_score": 4.128040854282356}, {"code": "deleteEle(ele){\n\tfor (const item of this.list1) {\nif (item.id === ele.id) {\nconst index = this.list1.indexOf(item)\nthis.list1.splice(index, 1)\nbreak\n}\n}\nif (this.isNotInList2(ele)) {\nthis.list2.unshift(ele)\n}\n}", "CodeBleu_score": 91.64505468711742}, {"code": "deleteEle(ele){\n\t\n}", "CodeBleu_score": 4.128040854282356}]}
{"instance_id": "b2acc5757074", "generation_result": [{"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\t\tlet res = []\n\n\tfor (const router of routes) {\n\t\t// skip hidden router\n\t\tif (router.hidden) { continue }\n\n\t\tconst data = {\n\t\t\tpath: path.resolve(basePath, router.path),\n\t\t\ttitle: [...prefixTitle]\n\t\t}\n\n\t\tif (router.meta && router.meta.title) {\n\t\t\tdata.title = [...data.title, router.meta.title]\n\n\t\t\tif (router.redirect !== 'noRedirect') {\n\t\t\t\t// only push the routes with title\n\t\t\t\t// special case: need to exclude parent router without redirect\n\t\t\t\tres.push(data)\n\t\t\t}\n\t\t}\n\n\t\t// recursive child routes\n\t\tif (router.children) {\n\t\t\tconst tempRoutes = this.generateRoutes(router.children, data.path, data.title)\n\t\t\tif (tempRoutes.length >= 1) {\n\t\t\t\tres = [...res, ...tempRoutes]\n\t\t\t}\n\t\t}\n\t}\n\treturn res\n}", "CodeBleu_score": 93.33528278567348}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\tlet res = []\n\nfor (const router of routes) {\n  // skip hidden router\n  if (router.hidden) { continue }\n\n  const data = {\n    path: path.resolve(basePath, router.path),\n    title: [...prefixTitle]\n  }\n\n  if (router.meta && router.meta.title) {\n    data.title = [...data.title, router.meta.title]\n\n    if (router.redirect !== 'noRedirect') {\n      // only push the routes with title\n      // special case: need to exclude parent router without redirect\n      res.push(data)\n    }\n  }\n\n  // recursive child routes\n  if (router.children) {\n    const tempRoutes = this.generateRoutes(router.children, data.path, data.title)\n    if (tempRoutes.length >= 1) {\n      res = [...res, ...tempRoutes]\n    }\n  }\n}\nreturn res\n}", "CodeBleu_score": 96.79524965564171}, {"code": "generateRoutes(routes, basePath = '/', prefixTitle = []){\n\t\n}", "CodeBleu_score": 2.919256597331902}]}
{"instance_id": "c4e47c376d30", "generation_result": [{"code": "closeSidebar(evt){\n\tconst parent = evt.target.closest('.rightPanel')\nif (!parent) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 92.56760488637812}, {"code": "closeSidebar(evt){\n\tconst parent = evt.target.closest('.rightPanel')\nif (!parent) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 92.56760488637812}, {"code": "closeSidebar(evt){\n\tconst parent = evt.target.closest('.rightPanel')\nif (!parent) {\nthis.show = false\nwindow.removeEventListener('click', this.closeSidebar)\n}\n}", "CodeBleu_score": 92.56760488637812}]}
{"instance_id": "ab91e02736a1", "generation_result": [{"code": "click(){\n\tif (!screenfull.enabled) {\nthis.$message({\nmessage: 'you browser can not work',\ntype: 'warning'\n})\nreturn false\n}\nscreenfull.toggle()\n}", "CodeBleu_score": 64.78099577662982}, {"code": "click(){\n\tif (!screenfull.enabled) {\nthis.$message({\nmessage: 'you browser can not work',\ntype: 'warning'\n})\nreturn false\n}\nscreenfull.toggle()\n}", "CodeBleu_score": 64.78099577662982}, {"code": "click(){\n\tif (!screenfull.enabled) {\n  this.$message({\n    message: 'you browser can not work',\n    type: 'warning'\n  })\n  return false\n}\nscreenfull.toggle()\n}", "CodeBleu_score": 68.21909882789933}]}
{"instance_id": "3f27cb09d8c2", "generation_result": [{"code": "function checkPermission(el, binding) {\n\t\tlet roles = store.getters['auth/roles'];\n\tif (roles) {\n\t\tif (Array.isArray(binding.value)) {\n\t\t\tif (roles.some(role => binding.value.includes(role))) {\n\t\t\t\tel.style.display = 'block';\n\t\t\t} else {\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('v-permission value must be an array');\n\t\t}\n\t}\n}", "CodeBleu_score": 20.41828126622785}, {"code": "function checkPermission(el, binding) {\n\t\tif (binding.value) {\n\t\tlet roles = store.getters.roles;\n\t\tlet hasPermission = false;\n\t\tfor (let i = 0; i < binding.value.length; i++) {\n\t\t\tif (roles.indexOf(binding.value[i]) > -1) {\n\t\t\t\thasPermission = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!hasPermission) {\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\t} else {\n\t\tthrow new Error('v-permission must have a value');\n\t}\n}", "CodeBleu_score": 25.034213319164287}, {"code": "function checkPermission(el, binding) {\n\t\tif (binding.value && binding.value.length > 0) {\n\t\tlet roles = store.getters['auth/roles'];\n\t\tif (roles) {\n\t\t\tlet hasPermission = false;\n\t\t\tfor (let i = 0; i < binding.value.length; i++) {\n\t\t\t\tif (roles.indexOf(binding.value[i]) > -1) {\n\t\t\t\t\thasPermission = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!hasPermission) {\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.error('v-permission needs roles to be passed as an array');\n\t\t}\n\t}\n}", "CodeBleu_score": 26.780678268271146}]}
{"instance_id": "04e47e771281", "generation_result": [{"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\tconst invitee = await this.adminService.inviteUserToSignInViaEmail(\nadminUser,\ninviteeEmail,\n);\nif (invitee.isLeft()) {\nthrow new InternalServerErrorException(invitee.value.message);\n}\nreturn invitee.value;\n}", "CodeBleu_score": 52.00083378279181}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\tif (!adminUser) {\nthrowErr('You must be logged in to invite a new user')\n}\nconst invitee: InvitedUser = {\nemail: inviteeEmail,\n}\nconst inviteeInviteToken: string = await this.adminService.inviteUserToSignInViaEmail(\nadminUser.id,\ninvitee,\n)\nreturn invitee\n}", "CodeBleu_score": 47.91755166630034}, {"code": "async inviteNewUser(\n    @GqlUser() adminUser: AuthUser,\n    @Args({\n      name: 'inviteeEmail',\n      description: 'invitee email',\n    })\n    inviteeEmail: string,\n  ): Promise<InvitedUser>{\n\tconst invitee: InvitedUser = {\nemail: inviteeEmail,\n};\n\nconst inviteUserResult: Either<Error, InvitedUser> = await this.adminService.inviteUserToSignInViaEmail(\nadminUser,\ninvitee,\n);\n\nif (inviteUserResult.isLeft()) {\nthrow inviteUserResult.value;\n}\n\nreturn inviteUserResult.value;\n}", "CodeBleu_score": 51.26693006866686}]}
{"instance_id": "3f25736bfbcd", "generation_result": [{"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\t\tconst redirectUri = req.query.redirectUri;\n\tconst code = req.query.code;\n\n\tif (!redirectUri) {\n\t\tthrow new BadRequestException('Missing redirectUri');\n\t}\n\n\tif (!code) {\n\t\tthrow new BadRequestException('Missing code');\n\t}\n\n\ttry {\n\t\tconst googleUser = await this.authService.getGoogleUser(code, redirectUri);\n\t\tconst user = await this.authService.findUserByEmail(googleUser.email);\n\n\t\tif (!user) {\n\t\t\tthrow new NotFoundException('User not found');\n\t\t}\n\n\t\tconst authTokens = await this.authService.generateAuthTokens(user.id);\n\n\t\tres.cookie('access_token', authTokens.accessToken, {\n\t\t\thttpOnly: true,\n\t\t\tsecure: true,\n\t\t\tsameSite: 'none',\n\t\t\tmaxAge: 24 * 60 * 60 * 1000,\n\t\t});\n\n\t\tres.cookie('refresh_token', authTokens.refreshToken, {\n\t\t\thttpOnly: true,\n\t\t\tsecure: true,\n\t\t\tsameSite: 'none',\n\t\t\tmaxAge: 30 * 24 * 60 * 60 * 1000,\n\t\t});\n\n\t\tres.redirect(redirectUri);\n\t} catch (err) {\n\t\tthrow new InternalServerErrorException(err.message);\n\t}\n}", "CodeBleu_score": 42.481681215341744}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\t\ttry {\n\t\tconst code = req.query.code;\n\t\tconst redirectUri = req.query.redirectUri;\n\n\t\tconst googleAuthTokens = await this.authService.generateGoogleAuthTokens(code, redirectUri);\n\n\t\tconst accessToken = googleAuthTokens.accessToken;\n\t\tconst refreshToken = googleAuthTokens.refreshToken;\n\n\t\t// Set the cookies in the response\n\t\tres.cookie('accessToken', accessToken, {\n\t\t\thttpOnly: true,\n\t\t\tsecure: this.configService.isProduction(),\n\t\t\tsameSite: 'none',\n\t\t\tmaxAge: 60 * 60 * 24 * 365,\n\t\t});\n\n\t\tres.cookie('refreshToken', refreshToken, {\n\t\t\thttpOnly: true,\n\t\t\tsecure: this.configService.isProduction(),\n\t\t\tsameSite: 'none',\n\t\t\tmaxAge: 60 * 60 * 24 * 365,\n\t\t});\n\n\t\t// Redirect the user to the specified URI\n\t\treturn res.redirect(redirectUri);\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\tthrow new InternalServerErrorException();\n\t}\n}", "CodeBleu_score": 38.130851179304656}, {"code": "async googleAuthRedirect(@Request() req, @Res() res){\n\t\tconst googleAuthCode = req.query.code;\n\tconst redirectURI = req.query.redirectURI;\n\tconst googleAuthTokens = await this.authService.googleAuthCode(googleAuthCode, redirectURI);\n\tif (googleAuthTokens.error) {\n\t\treturn res.redirect(redirectURI + '?error=' + googleAuthTokens.error);\n\t}\n\tres.cookie('access_token', googleAuthTokens.access_token, {\n\t\thttpOnly: true,\n\t\tmaxAge: 1000 * 60 * 60 * 24 * 7,\n\t\tsameSite: 'lax',\n\t\tsecure: true,\n\t});\n\tres.cookie('refresh_token', googleAuthTokens.refresh_token, {\n\t\thttpOnly: true,\n\t\tmaxAge: 1000 * 60 * 60 * 24 * 7,\n\t\tsameSite: 'lax',\n\t\tsecure: true,\n\t});\n\treturn res.redirect(redirectURI);\n}", "CodeBleu_score": 38.7609781540008}]}
{"instance_id": "52aa108e3521", "generation_result": [{"code": "const mousewheel = function(element, callback){\n\t\tif (element.addEventListener) {\n\t\telement.addEventListener(mousewheel.wheelEvent, function(event) {\n\t\t\tconst normalizedEvent = normalizeWheel(event);\n\t\t\tcallback(normalizedEvent);\n\t\t});\n\t} else {\n\t\telement.attachEvent('on' + mousewheel.wheelEvent, function(event) {\n\t\t\tconst normalizedEvent = normalizeWheel(event);\n\t\t\tcallback(normalizedEvent);\n\t\t});\n\t}\n}", "CodeBleu_score": 39.778395422844746}, {"code": "const mousewheel = function(element, callback){\n\t\tif (element.addEventListener) {\n\t\telement.addEventListener('DOMMouseScroll', function(event) {\n\t\t\tcallback(event, normalizeWheel(event));\n\t\t});\n\t} else {\n\t\telement.addEventListener('mousewheel', function(event) {\n\t\t\tcallback(event, normalizeWheel(event));\n\t\t});\n\t}\n}", "CodeBleu_score": 38.394257990446725}, {"code": "const mousewheel = function(element, callback){\n\t\tif (element.addEventListener) {\n\t\telement.addEventListener(\n\t\t\t'DOMMouseScroll',\n\t\t\tfunction(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcallback(event, normalizeWheel(event));\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\telement.addEventListener(\n\t\t\t'mousewheel',\n\t\t\tfunction(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcallback(event, normalizeWheel(event));\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t} else {\n\t\telement.attachEvent(\n\t\t\t'mousewheel',\n\t\t\tfunction(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcallback(event, normalizeWheel(event));\n\t\t\t}\n\t\t);\n\t}\n}", "CodeBleu_score": 35.44159282328807}]}
{"instance_id": "bb9e14122636", "generation_result": [{"code": "let i18nHandler = function(){\n\t\tif (typeof this.$t !== 'function') {\n\t\tthrow new Error('The $t function is not defined. Make sure to use the VueI18n plugin.');\n\t}\n\tif (typeof this.locale !== 'string') {\n\t\tthrow new Error('The locale property is not defined. Make sure to use the VueI18n plugin.');\n\t}\n\tif (!this._i18n) {\n\t\tthis._i18n = {};\n\t}\n\tif (!this._i18n.merged) {\n\t\tthis._i18n.merged = true;\n\t\tthis._i18n.locale = this.locale;\n\t\tthis._i18n.fallbackLocale = this.fallbackLocale;\n\t\tthis._i18n.messages = {};\n\t\tthis._i18n.messages[this.locale] = this.$t('messages');\n\t\tthis._i18n.messages[this.fallbackLocale] = this.$t('messages');\n\t}\n\treturn this.$t(...arguments);\n}", "CodeBleu_score": 27.24214628796598}, {"code": "let i18nHandler = function(){\n\t\tif (typeof this.$t === 'function' && typeof Vue.locale === 'function') {\n\t\tif (!this.merged) {\n\t\t\tthis.merged = true;\n\t\t\tlet currentLocale = Vue.locale();\n\t\t\tlet currentLocaleData = currentLocale.messages;\n\t\t\tlet providedLocaleData = this.localeData;\n\t\t\tfor (let key in providedLocaleData) {\n\t\t\t\tif (providedLocaleData.hasOwnProperty(key)) {\n\t\t\t\t\tcurrentLocaleData[key] = providedLocaleData[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\tVue.locale(currentLocale.name, currentLocale);\n\t\t}\n\t\treturn this.$t(...arguments);\n\t}\n}", "CodeBleu_score": 29.264549234632796}, {"code": "let i18nHandler = function(){\n\t\tif (typeof this.$t === 'function' && typeof this.locale === 'object') {\n\t\tif (!this.locale.merged) {\n\t\t\tthis.locale.merged = true;\n\t\t\tthis.locale.data = Object.assign(this.locale.data, this.locale.language);\n\t\t}\n\t\treturn this.$t(...arguments);\n\t}\n}", "CodeBleu_score": 27.170140937356948}]}
{"instance_id": "b0608b85127a", "generation_result": [{"code": "function broadcast(componentName, eventName, params){\n\t\tvar fn = typeof componentName === 'string'\n\t\t? function (child) {\n\t\t\treturn child.$options.componentName === componentName;\n\t\t}\n\t\t: componentName;\n\n\tthis.$children.filter(fn).forEach(child => {\n\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t});\n}", "CodeBleu_score": 39.966216942911736}, {"code": "function broadcast(componentName, eventName, params){\n\t\tvar i = this.$children.length;\n\twhile (i--) {\n\t\tvar child = this.$children[i];\n\t\tvar name = child.$options.componentName;\n\n\t\tif (name === componentName) {\n\t\t\tchild.$emit.apply(child, [eventName].concat(params));\n\t\t} else {\n\t\t\tbroadcast.apply(child, [componentName, eventName].concat([params]));\n\t\t}\n\t}\n}", "CodeBleu_score": 71.08343915204203}, {"code": "function broadcast(componentName, eventName, params){\n\t\tif (typeof componentName !== 'string') {\n\t\tthrow new Error('componentName should be a string');\n\t}\n\n\tif (typeof eventName !== 'string') {\n\t\tthrow new Error('eventName should be a string');\n\t}\n\n\tif (typeof params !== 'object') {\n\t\tthrow new Error('params should be an object');\n\t}\n\n\tbroadcast.apply(this, [componentName, eventName].concat([params]));\n}", "CodeBleu_score": 24.071054676693514}]}
{"instance_id": "da57b9dc5023", "generation_result": [{"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tif (aria.Utils.isHTMLElement(element)) {\n\t\tvar child = element.firstChild;\n\t\twhile (child) {\n\t\t\tif (aria.Utils.isHTMLElement(child) && aria.Utils.isFocusable(child)) {\n\t\t\t\treturn child.focus();\n\t\t\t}\n\t\t\telse if (aria.Utils.isHTMLElement(child) && aria.Utils.focusFirstDescendant(child)) {\n\t\t\t\treturn child.focus();\n\t\t\t}\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 32.642347839975685}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tvar childNodes = element.childNodes;\n\tvar length = childNodes.length;\n\tvar i = 0;\n\tfor (i = 0; i < length; i++) {\n\t\tvar child = childNodes[i];\n\t\tif (aria.Utils.isFocusable(child)) {\n\t\t\taria.Utils.focus(child);\n\t\t\treturn true;\n\t\t}\n\t\tif (aria.Utils.focusFirstDescendant(child)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 47.05647787185335}, {"code": "aria.Utils.focusFirstDescendant = function(element){\n\t\tif (element.nodeType == 1) {\n\t\tvar childNodes = element.childNodes;\n\t\tfor (var i = 0, len = childNodes.length; i < len; i++) {\n\t\t\tvar child = childNodes[i];\n\t\t\tif (aria.Utils.isFocusable(child)) {\n\t\t\t\tchild.focus();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (aria.Utils.focusFirstDescendant(child)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}", "CodeBleu_score": 46.56252896752661}]}
{"instance_id": "a029702e104d", "generation_result": [{"code": "highlight(index){\n\tif (!this.suggestionVisible || this.loading) { return; }\nif (index < 0) {\nthis.highlightedIndex = -1;\nreturn;\n}\nif (index >= this.suggestions.length) {\nindex = this.suggestions.length - 1;\n}\nconst suggestion = this.$refs.suggestions.$el.querySelector('.el-autocomplete-suggestion__wrap');\nconst suggestionList = suggestion.querySelectorAll('.el-autocomplete-suggestion__list li');\n\nlet highlightItem = suggestionList[index];\nlet scrollTop = suggestion.scrollTop;\nlet offsetTop = highlightItem.offsetTop;\n\nif (offsetTop + highlightItem.scrollHeight > (scrollTop + suggestion.clientHeight)) {\nsuggestion.scrollTop += highlightItem.scrollHeight;\n}\nif (offsetTop < scrollTop) {\nsuggestion.scrollTop -= highlightItem.scrollHeight;\n}\nthis.highlightedIndex = index;\nlet $input = this.getInput();\n$input.setAttribute('aria-activedescendant', `${this.id}-item-${this.highlightedIndex}`);\n}", "CodeBleu_score": 96.80378386156268}, {"code": "highlight(index){\n\tif (!this.suggestionVisible || this.loading) { return; }\nif (index < 0) {\nthis.highlightedIndex = -1;\nreturn;\n}\nif (index >= this.suggestions.length) {\nindex = this.suggestions.length - 1;\n}\nconst suggestion = this.$refs.suggestions.$el.querySelector('.el-autocomplete-suggestion__wrap');\nconst suggestionList = suggestion.querySelectorAll('.el-autocomplete-suggestion__list li');\n\nlet highlightItem = suggestionList[index];\nlet scrollTop = suggestion.scrollTop;\nlet offsetTop = highlightItem.offsetTop;\n\nif (offsetTop + highlightItem.scrollHeight > (scrollTop + suggestion.clientHeight)) {\nsuggestion.scrollTop += highlightItem.scrollHeight;\n}\nif (offsetTop < scrollTop) {\nsuggestion.scrollTop -= highlightItem.scrollHeight;\n}\nthis.highlightedIndex = index;\nlet $input = this.getInput();\n$input.setAttribute('aria-activedescendant', `${this.id}-item-${this.highlightedIndex}`);\n}", "CodeBleu_score": 96.80378386156268}, {"code": "highlight(index){\n\tif (!this.suggestionVisible || this.loading) { return; }\nif (index < 0) {\nthis.highlightedIndex = -1;\nreturn;\n}\nif (index >= this.suggestions.length) {\nindex = this.suggestions.length - 1;\n}\nconst suggestion = this.$refs.suggestions.$el.querySelector('.el-autocomplete-suggestion__wrap');\nconst suggestionList = suggestion.querySelectorAll('.el-autocomplete-suggestion__list li');\n\nlet highlightItem = suggestionList[index];\nlet scrollTop = suggestion.scrollTop;\nlet offsetTop = highlightItem.offsetTop;\n\nif (offsetTop + highlightItem.scrollHeight > (scrollTop + suggestion.clientHeight)) {\nsuggestion.scrollTop += highlightItem.scrollHeight;\n}\nif (offsetTop < scrollTop) {\nsuggestion.scrollTop -= highlightItem.scrollHeight;\n}\nthis.highlightedIndex = index;\nlet $input = this.getInput();\n$input.setAttribute('aria-activedescendant', `${this.id}-item-${this.highlightedIndex}`);\n}", "CodeBleu_score": 96.80378386156268}]}
{"instance_id": "2db32f7ad18f", "generation_result": [{"code": "translateItem(index, activeIndex, oldIndex){\n\t\n}", "CodeBleu_score": 2.1251853858818373}, {"code": "translateItem(index, activeIndex, oldIndex){\n\t\n}", "CodeBleu_score": 2.1251853858818373}, {"code": "translateItem(index, activeIndex, oldIndex){\n\t\n}", "CodeBleu_score": 2.1251853858818373}]}
{"instance_id": "49b9aa91f62e", "generation_result": [{"code": "handleButtonEnter(arrow){\n\tif (this.direction === 'vertical') return;\nthis.items.forEach((item, index) => {\nif (arrow === this.itemInStage(item, index)) {\nitem.hover = true;\n}\n});\n}", "CodeBleu_score": 92.69496033212667}, {"code": "handleButtonEnter(arrow){\n\tif (this.direction === 'vertical') return;\nthis.items.forEach((item, index) => {\n  if (arrow === this.itemInStage(item, index)) {\n    item.hover = true;\n  }\n});\n}", "CodeBleu_score": 94.5420370923119}, {"code": "handleButtonEnter(arrow){\n\tif (this.direction === 'vertical') return;\nthis.items.forEach((item, index) => {\nif (arrow === this.itemInStage(item, index)) {\nitem.hover = true;\n}\n});\n}", "CodeBleu_score": 92.69496033212667}]}
{"instance_id": "85cdf6991b1f", "generation_result": [{"code": "scrollIntoView(){\n\tif (this.$isServer) return;\n\nconst menus = this.$refs.menu || [];\nmenus.forEach(menu => {\nconst menuElement = menu.$el;\nif (menuElement) {\nconst container = menuElement.querySelector('.el-scrollbar__wrap');\nconst activeNode = menuElement.querySelector('.el-cascader-node.is-active') ||\nmenuElement.querySelector('.el-cascader-node.in-active-path');\nscrollIntoView(container, activeNode);\n}\n});\n}", "CodeBleu_score": 94.52563824381996}, {"code": "scrollIntoView(){\n\tif (this.$isServer) return;\n\nconst menus = this.$refs.menu || [];\nmenus.forEach(menu => {\nconst menuElement = menu.$el;\nif (menuElement) {\nconst container = menuElement.querySelector('.el-scrollbar__wrap');\nconst activeNode = menuElement.querySelector('.el-cascader-node.is-active') ||\nmenuElement.querySelector('.el-cascader-node.in-active-path');\nscrollIntoView(container, activeNode);\n}\n});\n}", "CodeBleu_score": 94.52563824381996}, {"code": "scrollIntoView(){\n\tif (this.$isServer) return;\n\nconst menus = this.$refs.menu || [];\nmenus.forEach(menu => {\nconst menuElement = menu.$el;\nif (menuElement) {\nconst container = menuElement.querySelector('.el-scrollbar__wrap');\nconst activeNode = menuElement.querySelector('.el-cascader-node.is-active') ||\nmenuElement.querySelector('.el-cascader-node.in-active-path');\nscrollIntoView(container, activeNode);\n}\n});\n}", "CodeBleu_score": 94.52563824381996}]}
{"instance_id": "fc6784c79aa5", "generation_result": [{"code": "const rgb2hsv = function(r, g, b){\n\t\tvar max = Math.max(r, g, b);\n\tvar min = Math.min(r, g, b);\n\tvar h, s, v = max;\n\tvar d = max - min;\n\ts = max == 0 ? 0 : d / max;\n\tif (max == min) {\n\t\th = 0; // achromatic\n\t} else {\n\t\tswitch (max) {\n\t\t\tcase r: h = (g - b) / d + (g < b ? 6 : 0); break;\n\t\t\tcase g: h = (b - r) / d + 2; break;\n\t\t\tcase b: h = (r - g) / d + 4; break;\n\t\t}\n\t\th /= 6;\n\t}\n\treturn [h * 360, s * 100, v * 100];\n}", "CodeBleu_score": 55.57257102481231}, {"code": "const rgb2hsv = function(r, g, b){\n\t\t// Normalize RGB values to a range of 0 to 1\n\tr = r / 255;\n\tg = g / 255;\n\tb = b / 255;\n\n\t// Find the maximum and minimum values for R, G, and B\n\tvar max = Math.max(r, g, b);\n\tvar min = Math.min(r, g, b);\n\n\t// Calculate the value\n\tvar v = max;\n\n\t// Calculate the saturation\n\tvar s = (max === 0) ? 0 : 1 - min / max;\n\n\t// Calculate the hue\n\tvar h = 0;\n\tif (max === min) {\n\t\th = 0;\n\t} else {\n\t\tswitch (max) {\n\t\t\tcase r: h = (g - b) / (max - min); break;\n\t\t\tcase g: h = 2 + (b - r) / (max - min); break;\n\t\t\tcase b: h = 4 + (r - g) / (max - min); break;\n\t\t}\n\t\th = h * 60;\n\t\tif (h < 0) {\n\t\t\th = h + 360;\n\t\t}\n\t}\n\n\t// Multiply the hue by 360 and the saturation and value by 100\n\treturn [h * 360, s * 100, v * 100];\n}", "CodeBleu_score": 39.6421780174044}, {"code": "const rgb2hsv = function(r, g, b){\n\t\tr /= 255;\n\tg /= 255;\n\tb /= 255;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst v = max;\n\tconst d = max - min;\n\tlet s = max === 0 ? 0 : d / max;\n\tlet h = 0;\n\tif (max === min) {\n\t\th = 0; // achromatic\n\t} else {\n\t\tswitch (max) {\n\t\t\tcase r:\n\t\t\t\th = (g - b) / d + (g < b ? 6 : 0);\n\t\t\t\tbreak;\n\t\t\tcase g:\n\t\t\t\th = (b - r) / d + 2;\n\t\t\t\tbreak;\n\t\t\tcase b:\n\t\t\t\th = (r - g) / d + 4;\n\t\t\t\tbreak;\n\t\t}\n\t\th /= 6;\n\t}\n\treturn [h * 360, s * 100, v * 100];\n}", "CodeBleu_score": 60.13582473480166}]}
{"instance_id": "37b868b6a5cc", "generation_result": [{"code": "handleDrag(event){\n\tconst rect = this.$el.getBoundingClientRect();\nconst { thumb } = this.$refs;\n\nif (!this.vertical) {\nlet left = event.clientX - rect.left;\nleft = Math.max(thumb.offsetWidth / 2, left);\nleft = Math.min(left, rect.width - thumb.offsetWidth / 2);\n\nthis.color.set('alpha', Math.round((left - thumb.offsetWidth / 2) / (rect.width - thumb.offsetWidth) * 100));\n} else {\nlet top = event.clientY - rect.top;\ntop = Math.max(thumb.offsetHeight / 2, top);\ntop = Math.min(top, rect.height - thumb.offsetHeight / 2);\n\nthis.color.set('alpha', Math.round((top - thumb.offsetHeight / 2) / (rect.height - thumb.offsetHeight) * 100));\n}\n}", "CodeBleu_score": 96.77470009203581}, {"code": "handleDrag(event){\n\tconst rect = this.$el.getBoundingClientRect();\nconst { thumb } = this.$refs;\n\nif (!this.vertical) {\nlet left = event.clientX - rect.left;\nleft = Math.max(thumb.offsetWidth / 2, left);\nleft = Math.min(left, rect.width - thumb.offsetWidth / 2);\n\nthis.color.set('alpha', Math.round((left - thumb.offsetWidth / 2) / (rect.width - thumb.offsetWidth) * 100));\n} else {\nlet top = event.clientY - rect.top;\ntop = Math.max(thumb.offsetHeight / 2, top);\ntop = Math.min(top, rect.height - thumb.offsetHeight / 2);\n\nthis.color.set('alpha', Math.round((top - thumb.offsetHeight / 2) / (rect.height - thumb.offsetHeight) * 100));\n}\n}", "CodeBleu_score": 96.77470009203581}, {"code": "handleDrag(event){\n\tconst rect = this.$el.getBoundingClientRect();\nconst { thumb } = this.$refs;\n\nif (!this.vertical) {\nlet left = event.clientX - rect.left;\nleft = Math.max(thumb.offsetWidth / 2, left);\nleft = Math.min(left, rect.width - thumb.offsetWidth / 2);\n\nthis.color.set('alpha', Math.round((left - thumb.offsetWidth / 2) / (rect.width - thumb.offsetWidth) * 100));\n} else {\nlet top = event.clientY - rect.top;\ntop = Math.max(thumb.offsetHeight / 2, top);\ntop = Math.min(top, rect.height - thumb.offsetHeight / 2);\n\nthis.color.set('alpha', Math.round((top - thumb.offsetHeight / 2) / (rect.height - thumb.offsetHeight) * 100));\n}\n}", "CodeBleu_score": 96.77470009203581}]}
{"instance_id": "a3b2c61b5a1e", "generation_result": [{"code": "displayValue(){\n\tconst formattedValue = formatAsFormatAndType(this.parsedValue, this.format, this.type, this.rangeSeparator);\nif (Array.isArray(this.userInput)) {\n  return [\n    this.userInput[0] || (formattedValue && formattedValue[0]) || '',\n    this.userInput[1] || (formattedValue && formattedValue[1]) || ''\n  ];\n} else if (this.userInput !== null) {\n  return this.userInput;\n} else if (formattedValue) {\n  return (this.type === 'dates' || this.type === 'years' || this.type === 'months')\n    ? formattedValue.join(', ')\n    : formattedValue;\n} else {\n  return '';\n}\n}", "CodeBleu_score": 97.14653303561612}, {"code": "displayValue(){\n\tconst formattedValue = formatAsFormatAndType(this.parsedValue, this.format, this.type, this.rangeSeparator);\nif (Array.isArray(this.userInput)) {\nreturn [\nthis.userInput[0] || (formattedValue && formattedValue[0]) || '',\nthis.userInput[1] || (formattedValue && formattedValue[1]) || ''\n];\n} else if (this.userInput !== null) {\nreturn this.userInput;\n} else if (formattedValue) {\nreturn (this.type === 'dates' || this.type === 'years' || this.type === 'months')\n? formattedValue.join(', ')\n: formattedValue;\n} else {\nreturn '';\n}\n}", "CodeBleu_score": 95.43412737492655}, {"code": "displayValue(){\n\tconst formattedValue = formatAsFormatAndType(this.parsedValue, this.format, this.type, this.rangeSeparator);\nif (Array.isArray(this.userInput)) {\nreturn [\nthis.userInput[0] || (formattedValue && formattedValue[0]) || '',\nthis.userInput[1] || (formattedValue && formattedValue[1]) || ''\n];\n} else if (this.userInput !== null) {\nreturn this.userInput;\n} else if (formattedValue) {\nreturn (this.type === 'dates' || this.type === 'years' || this.type === 'months')\n? formattedValue.join(', ')\n: formattedValue;\n} else {\nreturn '';\n}\n}", "CodeBleu_score": 95.43412737492655}]}
{"instance_id": "305dba2399e1", "generation_result": [{"code": "handleStartChange(event){\n\t", "CodeBleu_score": 2.404214819413247}, {"code": "handleStartChange(event){\n\t", "CodeBleu_score": 2.404214819413247}, {"code": "handleStartChange(event){\n\t\n/**\n * The value of this.userInput is an array of two values.\n * The first value is the start value, the second value is the end value.\n */\n  const value = this.parseString(this.userInput && this.userInput[0]);\n\n/**\n * If the value is not null, it means that the user has entered a valid value.\n */\n  if (value) {\n\n/**\n * The userInput array is updated with the formatted start value and the existing end display value.\n */\n    this.userInput = [this.formatToString(value), this.displayValue[1]];\n\n/**\n * The new picker value is set with the parsed start value and the existing end value.\n */\n    const newValue = [value, this.picker.value && this.picker.value[1]];\n    this.picker.value = newValue;\n\n/**\n * If the new value is valid, it emits the input event with the new value and resets the userInput to null.\n */\n    if (this.isValidValue(newValue)) {\n      this.emitInput(newValue);\n      this.userInput = null;\n    }\n  }\n}", "CodeBleu_score": 98.21339435668904}]}
{"instance_id": "0f76d5fb83b3", "generation_result": [{"code": "bindScrollEvent(){\n\t\tthis.bindFunction = function(element, event) {\n\t\telement.wrap.onscroll = function(e) {\n\t\t\tthis.handleScroll(element.type, e);\n\t\t}.bind(this);\n\t}.bind(this);\n}", "CodeBleu_score": 15.525627535552774}, {"code": "bindScrollEvent(){\n\t\tconst bindFunction = (element, type) => {\n\t\telement.wrap.addEventListener(type, (event) => {\n\t\t\tthis.handleScroll(type, event);\n\t\t});\n\t};\n\tbindFunction(this.hours, \"scroll\");\n\tbindFunction(this.minutes, \"scroll\");\n\tbindFunction(this.seconds, \"scroll\");\n}", "CodeBleu_score": 46.780813121182916}, {"code": "bindScrollEvent(){\n\t\tconst bindFunction = (element, scrollEvent) => {\n\t\telement.wrap.onscroll = () => {\n\t\t\tthis.handleScroll(element.type, scrollEvent);\n\t\t}\n\t}\n\tbindFunction(this.hours, \"hours\");\n\tbindFunction(this.minutes, \"minutes\");\n\tbindFunction(this.seconds, \"seconds\");\n}", "CodeBleu_score": 38.36804212176947}]}
{"instance_id": "fe8ad366d911", "generation_result": [{"code": "scrollDown(step){\n\t\tif (this.activeScrollbar === 'hours') {\n\t\tlet index = this.hours.indexOf(this.selectedHour);\n\t\tlet nextIndex = index + step;\n\t\tif (nextIndex < 0) {\n\t\t\tnextIndex = this.hours.length - 1;\n\t\t}\n\t\telse if (nextIndex >= this.hours.length) {\n\t\t\tnextIndex = 0;\n\t\t}\n\t\twhile (this.hours[nextIndex] in this.disabledHours) {\n\t\t\tnextIndex += step;\n\t\t\tif (nextIndex < 0) {\n\t\t\t\tnextIndex = this.hours.length - 1;\n\t\t\t}\n\t\t\telse if (nextIndex >= this.hours.length) {\n\t\t\t\tnextIndex = 0;\n\t\t\t}\n\t\t}\n\t\tthis.selectedHour = this.hours[nextIndex];\n\t}\n\telse if (this.activeScrollbar === 'minutes') {\n\t\tthis.selectedMinute += step;\n\t\tif (this.selectedMinute < 0) {\n\t\t\tthis.selectedMinute = 59;\n\t\t}\n\t\telse if (this.selectedMinute > 59) {\n\t\t\tthis.selectedMinute = 0;\n\t\t}\n\t}\n\telse {\n\t\tthis.selectedHour = this.hours[0];\n\t\tthis.selectedMinute = 0;\n\t}\n\tthis.updateDate();\n\tthis.updateSpinner();\n\tthis.emit('select-range', {scrollbar: this.activeScrollbar});\n}", "CodeBleu_score": 20.223198713995053}, {"code": "scrollDown(step){\n\t\tif (this.scrollbar === 'hours') {\n\t\tconst value = this.hours.indexOf(this.hours[this.hours.indexOf(this.currentHour) + step])\n\t\tif (value < 0) {\n\t\t\treturn\n\t\t}\n\t\tthis.currentHour = this.hours[value]\n\t} else if (this.scrollbar === 'minutes') {\n\t\tthis.currentMinute = (this.currentMinute + step) % 60\n\t} else if (this.scrollbar === 'seconds') {\n\t\tthis.currentSecond = (this.currentSecond + step) % 60\n\t} else if (this.scrollbar === 'milliseconds') {\n\t\tthis.currentMillisecond = (this.currentMillisecond + step) % 1000\n\t}\n\tthis.updateDateField()\n\tthis.updateSpinner()\n\tthis.emit('selectrange', {scrollbar: this.scrollbar})\n}", "CodeBleu_score": 22.34593766153662}, {"code": "scrollDown(step){\n\t", "CodeBleu_score": 0.8155207385164377}]}
{"instance_id": "9b22163fdfde", "generation_result": [{"code": "imgStyle(){\n\t\tconst {\n\t\tscale,\n\t\trotation,\n\t\toffsetX,\n\t\toffsetY,\n\t\tmode,\n\t\ttransition,\n\t} = this.props;\n\tconst style = {\n\t\ttransform: [\n\t\t\t{\n\t\t\t\tscale: [scale, scale],\n\t\t\t},\n\t\t\t{\n\t\t\t\trotate: rotation + 'deg',\n\t\t\t},\n\t\t],\n\t};\n\tif (transition) {\n\t\tstyle.transition = 'transform ' + transition + 'ms ease-out';\n\t}\n\tif (mode === 'CONTAIN') {\n\t\tstyle.maxWidth = 100;\n\t\tstyle.maxHeight = 100;\n\t}\n\tif (offsetX || offsetY) {\n\t\tstyle.transform.push({\n\t\t\ttranslateX: offsetX,\n\t\t});\n\t\tstyle.transform.push({\n\t\t\ttranslateY: offsetY,\n\t\t});\n\t}\n\treturn style;\n}", "CodeBleu_score": 37.349172445326296}, {"code": "imgStyle(){\n\t\tconst {\n\t\tscale,\n\t\trotation,\n\t\toffsetX,\n\t\toffsetY,\n\t\tmode,\n\t\ttransition,\n\t} = this.state;\n\tconst style = {\n\t\ttransform: `translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg) scale(${scale})`,\n\t};\n\tif (mode === 'CONTAIN') {\n\t\tstyle.maxWidth = '100%';\n\t\tstyle.maxHeight = '100%';\n\t}\n\tif (transition) {\n\t\tstyle.transition = 'all 0.25s ease-out';\n\t}\n\treturn style;\n}", "CodeBleu_score": 47.81701485516546}, {"code": "imgStyle(){\n\t\tconst {\n\t\tscale,\n\t\trotation,\n\t\toffsetX,\n\t\toffsetY,\n\t\tmode,\n\t\ttransition,\n\t\tmaxWidth,\n\t\tmaxHeight,\n\t} = this.state;\n\tconst style = {\n\t\ttransform: `scale(${scale}) rotate(${rotation}deg)`,\n\t\ttransition: transition ? 'transform 0.3s ease-in-out' : 'none',\n\t\tposition: 'absolute',\n\t\tleft: `${offsetX}%`,\n\t\ttop: `${offsetY}%`,\n\t};\n\tif (mode === 'CONTAIN') {\n\t\tstyle.maxWidth = '100%';\n\t\tstyle.maxHeight = '100%';\n\t} else {\n\t\tstyle.maxWidth = `${maxWidth}%`;\n\t\tstyle.maxHeight = `${maxHeight}%`;\n\t}\n\treturn style;\n}", "CodeBleu_score": 51.63168782425739}]}
{"instance_id": "3bf2230ab870", "generation_result": [{"code": "addLazyLoadListener(){\n\tif (this.$isServer) return;\n\nconst { scrollContainer } = this;\nlet _scrollContainer = null;\n\nif (isHtmlElement(scrollContainer)) {\n  _scrollContainer = scrollContainer;\n} else if (isString(scrollContainer)) {\n  _scrollContainer = document.querySelector(scrollContainer);\n} else {\n  _scrollContainer = getScrollContainer(this.$el);\n}\n\nif (_scrollContainer) {\n  this._scrollContainer = _scrollContainer;\n  this._lazyLoadHandler = throttle(200, this.handleLazyLoad);\n  on(_scrollContainer, 'scroll', this._lazyLoadHandler);\n  this.handleLazyLoad();\n}\n}", "CodeBleu_score": 96.57967642280845}, {"code": "addLazyLoadListener(){\n\tif (this.$isServer) return;\n\nconst { scrollContainer } = this;\nlet _scrollContainer = null;\n\nif (isHtmlElement(scrollContainer)) {\n  _scrollContainer = scrollContainer;\n} else if (isString(scrollContainer)) {\n  _scrollContainer = document.querySelector(scrollContainer);\n} else {\n  _scrollContainer = getScrollContainer(this.$el);\n}\n\nif (_scrollContainer) {\n  this._scrollContainer = _scrollContainer;\n  this._lazyLoadHandler = throttle(200, this.handleLazyLoad);\n  on(_scrollContainer, 'scroll', this._lazyLoadHandler);\n  this.handleLazyLoad();\n}\n}", "CodeBleu_score": 96.57967642280845}, {"code": "addLazyLoadListener(){\n\tif (this.$isServer) return;\nconst { scrollContainer } = this;\nlet _scrollContainer = null;\nif (isHtmlElement(scrollContainer)) {\n_scrollContainer = scrollContainer;\n} else if (isString(scrollContainer)) {\n_scrollContainer = document.querySelector(scrollContainer);\n} else {\n_scrollContainer = getScrollContainer(this.$el);\n}\nif (_scrollContainer) {\nthis._scrollContainer = _scrollContainer;\nthis._lazyLoadHandler = throttle(200, this.handleLazyLoad);\non(_scrollContainer, 'scroll', this._lazyLoadHandler);\nthis.handleLazyLoad();\n}\n}", "CodeBleu_score": 95.55389491319805}]}
{"instance_id": "7180fba29076", "generation_result": [{"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\tconst error = result.error;\n\nif (error && error instanceof TRPCClientError) {\nconst newError = new TRPCClientError(error.message, error.data);\nnewError.stack = error.stack;\n\nreturn {\n...result,\nerror: newError,\n};\n}\n\nreturn result;\n}", "CodeBleu_score": 37.092737571197645}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\t\tif (result.error instanceof TRPCClientError) {\n\t\treturn {\n\t\t\t...result,\n\t\t\terror: new TRPCClientError(result.error.message, result.error.data),\n\t\t}\n\t}\n\treturn result\n}", "CodeBleu_score": 19.07116758204232}, {"code": "function transformQueryOrMutationCacheErrors<\n  TState extends\n    | DehydratedState['mutations'][0]\n    | DehydratedState['queries'][0],\n>(result: TState): TState {\n\tif (isTRPCClientError(result.error)) {\n    return {\n        ...result,\n        error: new TRPCClientError(result.error.message, result.error.data),\n    };\n}\nreturn result;\n}", "CodeBleu_score": 22.36135066050112}]}
{"instance_id": "b0ff12e8aa0d", "generation_result": [{"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\t\tconst ctx = appOrPageCtx as AppContextType\n\tconst pageProps = await (ctx.Component.getInitialProps ? ctx.Component.getInitialProps(ctx) : {})\n\tconst trpcOptions = getTRPCOptions(ctx)\n\n\tconst trpcClient = createTRPCClient(trpcOptions)\n\tconst trpcQueryClient = createTRPCQueryClient(trpcClient, trpcOptions)\n\n\tconst trpcContext = createTRPCContext(ctx, trpcClient, trpcQueryClient)\n\n\tconst trpcState = createTRPCState(trpcContext, trpcOptions)\n\n\treturn {\n\t\t...pageProps,\n\t\ttrpcState,\n\t}\n}", "CodeBleu_score": 26.748112823745533}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\t\tconst { ctx, Component } = appOrPageCtx;\n\tconst trpcCtx = getTrpcCtx(ctx);\n\tconst trpcClient = trpcCtx.client;\n\tconst initialProps = await Component.getInitialProps?.(appOrPageCtx);\n\tconst pageProps = {\n\t\t...initialProps,\n\t\ttrpcClient,\n\t\ttrpcCtx,\n\t};\n\treturn pageProps;\n}", "CodeBleu_score": 20.18425912609544}, {"code": "WithTRPC.getInitialProps = async (appOrPageCtx: AppContextType) => {\n\t\tconst appCtx = appOrPageCtx as AppContextType\n\tconst pageCtx = appOrPageCtx as PageContextType\n\tconst { Component, ctx, router, apolloClient } = appCtx\n\tconst { Component, ctx, apolloClient, query } = pageCtx\n\n\t// If the component doesn't have a getInitialProps we don't have to do anything\n\tif (Component.getInitialProps) {\n\t\tconst componentInitialProps = await Component.getInitialProps(appCtx)\n\t\tconst pageInitialProps = await getPageInitialProps(appCtx, pageCtx)\n\t\treturn { ...componentInitialProps, ...pageInitialProps }\n\t}\n\n\treturn getPageInitialProps(appCtx, pageCtx)\n}", "CodeBleu_score": 22.134903547165724}]}
{"instance_id": "b46c87572278", "generation_result": [{"code": "export function formDataToObject(formData: FormData){\n\t\tconst obj: any = {};\n\tformData.forEach((value, key) => {\n\t\tconst parts = key.split(/[\\.\\[\\]]/).filter(Boolean);\n\t\tconst last = parts.pop();\n\t\tlet parent = obj;\n\t\tfor (const part of parts) {\n\t\t\tif (!parent[part]) {\n\t\t\t\tparent[part] = {};\n\t\t\t}\n\t\t\tparent = parent[part];\n\t\t}\n\t\tparent[last] = value;\n\t});\n\treturn obj;\n}", "CodeBleu_score": 54.09842996290289}, {"code": "export function formDataToObject(formData: FormData){\n\t\tconst obj: any = {};\n\tfor (const entry of formData.entries()) {\n\t\tlet { 0: key, 1: value } = entry;\n\t\tconst keys = key.split(/[\\.\\[\\]]/).filter(Boolean);\n\t\tconst lastKey = keys.pop();\n\t\tlet parent = obj;\n\t\tfor (const key of keys) {\n\t\t\tif (!parent[key]) parent[key] = {};\n\t\t\tparent = parent[key];\n\t\t}\n\t\tparent[lastKey] = value;\n\t}\n\treturn obj;\n}", "CodeBleu_score": 46.893184083548}, {"code": "export function formDataToObject(formData: FormData){\n\t\tconst result = {};\n\tformData.forEach((value, key) => {\n\t\tconst keyParts = key.split(/[\\.\\[\\]]/).filter(Boolean);\n\t\tconst lastKeyPart = keyParts.pop();\n\t\tlet obj = result;\n\t\tfor (const keyPart of keyParts) {\n\t\t\tif (!(keyPart in obj)) {\n\t\t\t\tobj[keyPart] = {};\n\t\t\t}\n\t\t\tobj = obj[keyPart];\n\t\t}\n\t\tobj[lastKeyPart] = value;\n\t});\n\treturn result;\n}", "CodeBleu_score": 45.27365534929316}]}
{"instance_id": "b63467546c58", "generation_result": [{"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst revalidateTag = req.json.cacheTag;\n\tif (typeof revalidateTag !== \"string\") {\n\t\treturn {\n\t\t\tstatus: 400,\n\t\t\tbody: {\n\t\t\t\tmessage: \"revalidateTag must be a string\",\n\t\t\t},\n\t\t};\n\t}\n\tconst result = await revalidateTag(revalidateTag);\n\treturn {\n\t\tstatus: 200,\n\t\tbody: {\n\t\t\tmessage: \"Tag revalidated\",\n\t\t\ttimestamp: result.timestamp,\n\t\t},\n\t};\n}", "CodeBleu_score": 33.6637630478777}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst body = req.json;\n\tif (typeof body.cacheTag !== 'string') {\n\t\treturn {\n\t\t\tstatus: 400,\n\t\t\tbody: {\n\t\t\t\tmessage: 'The cacheTag must be a string.',\n\t\t\t},\n\t\t};\n\t}\n\tconst cacheTag = body.cacheTag;\n\tconst timestamp = await revalidateTag(cacheTag);\n\treturn {\n\t\tstatus: 200,\n\t\tbody: {\n\t\t\tmessage: 'Success!',\n\t\t\ttimestamp,\n\t\t},\n\t};\n}", "CodeBleu_score": 32.104748962297286}, {"code": "export async function experimental_revalidateEndpoint(req: Request){\n\t\tconst { cacheTag } = await req.json();\n\tif (typeof cacheTag !== \"string\") {\n\t\treturn new Response(\"Invalid cacheTag\", { status: 400 });\n\t}\n\tawait revalidateTag(cacheTag);\n\treturn new Response(\n\t\tJSON.stringify({\n\t\t\tsuccess: true,\n\t\t\ttimestamp: Date.now(),\n\t\t}),\n\t\t{\n\t\t\tstatus: 200,\n\t\t}\n\t);\n}", "CodeBleu_score": 67.16454466611938}]}
{"instance_id": "4cc5d9754d1f", "generation_result": [{"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t\treturn createRecursiveProxy<TRouter, typeof opts>(opts)\n}", "CodeBleu_score": 2.503839555138155}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t\treturn <T extends TRouter>(client: TRPCClient<TRouter>, opts: UseOptions<TRouter, T>) => {\n\t\treturn createRecursiveProxy<T>(opts, (opts, path) => {\n\t\t\treturn client.query(path, opts.input);\n\t\t});\n\t};\n}", "CodeBleu_score": 26.258898561478976}, {"code": "export function createUseProxy<TRouter extends AnyRouter>{\n\t\treturn (client: TRPCClient<TRouter>, opts: UseProxyOptions<TRouter>) => {\n\t\tconst path = opts.path.join(\"/\")\n\t\treturn createRecursiveProxy(\n\t\t\t(key) => {\n\t\t\t\tconst newOpts = {\n\t\t\t\t\t...opts,\n\t\t\t\t\tpath: opts.path.concat(key),\n\t\t\t\t}\n\t\t\t\treturn createUseProxy(client, newOpts)\n\t\t\t},\n\t\t\t(args) => client.query(path, args),\n\t\t)\n\t}\n}", "CodeBleu_score": 47.46729577540394}]}
{"instance_id": "ec07b15792dd", "generation_result": [{"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t\tconst [open, setOpen] = React.useState(false);\n\tconst accordionPrimitive = React.useRef(null);\n\tconst buttonRef = React.useRef(null);\n\tconst panelRef = React.useRef(null);\n\n\tconst handleClick = (event: React.MouseEvent) => {\n\t\tevent.preventDefault();\n\t\tsetOpen(!open);\n\t};\n\n\tconst handleFocus = (event: React.FocusEvent) => {\n\t\tevent.preventDefault();\n\t\taccordionPrimitive.current.focus();\n\t};\n\n\treturn (\n\t\t<AccordionPrimitive.Root\n\t\t\t{...accordionPrimitive}\n\t\t\tas={Box}\n\t\t\tref={accordionPrimitive}\n\t\t\tindex={0}\n\t\t\torientation=\"vertical\"\n\t\t\tspacing=\"none\"\n\t\t>\n\t\t\t<AccordionPrimitive.Trigger\n\t\t\t\tas={Box}\n\t\t\t\t{...buttonRef}\n\t\t\t\t{...getButtonProps({\n\t\t\t\t\tonClick: handleClick,\n\t\t\t\t\tonFocus: handleFocus,\n\t\t\t\t\topen,\n\t\t\t\t\tname,\n\t\t\t\t\tchild,\n\t\t\t\t})}\n\t\t\t\tpadding=\"lg\"\n\t\t\t\tdisplay=\"flex\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\tflexDirection=\"row\"\n\t\t\t\t_focus={{\n\t\t\t\t\toutline: 'none',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text as=\"h3\" variant=\"accordion\" flex=\"1 1 auto\" padding=\"0\">\n\t\t\t\t\t{name}\n\t\t\t\t</Text>\n\t\t\t\t<AccordionPrimitive.Icon\n\t\t\t\t\tas={Icon}\n\t\t\t\t\tname={open ? 'chevron-up' : 'chevron-down'}\n\t\t\t\t\tsize={20}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\ttransition: 'transform 250ms',\n\t\t\t\t\t\ttransform: open ? 'rotate(180deg)' : 'none',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</AccordionPrimitive.Trigger>\n\t\t\t<AccordionPrimitive.Content\n\t\t\t\tas={Box}\n\t\t\t\t{...panelRef}\n\t\t\t\t{...getPanelProps({\n\t\t\t\t\topen,\n\t\t\t\t\tname,\n\t\t\t\t\tchild,\n\t\t\t\t})}\n\t\t\t\tpadding=\"lg\"\n\t\t\t/>\n\t\t</AccordionPrimitive.Root>\n\t);\n}", "CodeBleu_score": 29.290403006481657}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t\tconst [open, setOpen] = React.useState(false);\n\n\tconst handleClick = () => {\n\t\tsetOpen((prevOpen) => !prevOpen);\n\t};\n\n\treturn (\n\t\t<AccordionPrimitive.Root\n\t\t\t{...getRootProps({ 'data-accordion-state': open ? 'open' : 'closed' })}\n\t\t\toverrides={{\n\t\t\t\tRoot: {\n\t\t\t\t\tstyle: ({ $theme }) => ({\n\t\t\t\t\t\tborderBottom: `1px solid ${$theme.colors.border}`,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t\tContent: {\n\t\t\t\t\tstyle: ({ $theme }) => ({\n\t\t\t\t\t\tborderBottom: `1px solid ${$theme.colors.border}`,\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<AccordionPrimitive.Trigger as={Button} onClick={handleClick} overrides={{ BaseButton: { style: { width: '100%' } } }}>\n\t\t\t\t<span>{name}</span>\n\t\t\t\t<AccordionPrimitive.Icon\n\t\t\t\t\toverrides={{\n\t\t\t\t\t\tRoot: {\n\t\t\t\t\t\t\tstyle: ({ $theme }) => ({\n\t\t\t\t\t\t\t\tcolor: $theme.colors.contentPrimary,\n\t\t\t\t\t\t\t\ttransform: open ? 'rotate(90deg)' : 'none',\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</AccordionPrimitive.Trigger>\n\t\t\t<AccordionPrimitive.Content>\n\t\t\t\t<Box padding={3}>{child}</Box>\n\t\t\t</AccordionPrimitive.Content>\n\t\t</AccordionPrimitive.Root>\n\t);\n}", "CodeBleu_score": 37.835305180934476}, {"code": "const Accordion = ({ child, name }: AccordionProps) =>{\n\t", "CodeBleu_score": 2.071423708333484}]}
{"instance_id": "728fa96ca3cf", "generation_result": [{"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\tconst [isMenuOpen, setIsMenuOpen] = React.useState(false);\n\tconst menuButtonId = React.useRef(`menu-button-${Math.random()}`);\n\n\tconst menuButton = (\n\t\t<MenuButton\n\t\t\tid={menuButtonId.current}\n\t\t\ticon={icon}\n\t\t\tname={name}\n\t\t\tchevron={chevron}\n\t\t\tisOpen={isMenuOpen}\n\t\t\tbuttonPosition={buttonPosition}\n\t\t\tonClick={handleClick}\n\t\t/>\n\t);\n\n\tconst menuItems = (\n\t\t<MenuItems\n\t\t\titems={items}\n\t\t\tisOpen={isMenuOpen}\n\t\t\tbuttonPosition={buttonPosition}\n\t\t\tmenuButtonId={menuButtonId.current}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{menuButton}\n\t\t\t{menuItems}\n\t\t</>\n\t);\n}", "CodeBleu_score": 25.488580781973713}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\tconst menuItems = items.map((item, index) => (\n\t\t<MenuItem key={index} {...item} />\n\t));\n\n\treturn (\n\t\t<MenuPrimitive\n\t\t\t{...menuItems}\n\t\t\tmenuButton={\n\t\t\t\t<MenuButton\n\t\t\t\t\ticon={icon}\n\t\t\t\t\tname={name}\n\t\t\t\t\tchevron={chevron}\n\t\t\t\t\tbuttonPosition={buttonPosition}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}", "CodeBleu_score": 18.704528775402277}, {"code": "function Menu({ icon, name, items, chevron, buttonPosition = \"top\" }: MenuProps){\n\t\tconst [isOpen, setIsOpen] = React.useState(false);\n\n\tconst toggle = () => setIsOpen((prev) => !prev);\n\n\treturn (\n\t\t<MenuPrimitive.Root\n\t\t\tonOpenChange={setIsOpen}\n\t\t\ttrigger={(props) => (\n\t\t\t\t<MenuPrimitive.Trigger asChild>\n\t\t\t\t\t<MenuButton\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tchevron={chevron}\n\t\t\t\t\t\tisOpen={isOpen}\n\t\t\t\t\t\ttoggle={toggle}\n\t\t\t\t\t\tbuttonPosition={buttonPosition}\n\t\t\t\t\t/>\n\t\t\t\t</MenuPrimitive.Trigger>\n\t\t\t)}\n\t\t\tplacement=\"bottom-start\"\n\t\t\toffset={5}\n\t\t\tunstable_flip={false}\n\t\t\tunstable_preventOverflow={false}\n\t\t>\n\t\t\t<MenuPrimitive.Content\n\t\t\t\twidth=\"full\"\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t\tboxShadow: \"0px 1px 3px rgba(0, 0, 0, 0.1), 0px 1px 2px rgba(0, 0, 0, 0.06)\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{items.map((item, index) => (\n\t\t\t\t\t<MenuItem key={index} {...item} />\n\t\t\t\t))}\n\t\t\t</MenuPrimitive.Content>\n\t\t</MenuPrimitive.Root>\n\t);\n}", "CodeBleu_score": 21.511476676532283}]}
{"instance_id": "a2733fb19224", "generation_result": [{"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\tconst element = event.currentTarget\n\tconst scrollTop = element.scrollTop\n\tconst scrollHeight = element.scrollHeight\n\tconst clientHeight = element.clientHeight\n\tconst scrolledToBottom = Math.ceil(scrollTop + clientHeight) >= scrollHeight\n\tsetHasUserScrolled(scrolledToBottom)\n}", "CodeBleu_score": 36.19094686730523}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\tconst { scrollTop, scrollHeight, clientHeight } = event.currentTarget;\n\tconst hasUserScrolledUp = scrollTop > 10;\n\tconst hasUserScrolledDown = scrollHeight - (scrollTop + clientHeight) < 10;\n\tif (hasUserScrolledUp) {\n\t\tsetUserScrolledUp(true);\n\t} else if (hasUserScrolledDown) {\n\t\tsetUserScrolledUp(false);\n\t}\n}", "CodeBleu_score": 49.82491117640735}, {"code": "const handleScroll = (event: React.UIEvent<HTMLDivElement>) => {\n\t\tconst { scrollTop, scrollHeight, clientHeight } = event.target as HTMLDivElement;\n\tconst hasUserScrolled = scrollTop + clientHeight === scrollHeight;\n\tsetHasUserScrolled(hasUserScrolled);\n}", "CodeBleu_score": 57.897287635685856}]}
{"instance_id": "128baf9be3e8", "generation_result": [{"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current && scrollRef.current.scrollTo) {\n\t\tscrollRef.current.scrollTo({\n\t\t\ttop: scrollRef.current.scrollHeight,\n\t\t\tbehavior: behaviour,\n\t\t})\n\t}\n}", "CodeBleu_score": 58.481616394371386}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current && scrollRef.current.scrollTo) {\n\t\tscrollRef.current.scrollTo({\n\t\t\ttop: scrollRef.current.scrollHeight,\n\t\t\tbehavior: behaviour\n\t\t})\n\t}\n}", "CodeBleu_score": 54.464349644748175}, {"code": "const handleScrollToBottom = (behaviour: \"instant\" | \"smooth\") =>{\n\t\tif (scrollRef.current && scrollRef.current.scrollTo) {\n\t\tscrollRef.current.scrollTo({\n\t\t\ttop: scrollRef.current.scrollHeight,\n\t\t\tbehavior: behaviour,\n\t\t});\n\t}\n}", "CodeBleu_score": 63.473685143279}]}
{"instance_id": "070c4b1ac0b5", "generation_result": [{"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (element) {\n\t\tconst config = {\n\t\t\tscale: 1,\n\t\t\tstyle: {\n\t\t\t\ttransform: 'scale(1)',\n\t\t\t\ttransformOrigin: 'top left',\n\t\t\t},\n\t\t};\n\t\thtmlToImage.toJpeg(element, config).then((dataUrl) => {\n\t\t\tconst link = document.createElement('a');\n\t\t\tlink.download = 'agent-gpt-output.png';\n\t\t\tlink.href = dataUrl;\n\t\t\tlink.click();\n\t\t});\n\t} else {\n\t\talert('Could not find the specified element');\n\t}\n}", "CodeBleu_score": 45.85359186903097}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId)\n\tif (!element) {\n\t\talert('Couldn\\'t find element with id: \\\"' + elementId + '\\\"')\n\t\treturn\n\t}\n\tconst config = {\n\t\tscale: 2,\n\t\tstyle: {\n\t\t\ttransform: 'scale(2)',\n\t\t\tmargin: '0px',\n\t\t\tpadding: '0px'\n\t\t}\n\t}\n\thtml2canvas(element, config).then(canvas => {\n\t\tcanvas.toBlob(blob => {\n\t\t\tFileSaver.saveAs(blob, 'agent-gpt-output.png')\n\t\t})\n\t})\n}", "CodeBleu_score": 33.5471015034005}, {"code": "const saveElementAsImage = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (element) {\n\t\thtml2canvas(element).then((canvas) => {\n\t\t\tconst imgData = canvas.toDataURL('image/png');\n\t\t\tconst img = document.createElement('img');\n\t\t\timg.src = imgData;\n\t\t\timg.download = 'agent-gpt-output.png';\n\t\t\timg.click();\n\t\t});\n\t} else {\n\t\talert('The element with the specified ID could not be found.');\n\t}\n}", "CodeBleu_score": 37.604532161486}]}
{"instance_id": "346ea48343da", "generation_result": [{"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (!element) {\n\t\treturn;\n\t}\n\tconst text = element.innerText;\n\tif (!text) {\n\t\treturn;\n\t}\n\tif (navigator.clipboard) {\n\t\tnavigator.clipboard.writeText(text);\n\t} else {\n\t\tconst textArea = document.createElement(\"textarea\");\n\t\ttextArea.value = text;\n\t\ttextArea.style.position = \"fixed\";\n\t\ttextArea.style.top = \"0\";\n\t\ttextArea.style.left = \"0\";\n\t\ttextArea.style.width = \"2em\";\n\t\ttextArea.style.height = \"2em\";\n\t\ttextArea.style.padding = \"0\";\n\t\ttextArea.style.border = \"none\";\n\t\ttextArea.style.outline = \"none\";\n\t\ttextArea.style.boxShadow = \"none\";\n\t\ttextArea.style.background = \"transparent\";\n\t\tdocument.body.appendChild(textArea);\n\t\ttextArea.focus();\n\t\ttextArea.select();\n\t\ttry {\n\t\t\tdocument.execCommand(\"copy\");\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Copy to clipboard failed.\", err);\n\t\t}\n\t\tdocument.body.removeChild(textArea);\n\t}\n}", "CodeBleu_score": 66.52528965900494}, {"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tconst text = element.innerText;\n\tif (navigator.clipboard) {\n\t\tnavigator.clipboard.writeText(text).then(() => {\n\t\t\tconsole.log('Text copied to clipboard');\n\t\t}, (err) => {\n\t\t\tconsole.error('Failed to copy text: ', err);\n\t\t});\n\t} else {\n\t\tconst textArea = document.createElement('textarea');\n\t\ttextArea.value = text;\n\t\ttextArea.style.position = 'fixed';\n\t\ttextArea.style.top = 0;\n\t\ttextArea.style.left = 0;\n\t\ttextArea.style.width = '2em';\n\t\ttextArea.style.height = '2em';\n\t\ttextArea.style.padding = 0;\n\t\ttextArea.style.border = 'none';\n\t\ttextArea.style.outline = 'none';\n\t\ttextArea.style.boxShadow = 'none';\n\t\ttextArea.style.background = 'transparent';\n\t\tdocument.body.appendChild(textArea);\n\t\ttextArea.focus();\n\t\ttextArea.select();\n\n\t\ttry {\n\t\t\tconst successful = document.execCommand('copy');\n\t\t\tconst msg = successful ? 'successful' : 'unsuccessful';\n\t\t\tconsole.log('Copying text command was ' + msg);\n\t\t} catch (err) {\n\t\t\tconsole.error('Oops, unable to copy', err);\n\t\t}\n\n\t\tdocument.body.removeChild(textArea);\n\t}\n}", "CodeBleu_score": 58.750718909976804}, {"code": "const copyElementText = (elementId: string) =>{\n\t\tconst element = document.getElementById(elementId);\n\tif (element === null) {\n\t\treturn;\n\t}\n\tconst text = element.innerText;\n\tconst textArea = document.createElement('textarea');\n\ttextArea.value = text;\n\tdocument.body.appendChild(textArea);\n\ttextArea.focus();\n\ttextArea.select();\n\ttry {\n\t\tconst successful = document.execCommand('copy');\n\t\tconst msg = successful ? 'successful' : 'unsuccessful';\n\t\tconsole.log('Copying text command was ' + msg);\n\t} catch (err) {\n\t\tconsole.log('Oops, unable to copy');\n\t}\n\tdocument.body.removeChild(textArea);\n}", "CodeBleu_score": 56.05071122275442}]}
{"instance_id": "25f193a0eddf", "generation_result": [{"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tconst language = className.replace(/language-/, '')\nconst shouldHighlight = language !== ''\nreturn (\n<code className={className} style={{ display: inline ? 'inline' : 'block', fontFamily: '\"SFMono-Regular\",Consolas,\"Liberation Mono\",Menlo,Courier,monospace', fontSize: 13, lineHeight: '19px', background: '#f7f7f7', color: '#333', padding: '2px 4px', borderRadius: 3, whiteSpace: 'pre' }}>\n{shouldHighlight ? highlight(children, language, true) : children}\n</code>\n)\n}", "CodeBleu_score": 33.58758845168042}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\t\tconst matches = className.match(languageRegex);\n\tconst language = inline ? 'inline' : (matches ? matches[1] : 'text');\n\treturn (\n\t\t<Highlight\n\t\t\t{...defaultProps}\n\t\t\tcode={children.trim()}\n\t\t\tlanguage={language}\n\t\t>\n\t\t\t{({ className, style, tokens, getLineProps, getTokenProps }) => (\n\t\t\t\t<pre className={className} style={style}>\n\t\t\t\t\t{tokens.map((line, i) => (\n\t\t\t\t\t\t<div key={i} {...getLineProps({ line, key: i })}>\n\t\t\t\t\t\t\t{line.map((token, key) => (\n\t\t\t\t\t\t\t\t<span key={key} {...getTokenProps({ token, key })} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</pre>\n\t\t\t)}\n\t\t</Highlight>\n\t);\n}", "CodeBleu_score": 19.31420879887521}, {"code": "const CustomCodeBlock = ({ inline, className, children }: CustomCodeBlockProps) => {\n\tconst language = className ? className.replace('language-', '') : '';\nreturn (\n<Highlight className={className} language={language} inline={inline}>\n{children}\n</Highlight>\n);\n}", "CodeBleu_score": 39.31667746219524}]}
{"instance_id": "7ba7dfdc0ab6", "generation_result": [{"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\tif (typeof node === 'string') {\nreturn node;\n}\nif (Array.isArray(node)) {\nreturn node.map(extractTextFromNode).join('');\n}\nif (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n}\nreturn '';\n}", "CodeBleu_score": 83.62257320731206}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\tif (typeof node === 'string') {\nreturn node;\n}\n\nif (Array.isArray(node)) {\nreturn node.map(extractTextFromNode).join('');\n}\n\nif (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n}\n\nreturn '';\n}", "CodeBleu_score": 83.62257320731206}, {"code": "const extractTextFromNode = (node: React.ReactNode): string =>{\n\tif (typeof node === 'string') {\nreturn node;\n} else if (Array.isArray(node)) {\nreturn node.map(extractTextFromNode).join('');\n} else if (React.isValidElement(node)) {\nreturn extractTextFromNode(node.props.children);\n} else {\nreturn '';\n}\n}", "CodeBleu_score": 76.01756618779311}]}
{"instance_id": "a67cb8d31dde", "generation_result": [{"code": "const Summarize = () =>{\n\t\tconst {\n\t\tagent,\n\t\tconversation,\n\t\tsummary,\n\t\tsetSummary,\n\t\tsetSummarized,\n\t} = useAssistant();\n\n\tconst completedTasks = conversation?.completedTasks;\n\tconst lifecycle = conversation?.lifecycle;\n\tconst available = agent?.available;\n\n\tconst canSummarize =\n\t\tcompletedTasks?.length > 0 &&\n\t\tlifecycle === \"stopped\" &&\n\t\tavailable &&\n\t\t!summary?.summarized;\n\n\treturn (\n\t\t<div>\n\t\t\t{canSummarize && (\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Summarize</h3>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tAre you sure you want to summarize the conversation?\n\t\t\t\t\t</p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\tsetSummary({\n\t\t\t\t\t\t\t\t...summary,\n\t\t\t\t\t\t\t\tsummarized: true,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsetSummarized(true);\n\t\t\t\t\t\t\tawait agent?.summarize();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tSummarize\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 30.456838132227944}, {"code": "const Summarize = () =>{\n\t const { agent, conversation, lifecycle, summary } = useConversation();\n const [summarize, setSummarize] = React.useState(false);\n const [summarized, setSummarized] = React.useState(false);\n\n if (\n !agent ||\n lifecycle !== Lifecycle.STOPPED ||\n !conversation.tasks ||\n !conversation.tasks.every((task) => task.status === TaskStatus.COMPLETED) ||\n summary\n ) {\n return null;\n }\n\n return (\n <div>\n <div>\n <p>\n Would you like to summarize the conversation?\n </p>\n </div>\n <div>\n <Button\n onClick={() => {\n setSummarize(true);\n }}\n >\n Summarize\n </Button>\n </div>\n </div>\n );\n }", "CodeBleu_score": 27.517926688754912}, {"code": "const Summarize = () =>{\n\t", "CodeBleu_score": 0.479603776613743}]}
{"instance_id": "983031b20224", "generation_result": [{"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider\n\t\t\tfrontendApi={process.env.NEXT_PUBLIC_CLERK_FRONTEND_API}\n\t\t\t// @ts-ignore\n\t\t\t// eslint-disable-next-line camelcase\n\t\t\tid_token={window.__NEXT_DATA__.props.pageProps.id_token}\n\t\t\t// @ts-ignore\n\t\t\t// eslint-disable-next-line camelcase\n\t\t\tsession={window.__NEXT_DATA__.props.pageProps.session}\n\t\t\t// @ts-ignore\n\t\t\t// eslint-disable-next-line camelcase\n\t\t\tuserId={window.__NEXT_DATA__.props.pageProps.user.id}\n\t\t>\n\t\t\t<TRPCReactProvider\n\t\t\t\ttrpcOptions={{\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tcreateClient: () => createTRPCClient({ url: process.env.NEXT_PUBLIC_API_URL }),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DashboardLayoutWrapper>{children}</DashboardLayoutWrapper>\n\t\t\t</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 40.497754641204}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider\n\t\t\tfeatures={{\n\t\t\t\t// TODO: Replace this with your own feature flags\n\t\t\t\t// 'my-feature': true\n\t\t\t}}\n\t\t\tappearance={{\n\t\t\t\t// TODO: Replace this with your own colors\n\t\t\t\t// primaryColor: '#123456',\n\t\t\t\t// secondaryColor: '#654321',\n\t\t\t}}\n\t\t\tstyles={{\n\t\t\t\t// TODO: Replace this with your own styles\n\t\t\t\t// Button: {\n\t\t\t\t// \troot: {\n\t\t\t\t// \t\tbackgroundColor: 'red',\n\t\t\t\t// \t},\n\t\t\t\t// },\n\t\t\t}}\n\t\t>\n\t\t\t<TRPCReactProvider client={client}>\n\t\t\t\t<DashboardLayoutContent>{children}</DashboardLayoutContent>\n\t\t\t</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 17.288922277776088}, {"code": "export default function DashboardLayout({ children }: PropsWithChildren){\n\t\treturn (\n\t\t<ClerkProvider\n\t\t\tfrontendApi={frontendApi}\n\t\t\ttheme={{\n\t\t\t\tcolors: {\n\t\t\t\t\tprimary: '#303030',\n\t\t\t\t\tbackground: '#151515',\n\t\t\t\t\tsurface: '#151515',\n\t\t\t\t\tonSurface: '#FFFFFF',\n\t\t\t\t\tonBackground: '#FFFFFF',\n\t\t\t\t},\n\t\t\t\tcomponents: {\n\t\t\t\t\tButton: {\n\t\t\t\t\t\tvariants: {\n\t\t\t\t\t\t\tprimary: {\n\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976D2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tCheckbox: {\n\t\t\t\t\t\tvariants: {\n\t\t\t\t\t\t\tprimary: {\n\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#1976D2',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<TRPCReactProvider client={trpcClient}>\n\t\t\t\t<Layout>\n\t\t\t\t\t<Layout.Header style={{ padding: 0 }}>\n\t\t\t\t\t\t<Header />\n\t\t\t\t\t</Layout.Header>\n\t\t\t\t\t<Layout.Content style={{ padding: 0, margin: 0 }}>{children}</Layout.Content>\n\t\t\t\t\t<Layout.Footer style={{ padding: 0 }}>\n\t\t\t\t\t\t<Footer />\n\t\t\t\t\t</Layout.Footer>\n\t\t\t\t</Layout>\n\t\t\t</TRPCReactProvider>\n\t\t</ClerkProvider>\n\t);\n}", "CodeBleu_score": 44.52559600385132}]}
{"instance_id": "0ba912ee94c7", "generation_result": [{"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst { pathname } = useLocation();\n\treturn (\n\t\t<Link to={href} className={pathname === href ? 'active' : ''}>\n\t\t\t<Button variant=\"ghost\" size=\"small\" className=\"active-button\">\n\t\t\t\t<Icon icon={icon} />\n\t\t\t\t<span className=\"label\">{label}</span>\n\t\t\t</Button>\n\t\t</Link>\n\t);\n}", "CodeBleu_score": 39.91291148788444}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst { pathname } = useLocation();\n\tconst isActive = pathname === href;\n\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"ghost\"\n\t\t\tclassName={cx(\n\t\t\t\tisActive && styles.active,\n\t\t\t\tstyles.button,\n\t\t\t\tstyles.link,\n\t\t\t\tstyles.icon,\n\t\t\t)}\n\t\t\thref={href}\n\t\t>\n\t\t\t<Icon icon={icon} />\n\t\t\t<span className={styles.label}>{label}</span>\n\t\t</Button>\n\t);\n}", "CodeBleu_score": 45.52840480879476}, {"code": "export function ActiveButton({ href, label, icon }: Props){\n\t\tconst { pathname } = useLocation();\n\tconst active = pathname === href;\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"ghost\"\n\t\t\thref={href}\n\t\t\tcss={(theme) => ({\n\t\t\t\tcolor: active ? theme.color.brand.primary : theme.color.content.normal,\n\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\tpadding: 0,\n\t\t\t\tborderRadius: 0,\n\t\t\t\t'&:hover': {\n\t\t\t\t\tbackgroundColor: 'transparent',\n\t\t\t\t},\n\t\t\t})}\n\t\t>\n\t\t\t<Flex css={(theme) => ({ alignItems: 'center' })}>\n\t\t\t\t<Icon\n\t\t\t\t\tname={icon}\n\t\t\t\t\tsize={20}\n\t\t\t\t\tcss={(theme) => ({\n\t\t\t\t\t\tcolor: active ? theme.color.brand.primary : theme.color.content.normal,\n\t\t\t\t\t\tmarginRight: theme.space[2],\n\t\t\t\t\t})}\n\t\t\t\t/>\n\t\t\t\t<Flex direction=\"column\" css={(theme) => ({ width: 0 })}>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tsize=\"xsmall\"\n\t\t\t\t\t\tcss={(theme) => ({\n\t\t\t\t\t\t\tcolor: active ? theme.color.brand.primary : theme.color.content.normal,\n\t\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t</Button>\n\t);\n}", "CodeBleu_score": 37.46817253716582}]}
{"instance_id": "1fd5b7fdcc9b", "generation_result": [{"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t\tconst [theme, setTheme] = useState(createMuiTheme(themeOptions));\n\tconst prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n\n\tconst toggleTheme = () => {\n\t\tconst newTheme = prefersDarkMode ? lightTheme : darkTheme;\n\t\tsetTheme(newTheme);\n\t};\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<Helmet>\n\t\t\t\t<html lang=\"en\" />\n\t\t\t</Helmet>\n\t\t\t<CssBaseline />\n\t\t\t<Toaster />\n\t\t\t<Analytics />\n\t\t\t<SpeedInsights />\n\t\t\t<Header toggleTheme={toggleTheme} />\n\t\t\t<main className=\"content\">\n\t\t\t\t{children}\n\t\t\t</main>\n\t\t</ThemeProvider>\n\t);\n}", "CodeBleu_score": 23.038594955281987}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t", "CodeBleu_score": 2.1504693527306387}, {"code": "export default function RootLayout({ children }: PropsWithChildren) {\n\t\treturn (\n\t\t<div className=\"root\">\n\t\t\t<Helmet>\n\t\t\t\t<html lang=\"en\" />\n\t\t\t</Helmet>\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<Toaster />\n\t\t\t\t<Analytics />\n\t\t\t\t<SpeedInsights />\n\t\t\t\t{children}\n\t\t\t</ThemeProvider>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 23.87807513338431}]}
{"instance_id": "390ef9405b57", "generation_result": [{"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\tconst classes = twMerge(\n\t\t\"button\",\n\t\tintent && `button-${intent}`,\n\t\tsize && `button-${size}`,\n\t\tunderline && `button-underline`,\n\t\tclassName\n\t);\n\n\treturn <a className={classes} {...props} />;\n}", "CodeBleu_score": 15.546431972929703}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\tconst classes = twMerge(\n\t\t\"button\",\n\t\tintent && `button-${intent}`,\n\t\tsize && `button-${size}`,\n\t\tunderline && `button-underline`,\n\t\tclassName,\n\t);\n\n\treturn <a className={classes} {...props} />;\n}", "CodeBleu_score": 15.62690968570328}, {"code": "export function Button({ className, intent, size, underline, ...props }: ButtonProps){\n\t\tconst classes = twMerge(\n\t\t\"button\",\n\t\tintent && `button-${intent}`,\n\t\tsize && `button-${size}`,\n\t\tunderline && `button-underline`,\n\t\tclassName,\n\t);\n\n\treturn <a className={classes} {...props} />;\n}", "CodeBleu_score": 15.62690968570328}]}
{"instance_id": "aa655671cb7e", "generation_result": [{"code": "export function middleware(request: NextRequest){\n\t\tconst host = request.headers.get(\"host\")\n\tif (host?.includes(\"next-enterprise.vercel.app\")) {\n\t\treturn Response.redirect(\n\t\t\t\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\",\n\t\t\t301\n\t\t)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 29.639567407470018}, {"code": "export function middleware(request: NextRequest){\n\t\tconst host = request.headers.get(\"host\")\n\tif (host?.includes(\"next-enterprise.vercel.app\")) {\n\t\treturn Response.redirect(\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\", 301)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 30.77227470678973}, {"code": "export function middleware(request: NextRequest){\n\t\tif (request.headers.get(\"host\")?.includes(\"next-enterprise.vercel.app\")) {\n\t\treturn Response.redirect(\"https://blazity.com/open-source/nextjs-enterprise-boilerplate\", 301)\n\t}\n\treturn NextResponse.next()\n}", "CodeBleu_score": 32.95039512238246}]}
{"instance_id": "b33fa69187fb", "generation_result": [{"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (app.router) {\n\t\treturn app.router;\n\t}\n\tapp.router = new Router({\n\t\tcaseSensitive: app.get('case sensitive routing'),\n\t\tstrict: app.enabled('strict routing')\n\t});\n\tapp.use(app.router);\n\tapp.use(query());\n\treturn app.router;\n}", "CodeBleu_score": 22.3851926743393}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (app.router) {\n\t\treturn app.router;\n\t}\n\n\tapp.router = new Router({\n\t\tcaseSensitive: app.get('case sensitive routing'),\n\t\tstrict: app.get('strict routing')\n\t});\n\n\tapp.use(app.router);\n\n\tapp.use(query());\n\tapp.use(init());\n\n\treturn app.router;\n}", "CodeBleu_score": 22.346861901019395}, {"code": "app.lazyrouter = function lazyrouter(){\n\t\tif (app.router) {\n\t\treturn;\n\t}\n\tapp.router = new Router({\n\t\tcaseSensitive: app.config.caseSensitive,\n\t\tstrict: app.config.strict,\n\t\tqueryParser: app.config.queryParser,\n\t});\n\tapp.use(app.router.routes());\n\tapp.use(app.router.allowedMethods());\n}", "CodeBleu_score": 15.467908124598468}]}
{"instance_id": "7aadf79801c0", "generation_result": [{"code": "function createApplication(){\n\t\tfunction app(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t}\n\tmixin(app, EventEmitter.prototype);\n\tmixin(app, proto);\n\tapp.init();\n\treturn app;\n}", "CodeBleu_score": 21.926642489811154}, {"code": "function createApplication(){\n\t\tfunction app(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t}\n\n\tmixin(app, EventEmitter.prototype, false);\n\tmixin(app, proto, false);\n\tapp.init();\n\treturn app;\n}", "CodeBleu_score": 28.549475017469682}, {"code": "function createApplication(){\n\t\tfunction app(req, res, next) {\n\t\tapp.handle(req, res, next);\n\t}\n\tmixin(app, EventEmitter.prototype);\n\tmixin(app, proto);\n\tapp.init();\n\treturn app;\n}", "CodeBleu_score": 21.926642489811154}]}
{"instance_id": "2b4af4a14e81", "generation_result": [{"code": "res.sendFile = function sendFile(path, options, callback) {\n\t\tif (typeof options === 'function') {\n\t\tcallback = options;\n\t\toptions = null;\n\t}\n\n\toptions = options || {};\n\toptions.root = options.root || null;\n\n\tif (typeof path !== 'string') {\n\t\tthrow new TypeError('path must be a string');\n\t}\n\n\tif (path.length === 0) {\n\t\tthrow new TypeError('path must not be empty');\n\t}\n\n\tif (typeof callback !== 'function') {\n\t\tcallback = null;\n\t}\n\n\tvar done = false;\n\tvar file;\n\n\t// create file stream\n\ttry {\n\t\tfile = send(path, options);\n\t} catch (err) {\n\t\tif (done) return;\n\t\tdone = true;\n\t\tif (callback) return callback(err);\n\t\treturn next(err);\n\t}\n\n\t// transfer\n\tsendfile(this, file, options, function (err) {\n\t\tif (done) return;\n\t\tdone = true;\n\n\t\t// clean up\n\t\tif (err && err.code === 'ECONNRESET' && file.destroy) {\n\t\t\tfile.destroy();\n\t\t}\n\n\t\t// invoke callback if applicable\n\t\tif (callback) return callback(err);\n\n\t\t// forward error to global error handler\n\t\tif (err) return next(err);\n\t});\n}", "CodeBleu_score": 43.03462178243679}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t\tvar done = callback;\n\tvar file;\n\n\t// support function as second arg\n\tif (typeof options === 'function') {\n\t\tdone = options;\n\t\toptions = {};\n\t}\n\n\t// set defaults\n\toptions = options || {};\n\n\t// normalize path\n\tpath = path.replace(/\\/$/, '');\n\n\t// create file stream\n\tfile = new FileStream(path, options);\n\n\t// transfer\n\tsendfile(this, file, options, done);\n}", "CodeBleu_score": 17.104154263219908}, {"code": "res.sendFile = function sendFile(path, options, callback) {\n\t\tvar done = callback;\n\tvar file;\n\n\t// support function as second arg\n\tif (!path) throw new TypeError('path argument is required to res.sendFile');\n\tif (typeof options === 'function') {\n\t\tdone = options;\n\t\toptions = {};\n\t}\n\n\t// support redirect argument\n\tif (typeof options === 'string') {\n\t\toptions = { redirect: options };\n\t}\n\n\t// set defaults\n\toptions = options || {};\n\toptions.maxAge = options.maxAge || '1d';\n\toptions.root = options.root || null;\n\toptions.headers = options.headers || {};\n\n\t// normalize path\n\tpath = resolve(path);\n\n\t// create file stream\n\tfile = send(path, options);\n\n\t// transfer\n\tsendfile(this, file, options, done);\n}", "CodeBleu_score": 30.89768582272815}]}
{"instance_id": "24ba2258749d", "generation_result": [{"code": "View.prototype.lookup = function lookup(name){\n\t", "CodeBleu_score": 1.9546548051441741}, {"code": "View.prototype.lookup = function lookup(name){\n\t\tvar root;\n\tvar path;\n\tvar directory;\n\tvar file;\n\n\tfor (var i = 0; i < this.roots.length; i++) {\n\t\troot = this.roots[i];\n\t\tpath = path_join(root, name);\n\t\tdirectory = path_dirname(path);\n\t\tfile = path_basename(path);\n\n\t\tif (fs_stat(directory)) {\n\t\t\tif (fs_stat(path)) {\n\t\t\t\treturn path;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}", "CodeBleu_score": 33.336038422664025}, {"code": "View.prototype.lookup = function lookup(name){\n\t\tvar root,\n\t\tpath,\n\t\tfile;\n\n\tfor (var i = 0; i < this.root.length; i++) {\n\t\troot = this.root[i];\n\t\tpath = resolve(root, name);\n\t\tfile = path.pop();\n\n\t\tif (file) {\n\t\t\treturn path.join(this.sep) + this.sep + file;\n\t\t}\n\t}\n}", "CodeBleu_score": 26.497928816404137}]}
{"instance_id": "4a3a45242878", "generation_result": [{"code": "module.exports = function query(options){\n\t\tvar opts = options || {};\n\tvar parser = opts.parser || qs.parse;\n\n\treturn function query(req, res, next) {\n\t\tif (req.query) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = {};\n\n\t\tif (!req.url || !req.url.length || req.method === 'HEAD') {\n\t\t\treturn next();\n\t\t}\n\n\t\tvar queryIndex = req.url.indexOf('?');\n\t\tif (queryIndex === -1) {\n\t\t\treturn next();\n\t\t}\n\n\t\treq.query = parser(req.url.slice(queryIndex + 1));\n\t\tnext();\n\t};\n}", "CodeBleu_score": 36.83159193826289}, {"code": "module.exports = function query(options){\n\t\tvar opts = options || {};\n\tvar parse = opts.parse || parseqs.parse;\n\n\treturn function query(req, res, next) {\n\t\tif (req.query) return next();\n\t\treq.query = {};\n\n\t\tif (!req.url || 2 !== req.url.split('?').length) return next();\n\t\treq.query = parse(qs.unescape(req.url.split('?')[1]));\n\n\t\tnext();\n\t};\n}", "CodeBleu_score": 31.86572510557332}, {"code": "module.exports = function query(options){\n\t\tif (typeof options === 'function') {\n\t\treturn function (req, res, next) {\n\t\t\toptions(req, res, next, parse(req));\n\t\t};\n\t}\n\n\tvar opts = options || {};\n\tvar parser = opts.parser || parse;\n\n\treturn function (req, res, next) {\n\t\treq.query = parser(req);\n\t\tnext();\n\t};\n}", "CodeBleu_score": 31.352489725273756}]}
{"instance_id": "786ae7051b03", "generation_result": [{"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\t", "CodeBleu_score": 4.261154266190155}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\t\tconst [theme, setTheme] = React.useState<Theme>(defaultTheme);\n\n\tconst onThemeChange = (newTheme: Theme) => {\n\t\tsetTheme(newTheme);\n\t};\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<DesignSystemProvider designSystem={designSystem} onThemeChange={onThemeChange}>\n\t\t\t\t<FrameworkProvider framework={framework} onThemeChange={onThemeChange}>\n\t\t\t\t\t<RoutingProvider basePath=\"activitypub\" modals={modals}>\n\t\t\t\t\t\t<DesignSystemApp>\n\t\t\t\t\t\t\t<Content />\n\t\t\t\t\t\t</DesignSystemApp>\n\t\t\t\t\t</RoutingProvider>\n\t\t\t\t</FrameworkProvider>\n\t\t\t</DesignSystemProvider>\n\t\t</ThemeProvider>\n\t);\n}", "CodeBleu_score": 49.11659814633326}, {"code": "const App: React.FC<AppProps> = ({framework, designSystem}) =>{\n\t\tconst [loading, setLoading] = React.useState(true);\n\tconst [error, setError] = React.useState(false);\n\tconst [errorInfo, setErrorInfo] = React.useState(null);\n\tconst [appError, setAppError] = React.useState(null);\n\tconst [appErrorInfo, setAppErrorInfo] = React.useState(null);\n\n\tconst handleError = (error: Error, errorInfo: React.ErrorInfo) => {\n\t\tsetError(true);\n\t\tsetErrorInfo(errorInfo);\n\t};\n\n\tconst handleAppError = (error: Error, errorInfo: React.ErrorInfo) => {\n\t\tsetAppError(error);\n\t\tsetAppErrorInfo(errorInfo);\n\t};\n\n\tReact.useEffect(() => {\n\t\tconst load = async () => {\n\t\t\ttry {\n\t\t\t\tawait framework.initialize();\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (e) {\n\t\t\t\thandleError(e, null);\n\t\t\t}\n\t\t};\n\t\tload();\n\t}, [framework]);\n\n\tif (error) {\n\t\treturn <ErrorBoundary FallbackComponent={ErrorFallback} onReset={handleError}>\n\t\t\t<ErrorBoundary FallbackComponent={ErrorFallback} onReset={handleAppError}>\n\t\t\t\t<ErrorDisplay error={error} errorInfo={errorInfo} />\n\t\t\t</ErrorBoundary>\n\t\t</ErrorBoundary>;\n\t}\n\n\tif (appError) {\n\t\treturn <ErrorBoundary FallbackComponent={ErrorFallback} onReset={handleAppError}>\n\t\t\t<ErrorDisplay error={appError} errorInfo={appErrorInfo} />\n\t\t</ErrorBoundary>;\n\t}\n\n\tif (loading) {\n\t\treturn <div className=\"loading\">\n\t\t\t<i className=\"fas fa-cog fa-spin fa-5x fa-fw\"></i>\n\t\t</div>;\n\t}\n\n\treturn <FrameworkProvider framework={framework}>\n\t\t<RoutingProvider base=\"activitypub\" modals={modals}>\n\t\t\t<DesignSystemApp designSystem={designSystem} className=\"main-content\">\n\t\t\t\t<Content />\n\t\t\t</DesignSystemApp>\n\t\t</RoutingProvider>\n\t</FrameworkProvider>;\n}", "CodeBleu_score": 40.110936396401286}]}
{"instance_id": "8100930f7ce7", "generation_result": [{"code": "const darkMode = () =>{\n\t\tconst colorScheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n\tif (colorScheme === 'light') return false;\n\tconst containerColor = getComputedStyle(el.parentElement).getPropertyValue('background-color');\n\tif (containerColor === 'rgba(0, 0, 0, 0)' || containerColor === 'transparent') return false;\n\tconst contrast = ((parseInt(containerColor.substring(containerColor.indexOf('(') + 1, containerColor.lastIndexOf(')')), 10) + 0.05) / 255) < 0.5;\n\treturn contrast;\n}", "CodeBleu_score": 34.0719273219802}, {"code": "const darkMode = () =>{\n\tif (colorScheme === 'light') {\nreturn false;\n} else if (colorScheme === 'dark') {\nreturn true;\n} else {\nconst containerColor = getComputedStyle(el.parentElement).getPropertyValue('background-color');\nconst contrast = ((parseInt(containerColor.substring(containerColor.indexOf('(') + 1, containerColor.lastIndexOf(')')).split(',')[0]) * 299) + (parseInt(containerColor.substring(containerColor.indexOf('(') + 1, containerColor.lastIndexOf(')')).split(',')[1]) * 587) + (parseInt(containerColor.substring(containerColor.indexOf('(') + 1, containerColor.lastIndexOf(')')).split(',')[2]) * 114)) / 1000;\nif (contrast < 5) {\nreturn true;\n} else {\nreturn false;\n}\n}\n}", "CodeBleu_score": 48.337915884231975}, {"code": "const darkMode = () =>{\n\tif (colorScheme === 'light') {\nreturn false;\n} else if (colorScheme === 'dark') {\nreturn true;\n} else {\nconst contrast = getContrastRatio(containerColor, 'white');\nreturn contrast < 5;\n}\n}", "CodeBleu_score": 18.1603679736776}]}
{"instance_id": "7da55fac8ceb", "generation_result": [{"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tif (title === null && !showCount) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<div className=\"content-title\">\n\t\t\t<h2>{title}</h2>\n\t\t\t{showCount && (\n\t\t\t\t<span className=\"content-title-count\">\n\t\t\t\t\t<span className=\"content-title-count-value\">\n\t\t\t\t\t\t{count}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"content-title-count-label\">\n\t\t\t\t\t\t{count === 1 ? 'result' : 'results'}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 25.248816588401713}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tif (title === null && !showCount) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"content-title\">\n\t\t\t<h2>{title}</h2>\n\t\t\t{showCount && <span className=\"content-title__count\">{count}</span>}\n\t\t</div>\n\t);\n}", "CodeBleu_score": 35.21762184342143}, {"code": "const ContentTitle: React.FC<ContentTitleProps> = ({title, showCount, count}) =>{\n\t\tif (title === null && !showCount) return null;\n\treturn (\n\t\t<div className=\"content-title\">\n\t\t\t<div className=\"content-title-text\">{title}</div>\n\t\t\t<div className=\"content-title-count\">{count}</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 29.57378043359965}]}
{"instance_id": "1d104e0b7fc7", "generation_result": [{"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if len(args) == 0:\n        raise ValueError(\"You must provide at least one queryset to union_queryset.\")\n    querysets = []\n    for queryset in args:\n        if isinstance(queryset, QuerySet):\n            querysets.append(queryset)\n        else:\n            raise ValueError(\"You must provide QuerySet objects to union_queryset.\")\n    if len(querysets) == 1:\n        return querysets[0]\n    if base_queryset is None:\n        base_queryset = querysets[0].model.objects\n    for queryset in querysets:\n        queryset = queryset.order_by()\n    union = querysets[0].union(*querysets[1:])\n    ids = union.values_list(\"id\", flat=True)\n    return base_queryset.filter(id__in=ids)\n\n", "CodeBleu_score": 47.93834558635319}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if len(args) == 0:\n        raise ValueError(\"You must provide at least one queryset.\")\n    if len(args) == 1:\n        return args[0]\n    querysets = []\n    for queryset in args:\n        if base_queryset is None:\n            querysets.append(queryset.order_by())\n        else:\n            querysets.append(queryset.order_by().filter(pk__in=base_queryset))\n    if base_queryset is None:\n        return querysets[0].union(*querysets[1:])\n    else:\n        return base_queryset.filter(pk__in=querysets[0].union(*querysets[1:]).values_list(\"pk\", flat=True))\n\n", "CodeBleu_score": 36.8997574995914}, {"code": "def union_queryset(*args, base_queryset=None)\n\t\n    if not args:\n        raise ValueError(\"At least one queryset must be provided.\")\n    if base_queryset is None:\n        base_queryset = args[0].model.objects\n    if len(args) == 1:\n        return args[0]\n    querysets = []\n    for queryset in args:\n        querysets.append(queryset.order_by())\n    queryset = querysets[0]\n    for i in range(1, len(querysets)):\n        queryset = queryset.union(querysets[i])\n    ids = queryset.values_list(\"pk\", flat=True)\n    return base_queryset.filter(pk__in=ids)\n\n", "CodeBleu_score": 49.010606419977606}]}
{"instance_id": "96fe55f8e114", "generation_result": [{"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if model is None:\n        model = self.__class__\n    if not isinstance(ids, list):\n        ids = [ids]\n    if not ids:\n        return\n    if not isinstance(action, str):\n        action = str(action)\n    if not action:\n        return\n    if not isinstance(detail, str):\n        detail = str(detail)\n    if not detail:\n        return\n    # temporarily override language\n    language = get_language()\n    activate('en')\n    # determine model name\n    model_name = model._meta.verbose_name\n    # determine resource type\n    resource_type = model._meta.verbose_name_plural\n    # create or update operation log\n    operation_log, created = OperationLog.objects.get_or_create(\n        action=action,\n        resource_type=resource_type,\n        detail=detail,\n        model=model_name,\n        **kwargs\n    )\n    # construct ActivityLog instances\n    activity_logs = []\n    for id in ids:\n        activity_logs.append(ActivityLog(\n            operation_log=operation_log,\n            resource_type=resource_type,\n            resource_id=id,\n            organization_id=operation_log.organization_id,\n            user_id=operation_log.user_id,\n            action=action,\n            detail=detail,\n            model=model_name,\n            **kwargs\n        ))\n    # bulk create ActivityLog instances\n    ActivityLog.objects.bulk_create(activity_logs)\n    # reactivate language\n    activate(language)\n\n", "CodeBleu_score": 42.053402516037615}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if not model:\n        model = self\n    if not isinstance(ids, list):\n        ids = [ids]\n    lang = get_language()\n    set_language(\"en\")\n    try:\n        for id in ids:\n            log_type = model._meta.verbose_name\n            if log_type == \"User\":\n                log_type = \"User Account\"\n            if log_type == \"Organization\":\n                log_type = \"Organization Profile\"\n            if log_type == \"Organization Membership\":\n                log_type = \"Organization Membership Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Application\":\n                log_type = \"Organization Application Request\"\n            if log_type == \"Organization Role\":\n                log_type = \"Organization Role Request\"\n            if log_type == \"Organization User\":\n                log_type = \"Organization User Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type == \"Organization Invitation\":\n                log_type = \"Organization Invitation Request\"\n            if log_type", "CodeBleu_score": 24.217287066254894}, {"code": "def record_logs(self, ids, action, detail, model=None, **kwargs)\n\t\n    if model is None:\n        model = self.__class__\n    if not isinstance(ids, (list, tuple)):\n        ids = [ids]\n    with override(settings.LANGUAGE_CODE):\n        if action == \"bulk_create\":\n            model_name = model._meta.verbose_name_plural.title()\n        else:\n            model_name = model._meta.verbose_name.title()\n        log_entry = OperationLog.objects.create(\n            action=action,\n            detail=detail,\n            model=model_name,\n            **kwargs\n        )\n        activity_logs = []\n        for id in ids:\n            activity_logs.append(ActivityLog(\n                operation_log=log_entry,\n                resource_id=id,\n                resource_type=model_name,\n                organization=self.organization,\n            ))\n        ActivityLog.objects.bulk_create(activity_logs)\n\n", "CodeBleu_score": 42.93764670459931}]}
{"instance_id": "9e851c424f45", "generation_result": [{"code": "def prepare_django_request(self, request)\n\t\n    request_dict = {}\n    request_dict[\"is_secure\"] = request.is_secure()\n    request_dict[\"host\"] = request.get_host()\n    request_dict[\"script_name\"] = request.path\n    request_dict[\"get\"] = request.GET.copy()\n    request_dict[\"post\"] = request.POST.copy()\n    return request_dict\n\n", "CodeBleu_score": 37.703030351878}, {"code": "def prepare_django_request(self, request)\n\t\n    result = {}\n    result['is_secure'] = request.is_secure()\n    result['http_host'] = request.META['HTTP_HOST']\n    result['script_name'] = request.META['SCRIPT_NAME']\n    result['get_data'] = request.GET.copy()\n    result['post_data'] = request.POST.copy()\n    return result\n\n", "CodeBleu_score": 46.9864753250423}, {"code": "def prepare_django_request(self, request)\n\t\n    result = {}\n    result[\"isSecure\"] = request.is_secure()\n    result[\"httpHost\"] = request.META[\"HTTP_HOST\"]\n    result[\"scriptName\"] = request.META[\"PATH_INFO\"]\n    result[\"queryString\"] = request.META[\"QUERY_STRING\"]\n    result[\"method\"] = request.method\n    result[\"get\"] = request.GET\n    result[\"post\"] = request.POST\n    return result\n\n", "CodeBleu_score": 38.715315301479414}]}
{"instance_id": "dcea4bd482c4", "generation_result": [{"code": "function getUserLang() {\n\t\tif (document.cookie.indexOf(\"django_language=en\") != -1) {\n\t\treturn 'en-US';\n\t}\n\telse {\n\t\treturn 'zh-CN';\n\t}\n}", "CodeBleu_score": 33.153720825792945}, {"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tvar cookies = document.cookie;\n\tvar start = cookies.indexOf('django_language=');\n\tif(start != -1) {\n\t\tstart += 16;\n\t\tvar end = cookies.indexOf(';', start);\n\t\tif(end == -1) {\n\t\t\tend = cookies.length;\n\t\t}\n\t\tlang = cookies.substring(start, end);\n\t}\n\treturn lang;\n}", "CodeBleu_score": 34.5948334032226}, {"code": "function getUserLang() {\n\t\tvar lang = 'zh-CN';\n\tif (document.cookie.indexOf('django_language=en') != -1) {\n\t\tlang = 'en-US';\n\t}\n\treturn lang;\n}", "CodeBleu_score": 28.052916877033994}]}
{"instance_id": "fd6824a005d5", "generation_result": [{"code": "function reloadPage(){\n\t\tsetTimeout(function(){\n\t\twindow.location.reload(1);\n\t}, 300);\n}", "CodeBleu_score": 26.33021156678715}, {"code": "function reloadPage(){\n\t\tsetTimeout(function(){\n\t\tlocation.reload();\n\t}, 300);\n}", "CodeBleu_score": 24.18780412961511}, {"code": "function reloadPage(){\n\t\tsetTimeout(function(){location.reload();}, 300);\n}", "CodeBleu_score": 21.22205623353}]}
{"instance_id": "b32d5862b6b1", "generation_result": [{"code": "function fillKey(key){\n\t\tvar keyBuffer = new ArrayBuffer(16);\n\tvar keyView = new Uint8Array(keyBuffer);\n\tvar keyLength = key.length;\n\tfor (var i = 0; i < keyLength; i++) {\n\t\tkeyView[i] = key[i];\n\t}\n\treturn keyBuffer;\n}", "CodeBleu_score": 31.999027139790932}, {"code": "function fillKey(key){\n\t\tvar buf = new ArrayBuffer(16);\n\tvar k = new Uint8Array(buf);\n\tvar keyBytes = new Uint8Array(key);\n\tfor (var i = 0; i < keyBytes.length; i++) {\n\t\tk[i] = keyBytes[i];\n\t}\n\treturn buf;\n}", "CodeBleu_score": 32.190837003927896}, {"code": "function fillKey(key){\n\t\tvar filledKey = new Buffer(16);\n\tvar keyBuffer = new Buffer(key);\n\tvar keyLength = keyBuffer.length;\n\tfor (var i = 0; i < 16; i++) {\n\t\tif (i < keyLength) {\n\t\t\tfilledKey[i] = keyBuffer[i];\n\t\t} else {\n\t\t\tfilledKey[i] = 0;\n\t\t}\n\t}\n\treturn filledKey;\n}", "CodeBleu_score": 36.69188696855499}]}
{"instance_id": "c839d19e0833", "generation_result": [{"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text == \"\") {\n\t\treturn text;\n\t}\n\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 59.6841524492867}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text === \"\") {\n\t\treturn text;\n\t}\n\tvar encryptor = new JSEncrypt();\n\tencryptor.setPublicKey(pubKey);\n\treturn encryptor.encrypt(text);\n}", "CodeBleu_score": 59.062809179270474}, {"code": "function rsaEncrypt(text, pubKey){\n\t\tif (text.length == 0) {\n\t\treturn text;\n\t}\n\tvar encrypt = new JSEncrypt();\n\tencrypt.setPublicKey(pubKey);\n\treturn encrypt.encrypt(text);\n}", "CodeBleu_score": 59.80337815714959}]}
{"instance_id": "c73bc91399b9", "generation_result": [{"code": "function checkAll(id, name){\n\t\tvar cbs = document.getElementsByName(name);\n\tfor (var i=0; i<cbs.length; i++) {\n\t\tcbs[i].checked = document.getElementById(id).checked;\n\t}\n}", "CodeBleu_score": 34.71956995087451}, {"code": "function checkAll(id, name){\n\t\tvar master = document.getElementById(id);\n\tvar inputs = document.getElementsByName(name);\n\tfor (var i = 0; i < inputs.length; i++) {\n\t\tinputs[i].checked = master.checked;\n\t}\n}", "CodeBleu_score": 39.56950251621223}, {"code": "function checkAll(id, name){\n\t\tvar cbs = document.getElementsByName(name);\n\tvar cb = document.getElementById(id);\n\tfor (var i = 0; i < cbs.length; i++) {\n\t\tcbs[i].checked = cb.checked;\n\t}\n}", "CodeBleu_score": 38.848923089698}]}
{"instance_id": "5164f2c2d67e", "generation_result": [{"code": "function getCookie(name){\n\t\tvar cookies = document.cookie.split(\"; \");\n\tvar cookieName = name + \"=\";\n\tfor(var i = 0; i < cookies.length; i++) {\n\t\tvar cookie = cookies[i];\n\t\twhile(cookie.charAt(0) == \" \") {\n\t\t\tcookie = cookie.substring(1);\n\t\t}\n\t\tif(cookie.indexOf(cookieName) == 0) {\n\t\t\treturn decodeURIComponent(cookie.substring(cookieName.length, cookie.length));\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 40.250284405513675}, {"code": "function getCookie(name){\n\t\tif (document.cookie.length > 0) {\n\t\tvar cookies = document.cookie.split(\";\");\n\t\tfor (var i = 0; i < cookies.length; i++) {\n\t\t\tvar cookie = cookies[i];\n\t\t\tcookie = cookie.replace(/^\\s+|\\s+$/g, \"\");\n\t\t\tif (cookie.substring(0, name.length + 1) == (name + \"=\")) {\n\t\t\t\treturn decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 50.285699140671305}, {"code": "function getCookie(name){\n\t\tif (document.cookie.length > 0) {\n\t\tvar cookies = document.cookie.split(';');\n\t\tfor (var i = 0; i < cookies.length; i++) {\n\t\t\tvar cookie = cookies[i].trim();\n\t\t\tif (cookie.startsWith(name + '=')) {\n\t\t\t\treturn decodeURIComponent(cookie.substring(name.length + 1));\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}", "CodeBleu_score": 47.403712987612366}]}
{"instance_id": "7ce6dc0f1f24", "generation_result": [{"code": "def post(self, request)\n\t\n\n    self.model = get_image_model()\n    self.form = self.get_creation_form()\n\n    if self.form is None:\n        # No form means no POST is allowed\n        return self.http_method_not_allowed(request)\n\n    if self.form.is_valid():\n        # Check for duplicates\n        new_image = self.save_form(self.form)\n        duplicates = self.find_image_duplicates(new_image, request.user, self.permission_policy)\n        if duplicates:\n            return self.render_duplicate_found_response(request, new_image, duplicates[0])\n        else:\n            # No duplicates found, so render a response to select the format\n            return self.render_select_format_response(new_image, self.form)\n    else:\n        # Form invalid, so reshow the form\n        return self.get_reshow_creation_form_response()\n", "CodeBleu_score": 32.268662164419425}, {"code": "def post(self, request)\n\t\n    self.model = get_image_model()\n    self.form = self.get_creation_form()\n\n    if self.form:\n        if self.form.is_valid():\n            image = self.save_form(self.form)\n            duplicate_images = self.find_image_duplicates(image, request.user)\n\n            if duplicate_images:\n                return self.render_duplicate_found_response(request, image, duplicate_images[0])\n\n            if request.GET.get(\"select_format\"):\n                return self.render_select_format_response(image, self.form)\n\n            return self.get_chosen_response(image)\n\n        else:\n            return self.get_reshow_creation_form_response()\n\n    else:\n        return self.get_reshow_creation_form_response()\n", "CodeBleu_score": 40.083218226880284}, {"code": "def post(self, request)\n\t\n    self.model = get_image_model()\n    self.form = self.get_creation_form(request.POST, request.FILES)\n    if self.form.is_valid():\n        # Get the image instance.\n        image = self.save_form(self.form)\n\n        # Find duplicates.\n        if self.find_image_duplicates(image, request.user, self.permission_policy):\n            # If a duplicate was found, return a response indicating the duplicate.\n            return self.render_duplicate_found_response(\n                request, image, self.find_image_duplicates(image, request.user, self.permission_policy)[0]\n            )\n\n        # If no duplicate was found, return a response indicating the image was created.\n        return self.get_chosen_response(image)\n\n    # If the form was not valid, return a response to reshow the creation form.\n    return self.get_reshow_creation_form_response()\n", "CodeBleu_score": 29.708835521060262}]}
{"instance_id": "2ee66e343cd1", "generation_result": [{"code": "def _annotate_queryset(self, pages)\n\t\n    from wagtail.core.models import Page, PageViewRestriction\n    from wagtail.contrib.routable_page.models import RoutablePageMixin\n    from wagtail.contrib.settings.models import BaseSetting, register_setting\n    from wagtail.contrib.modeladmin.options import modeladmin_register\n    from wagtail.core.models import PageViewRestriction\n    from wagtail.core.models import Page, PageViewRestriction\n    from wagtail.contrib.settings.models import BaseSetting, register_setting\n    from wagtail.contrib.modeladmin.options import modeladmin_register\n    from wagtail.core.models import PageViewRestriction\n\n    # prefetch related content types and site roots\n    pages = pages.prefetch_related(\n        \"content_type\",\n        \"content_type__model_class\",\n        \"content_type__permission_set\",\n        \"content_type__view_restrictions\",\n        \"site_root\",\n    )\n\n    # filter pages based on user's permissions for explorable instances\n    pages = pages.filter(\n        Q(content_type__permission_set__group__in=self.request.user.groups.all())\n        | Q(content_type__permission_set__group__isnull=True)\n    )\n\n    # prefetch streamfield values\n    pages = pages.prefetch_related(\"stream_fields\")\n\n    # prefetch workflow states\n    if self.request.user.has_perm(\"wagtailadmin.access_admin\"):\n        pages = pages.prefetch_related(\"workflow_states\")\n\n    # prefetch schedule\n    if self.request.user.has_perm(\"wagtailadmin.access_admin\"):\n        pages = pages.prefetch_related(\"approved_schedule\")\n\n    # prefetch site root state\n    if self.request.user.has_perm(\"wagtailadmin.access_admin\"):\n        pages = pages.prefetch_related(\"site_root__workflow_state\")\n\n    # prefetch site root schedule\n    if self.request.user.has_perm(\"wagtailadmin.access_admin\"):\n        pages = pages.prefetch_related(\"site_root__approved_schedule\")\n\n    # prefetch site root schedule\n    if self.request.user.has_perm(\"wagtailadmin.access_admin\"):\n        pages = pages.prefetch_related(\"site_root__approved_schedule\")\n\n    # prefetch site root schedule\n    if self.request.user.has_perm(\"wagtailadmin.access_admin", "CodeBleu_score": 35.17357179708176}, {"code": "def _annotate_queryset(self, pages)\n\t\n    # Prefetch related content types\n    # Prefetch site root\n    # Prefetch workflow states\n    # Prefetch approved schedule\n    # Defer streamfield values\n    # Filter pages based on permissions\n    # Annotate queryset with site root state and approved schedule\n    return (\n        pages.select_related(\"content_type\")\n        .prefetch_related(\"content_type__model_class\")\n        .prefetch_related(\"sites\")\n        .prefetch_related(\"workflow_states\")\n        .prefetch_related(\"approved_schedule\")\n        .defer(\"body\")\n        .filter(permissions__can_explore=True)\n        .annotate(\n            site_root_state=Subquery(\n                Page.objects.filter(\n                    id=OuterRef(\"id\"),\n                    path__depth=1,\n                ).values(\"workflow_state\")[:1]\n            ),\n            approved_schedule_state=Subquery(\n                Page.objects.filter(\n                    id=OuterRef(\"id\"),\n                    path__depth=1,\n                ).values(\"approved_schedule__state\")[:1]\n            ),\n        )\n    )\n\n", "CodeBleu_score": 19.822018905024986}, {"code": "def _annotate_queryset(self, pages)\n\t\n    # prefetch related content types and site roots\n    pages = pages.prefetch_related(\n        'content_type',\n        'content_type__model',\n        'content_type__fields',\n        'content_type__fields__page',\n        'content_type__fields__page__content_type',\n        'content_type__fields__page__content_type__model',\n        'content_type__fields__page__content_type__fields',\n        'content_type__fields__page__content_type__fields__page',\n        'content_type__fields__page__content_type__fields__page__content_type',\n        'content_type__fields__page__content_type__fields__page__content_type__model',\n        'content_type__fields__page__content_type__fields__page__content_type__fields',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__model',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__model',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields',\n        'content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page__content_type__fields__page',\n        'content_type__fields__page__content_type__", "CodeBleu_score": 3.1876304401851066}]}
{"instance_id": "970bf123b037", "generation_result": [{"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        search_fields = self.get_search_fields()\n        if search_fields:\n            # If there are search fields, apply an autocomplete filter to the queryset.\n            queryset = queryset.autocomplete(\n                search_fields,\n                query=self.query_string,\n                limit=self.get_search_limit(),\n                order_by_relevance=self.order_by_relevance,\n            )\n        else:\n            # If there are no search fields, return an empty queryset.\n            queryset = queryset.none()\n    else:\n        # If the is_searching flag is false, order the results by relevance if order_by_relevance is true.\n        if self.order_by_relevance:\n            queryset = queryset.order_by_relevance()\n    return queryset\n\n", "CodeBleu_score": 39.25839954382781}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        queryset = queryset.autocomplete(\n            search_fields=self.search_fields,\n            query_string=self.query_string,\n            limit=self.search_limit,\n            order_by_relevance=self.order_by_relevance,\n        )\n    return queryset\n\n", "CodeBleu_score": 54.435781079865954}, {"code": "def search_queryset(self, queryset)\n\t\n    if self.is_searching:\n        queryset = queryset.autocomplete(self.query_string)\n        if not queryset.ordered:\n            queryset = queryset.order_by(\"-rank\", \"title\")\n    return queryset\n\n", "CodeBleu_score": 54.513436463302114}]}
{"instance_id": "b2058bd51dfa", "generation_result": [{"code": "def user_can_access_snippets(user)\n\t\n    # Retrieve all snippet models\n    snippet_models = get_snippet_models()\n    # Iterate through all snippet models\n    for snippet_model in snippet_models:\n        # Retrieve the content type for the snippet model\n        content_type = ContentType.objects.get_for_model(snippet_model)\n        # Retrieve the user's permissions for the snippet model\n        user_perms = user.get_all_permissions_for_model(snippet_model)\n        # Check if the user has any permissions for the snippet model\n        if user_perms:\n            return True\n    # If no permissions are found across all models, return False\n    return False\n", "CodeBleu_score": 37.6811003964853}, {"code": "def user_can_access_snippets(user)\n\t\n    snippet_models = get_snippet_models()\n    if not snippet_models:\n        return False\n\n    for model in snippet_models:\n        if user.has_perm(model._meta.app_label + '.' + get_permission_codename('add', model._meta)):\n            return True\n        if user.has_perm(model._meta.app_label + '.' + get_permission_codename('change', model._meta)):\n            return True\n        if user.has_perm(model._meta.app_label + '.' + get_permission_codename('delete', model._meta)):\n            return True\n        if user.has_perm(model._meta.app_label + '.' + get_permission_codename('view', model._meta)):\n            return True\n    return False\n", "CodeBleu_score": 40.70269063166506}, {"code": "def user_can_access_snippets(user)\n\t\n    # Snippets can be registered in wagtail_hooks.py by calling register_snippet\n    # as a function instead of a decorator. Make sure we search for hooks before\n    # returning the list of snippet models.\n    search_for_hooks()\n    for model in get_snippet_models():\n        if user.has_perm(model._meta.app_label + '.add_' + model._meta.model_name):\n            return True\n        if user.has_perm(model._meta.app_label + '.change_' + model._meta.model_name):\n            return True\n        if user.has_perm(model._meta.app_label + '.delete_' + model._meta.model_name):\n            return True\n        if user.has_perm(model._meta.app_label + '.view_' + model._meta.model_name):\n            return True\n    return False\n\n", "CodeBleu_score": 34.25088010541221}]}
{"instance_id": "bf09fb693900", "generation_result": [{"code": "def get_auth_backends(self, request)\n\t\n    backends = []\n    for name, url, params in self.get_auth_backends_with_params(request):\n        backends.append(self.gen_auth_data(name, url, params))\n\n    return backends\n", "CodeBleu_score": 9.824302607436513}, {"code": "def get_auth_backends(self, request)\n\t\n    backends = []\n\n    for name, backend_class in AUTHENTICATION_BACKENDS.items():\n        backend = backend_class()\n\n        if not hasattr(backend, 'login_url'):\n            continue\n\n        url = reverse(backend.login_url)\n        params = {}\n\n        if 'next' in request.GET:\n            params['next'] = request.GET['next']\n\n        if hasattr(backend, 'saml_login_url'):\n            for idp_name, idp_config in settings.SOCIAL_AUTH_SAML_ENABLED_IDPS.items():\n                backends.append(self.gen_auth_data(\n                    name,\n                    reverse(backend.saml_login_url, kwargs={'idp': idp_name}),\n                    params\n                ))\n        else:\n            backends.append(self.gen_auth_data(name, url, params))\n\n    return backends\n", "CodeBleu_score": 38.35864000036546}, {"code": "def get_auth_backends(self, request)\n\t\n    backends = []\n\n    for backend_path in settings.AUTHENTICATION_BACKENDS:\n        backend = import_string(backend_path)()\n\n        if isinstance(backend, SAMLAuth):\n            for idp in backend.get_identity_providers():\n                backends.append(self.gen_auth_data(backend_path, reverse('saml_login'), {\n                    'idp': idp,\n                    'next': request.GET.get('next'),\n                }))\n        else:\n            backends.append(self.gen_auth_data(backend_path, reverse('login'), {\n                'next': request.GET.get('next'),\n            }))\n\n    return backends\n", "CodeBleu_score": 27.149084161477006}]}
{"instance_id": "ea59163b25cc", "generation_result": [{"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    return \"%s <<= %s\" % (lhs, rhs), params\n\n", "CodeBleu_score": 59.689753590808806}, {"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    return \"%s <<= %s\" % (lhs, rhs), params\n\n", "CodeBleu_score": 59.689753590808806}, {"code": "def as_sql(self, qn, connection)\n\t\n    lhs, lhs_params = self.process_lhs(qn, connection)\n    rhs, rhs_params = self.process_rhs(qn, connection)\n    params = lhs_params + rhs_params\n    return '%s::inet << %s' % (lhs, rhs), params\n", "CodeBleu_score": 61.00262945697303}]}
{"instance_id": "6658ddec6820", "generation_result": [{"code": "def get_model_urls(app_label, model_name)\n\t\n    try:\n        model = apps.get_model(app_label, model_name)\n    except LookupError:\n        return []\n\n    if model is None:\n        return []\n\n    view_configs = registry.get_views_for_model(model)\n\n    if not view_configs:\n        return []\n\n    urls = []\n\n    for view_config in view_configs:\n        view = view_config.view\n\n        if isinstance(view, str):\n            view = import_string(view)\n\n        path = view_config.path\n\n        if path is None:\n            path = model._meta.verbose_name_plural.replace(\" \", \"-\")\n\n        if not path.startswith(\"/\"):\n            path = \"/\" + path\n\n        if not path.endswith(\"/\"):\n            path += \"/\"\n\n        path += \"<pk>/\"\n\n        if view_config.name is None:\n            name = model._meta.verbose_name_plural.replace(\" \", \"-\")\n        else:\n            name = view_config.name\n\n        url_kwargs = {}\n\n        if view_config.kwargs:\n            url_kwargs.update(view_config.kwargs)\n\n        url_kwargs[\"app_label\"] = app_label\n        url_kwargs[\"model_name\"] = model_name\n\n        urls.append(path(view.as_view(), name=name, kwargs=url_kwargs))\n\n    return urls\n\n", "CodeBleu_score": 30.07654326992977}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    app_config = apps.get_app_config(app_label)\n    try:\n        model = app_config.get_model(model_name)\n    except LookupError:\n        return []\n    view_configs = registry.get_registered_views(app_label, model_name)\n    paths = []\n    for view_config in view_configs:\n        view_name = view_config.view_name\n        view_path = view_config.path\n        view_kwargs = view_config.kwargs\n        view = import_string(view_name)\n        if isinstance(view, type):\n            view = view.as_view()\n        path = path(view_path, view, name=view_name, kwargs=view_kwargs)\n        paths.append(path)\n    return paths\n\n", "CodeBleu_score": 32.88448061389947}, {"code": "def get_model_urls(app_label, model_name)\n\t\n    from django.urls import path\n    from django.conf.urls import url\n    from django.views.generic import RedirectView\n\n    from django.contrib.admin.sites import site\n\n    # Get the registered model from the registry\n    model = site._registry.get(app_label, {}).get(model_name)\n\n    # If no model is found, return an empty list\n    if model is None:\n        return []\n\n    # Get the registered views from the model\n    views = model.views\n\n    # If no views are found, return an empty list\n    if views is None:\n        return []\n\n    # Get the registered view names from the model\n    view_names = model.view_names\n\n    # If no view names are found, return an empty list\n    if view_names is None:\n        return []\n\n    # Get the registered view kwargs from the model\n    view_kwargs = model.view_kwargs\n\n    # If no view kwargs are found, return an empty list\n    if view_kwargs is None:\n        return []\n\n    # Get the registered view names from the model\n    view_redirects = model.view_redirects\n\n    # If no view names are found, return an empty list\n    if view_redirects is None:\n        return []\n\n    # Get the registered view kwargs from the model\n    view_redirects_kwargs = model.view_redirects_kwargs\n\n    # If no view kwargs are found, return an empty list\n    if view_redirects_kwargs is None:\n        return []\n\n    # Get the registered view names from the model\n    view_redirects_names = model.view_redirects_names\n\n    # If no view names are found, return an empty list\n    if view_redirects_names is None:\n        return []\n\n    # Create a list to hold the URL paths\n    paths = []\n\n    # Iterate over the views, names, and kwargs\n    for view, name, kwargs in zip(views, view_names, view_kwargs):\n\n        # If the view is a class, instantiate it\n        if inspect.isclass(view):\n            view = view()\n\n        # If the view is a function, instantiate it\n        if inspect.isfunction(view):\n            view = view()\n\n        # If the view is a string, import it\n        if isinstance(view, str):\n            view = import_string(view)\n\n        # If the view is a class, instantiate it\n        if inspect.isclass(view):\n            view = view()\n\n        # If the view is a function,", "CodeBleu_score": 22.579391512393798}]}
{"instance_id": "9f4c69dfe312", "generation_result": [{"code": "def run_validators(instance, validators)\n\t\n    request = get_current_request()\n    for validator in validators:\n        if isinstance(validator, str):\n            validator = import_string(validator)\n        if isinstance(validator, dict):\n            validator = CustomValidator(**validator)\n        if not issubclass(validator, CustomValidator):\n            raise ImproperlyConfigured(\n                f\"Validator {validator.__name__} is not a subclass of CustomValidator\"\n            )\n        validator(instance, request)\n\n", "CodeBleu_score": 34.2909080030688}, {"code": "def run_validators(instance, validators)\n\t\n    for validator in validators:\n        if isinstance(validator, str):\n            validator = import_string(validator)\n        elif isinstance(validator, dict):\n            validator = CustomValidator(**validator)\n        elif not issubclass(validator, CustomValidator):\n            raise ImproperlyConfigured(\n                \"Validator must be a subclass of CustomValidator\"\n            )\n        validator(instance, request=request)\n\n", "CodeBleu_score": 30.94297582233484}, {"code": "def run_validators(instance, validators)\n\t\n    request = get_current_request()\n\n    for validator in validators:\n        if isinstance(validator, str):\n            validator = import_string(validator)\n        if not issubclass(validator, CustomValidator):\n            raise ImproperlyConfigured(\n                f\"{validator.__name__} is not a subclass of CustomValidator\"\n            )\n        validator(instance, request).validate()\n", "CodeBleu_score": 31.23987158746695}]}
{"instance_id": "0b2ff7fe76f6", "generation_result": [{"code": "export function playMedia(destiny){\n\t\tvar panel = document.getElementById(destiny);\n\tif (panel != null) {\n\t\tvar videos = panel.querySelectorAll('video[data-autoplay]');\n\t\tfor (var i = 0; i < videos.length; i++) {\n\t\t\tif (videos[i].play) {\n\t\t\t\tvideos[i].play();\n\t\t\t}\n\t\t}\n\t\tvar audios = panel.querySelectorAll('audio[data-autoplay]');\n\t\tfor (var i = 0; i < audios.length; i++) {\n\t\t\tif (audios[i].play) {\n\t\t\t\taudios[i].play();\n\t\t\t}\n\t\t}\n\t\tvar youtube = panel.querySelectorAll('iframe[src*=\"youtube.com/embed/\"][data-autoplay]');\n\t\tfor (var i = 0; i < youtube.length; i++) {\n\t\t\tvar youtubeID = youtube[i].src.split('embed/')[1].split('?')[0];\n\t\t\tvar autoplay = 1;\n\t\t\tif (youtube[i].hasAttribute('data-autoplay')) {\n\t\t\t\tautoplay = 0;\n\t\t\t}\n\t\t\tvar newElement = document.createElement('div');\n\t\t\tyoutube[i].parentNode.insertBefore(newElement, youtube[i]);\n\t\t\tyoutube[i].style.display = 'none';\n\t\t\tvar newYoutube = document.createElement('iframe');\n\t\t\tnewYoutube.setAttribute('src', 'https://www.youtube.com/embed/' + youtubeID + '?autoplay=' + autoplay + '&enablejsapi=1&version=3&playerapiid=ytplayer');\n\t\t\tnewYoutube.setAttribute('frameborder', '0');\n\t\t\tnewYoutube.setAttribute('allowfullscreen', '1');\n\t\t\tnewYoutube.setAttribute('allow', 'autoplay; encrypted-media');\n\t\t\tnewYoutube.setAttribute('data-autoplay', '1');\n\t\t\tnewYoutube.setAttribute('id', 'ytplayer');\n\t\t\tnewYoutube.setAttribute('width', '100%');\n\t\t\tnewYoutube.setAttribute('height', '100%');\n\t\t\tnewYoutube.setAttribute('onload', 'playYoutube(this)');\n\t\t\tnewElement.appendChild(newYoutube);\n\t\t}\n\t}\n}", "CodeBleu_score": 28.811322980341025}, {"code": "export function playMedia(destiny){\n\t\tlet panel = document.querySelector(destiny);\n\tif (panel) {\n\t\tlet videoElements = panel.querySelectorAll('video[data-autoplay]');\n\t\tfor (let i = 0; i < videoElements.length; i++) {\n\t\t\tlet video = videoElements[i];\n\t\t\tif (video.play) {\n\t\t\t\tvideo.play();\n\t\t\t}\n\t\t}\n\t\tlet audioElements = panel.querySelectorAll('audio[data-autoplay]');\n\t\tfor (let i = 0; i < audioElements.length; i++) {\n\t\t\tlet audio = audioElements[i];\n\t\t\tif (audio.play) {\n\t\t\t\taudio.play();\n\t\t\t}\n\t\t}\n\t\tlet youtubeElements = panel.querySelectorAll('iframe[data-autoplay]');\n\t\tfor (let i = 0; i < youtubeElements.length; i++) {\n\t\t\tlet youtube = youtubeElements[i];\n\t\t\tif (youtube.src.indexOf('youtube') > -1) {\n\t\t\t\tplayYoutube(youtube);\n\t\t\t} else {\n\t\t\t\tyoutube.onload = function() {\n\t\t\t\t\tplayYoutube(youtube);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 34.25898822984943}, {"code": "export function playMedia(destiny){\n\t\tlet panel = document.querySelector(destiny);\n\tif (panel) {\n\t\tlet videoElements = panel.querySelectorAll('video[data-autoplay]');\n\t\tlet audioElements = panel.querySelectorAll('audio[data-autoplay]');\n\t\tlet youtubeElements = panel.querySelectorAll('iframe[data-autoplay]');\n\t\tfor (let i = 0; i < videoElements.length; i++) {\n\t\t\tvideoElements[i].play();\n\t\t}\n\t\tfor (let i = 0; i < audioElements.length; i++) {\n\t\t\taudioElements[i].play();\n\t\t}\n\t\tfor (let i = 0; i < youtubeElements.length; i++) {\n\t\t\tlet youtubeElement = youtubeElements[i];\n\t\t\tyoutubeElement.setAttribute('data-loaded', 'false');\n\t\t\tyoutubeElement.setAttribute('src', youtubeElement.getAttribute('src') + '&autoplay=1');\n\t\t\tyoutubeElement.onload = function() {\n\t\t\t\tif (youtubeElement.getAttribute('data-loaded') === 'false') {\n\t\t\t\t\tplayYoutube(youtubeElement);\n\t\t\t\t\tyoutubeElement.setAttribute('data-loaded', 'true');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n}", "CodeBleu_score": 34.096785795645886}]}
{"instance_id": "12d28719c647", "generation_result": [{"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\tif (panel) {\n\t\tvar mediaElements = panel.querySelectorAll('video, audio, iframe[src*=\"youtube.com\"], iframe[src*=\"vimeo.com\"]');\n\t\tfor (var i = 0; i < mediaElements.length; i++) {\n\t\t\tvar mediaElement = mediaElements[i];\n\t\t\tif (mediaElement.tagName.toLowerCase() === 'video' || mediaElement.tagName.toLowerCase() === 'audio') {\n\t\t\t\tif (!mediaElement.hasAttribute('data-keepplaying')) {\n\t\t\t\t\tmediaElement.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (mediaElement.tagName.toLowerCase() === 'iframe') {\n\t\t\t\tif (mediaElement.src.indexOf('youtube') > -1) {\n\t\t\t\t\tif (!mediaElement.hasAttribute('data-keepplaying')) {\n\t\t\t\t\t\tmediaElement.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (mediaElement.src.indexOf('vimeo') > -1) {\n\t\t\t\t\tif (!mediaElement.hasAttribute('data-keepplaying')) {\n\t\t\t\t\t\tmediaElement.contentWindow.postMessage('{\"method\":\"pause\"}', '*');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 41.98935589243753}, {"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\tvar media = panel.querySelectorAll('video, audio, iframe[src*=\"youtube.com\"]');\n\tfor (var i = 0; i < media.length; i++) {\n\t\tif (media[i].tagName.toLowerCase() == 'iframe' && media[i].src.indexOf('youtube.com') > -1) {\n\t\t\tif (media[i].hasAttribute('data-keepplaying')) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tmedia[i].contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t} else {\n\t\t\tif (media[i].hasAttribute('data-keepplaying')) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tmedia[i].pause();\n\t\t}\n\t}\n}", "CodeBleu_score": 42.613335594846404}, {"code": "export function stopMedia(destiny){\n\t\tvar panel = getSlideOrSection(destiny);\n\tif (panel) {\n\t\tvar media = panel.querySelectorAll('video, audio');\n\t\tfor (var i = 0; i < media.length; i++) {\n\t\t\tif (!media[i].hasAttribute('data-keepplaying')) {\n\t\t\t\tif (media[i].tagName.toLowerCase() == 'video') {\n\t\t\t\t\tmedia[i].pause();\n\t\t\t\t} else if (media[i].tagName.toLowerCase() == 'audio') {\n\t\t\t\t\tmedia[i].pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tvar youtube = panel.querySelectorAll('iframe[src*=\"youtube.com\"]');\n\t\tfor (var i = 0; i < youtube.length; i++) {\n\t\t\tif (!youtube[i].hasAttribute('data-keepplaying')) {\n\t\t\t\tvar id = youtube[i].getAttribute('src').split('v=')[1].split('&')[0];\n\t\t\t\tyoutube[i].contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 42.12564378905388}]}
{"instance_id": "e0d58d76f87e", "generation_result": [{"code": "export function createSlideArrows(section){\n\t\tconst config = section.config;\n\tconst arrows = section.slideArrows;\n\tconst slideWrapper = section.slideWrapper;\n\n\tconst arrowTemplate = config.arrowTemplate;\n\tconst arrowLeftTemplate = arrowTemplate.left;\n\tconst arrowRightTemplate = arrowTemplate.right;\n\n\tconst arrowLeft = document.createElement('div');\n\tarrowLeft.innerHTML = arrowLeftTemplate;\n\tarrowLeft.className = 'tns-nav-active';\n\tarrowLeft.setAttribute('aria-label', config.prevText);\n\n\tconst arrowRight = document.createElement('div');\n\tarrowRight.innerHTML = arrowRightTemplate;\n\tarrowRight.setAttribute('aria-label', config.nextText);\n\n\tif (config.loop) {\n\t\tslideWrapper.appendChild(arrowLeft);\n\t\tslideWrapper.appendChild(arrowRight);\n\t} else {\n\t\tarrowLeft.className = 'tns-nav-inactive';\n\t\tslideWrapper.appendChild(arrowRight);\n\t}\n\n\tarrows.left = arrowLeft;\n\tarrows.right = arrowRight;\n}", "CodeBleu_score": 23.37753583039799}, {"code": "export function createSlideArrows(section){\n\t\tconst arrows = section.querySelectorAll('.' + CL.arrows);\n\tconst arrowsLength = arrows.length;\n\tlet i = 0;\n\n\tfor (; i < arrowsLength; i++) {\n\t\tconst arrow = arrows[i];\n\n\t\tarrow.innerHTML = `${config.arrowsHTML[i]}`;\n\n\t\tif (config.arrowsColor !== 'auto') {\n\t\t\tarrow.style.color = config.arrowsColor;\n\t\t}\n\n\t\tif (config.arrowsPosition === 'bottom' || config.arrowsPosition === 'top') {\n\t\t\tarrow.classList.add(CL.arrowsVertical);\n\t\t} else {\n\t\t\tarrow.classList.add(CL.arrowsHorizontal);\n\t\t}\n\n\t\tif (config.loop === false && i === 0) {\n\t\t\tarrow.classList.add(CL.hide);\n\t\t}\n\t}\n}", "CodeBleu_score": 21.642035301561297}, {"code": "export function createSlideArrows(section){\n\t\tconst { arrows, loop } = section.settings;\n\tconst { prev, next } = arrows;\n\n\tconst prevArrow = document.createElement('button');\n\tconst nextArrow = document.createElement('button');\n\n\tprevArrow.className = 'pswp__button pswp__button--arrow--left';\n\tnextArrow.className = 'pswp__button pswp__button--arrow--right';\n\n\tif (prev.hiding) {\n\t\tprevArrow.style.display = 'none';\n\t}\n\n\tif (next.hiding) {\n\t\tnextArrow.style.display = 'none';\n\t}\n\n\tif (prev.color) {\n\t\tprevArrow.style.color = prev.color;\n\t}\n\n\tif (next.color) {\n\t\tnextArrow.style.color = next.color;\n\t}\n\n\tif (prev.style) {\n\t\tprevArrow.classList.add(prev.style);\n\t}\n\n\tif (next.style) {\n\t\tnextArrow.classList.add(next.style);\n\t}\n\n\tif (prev.className) {\n\t\tprevArrow.classList.add(prev.className);\n\t}\n\n\tif (next.className) {\n\t\tnextArrow.classList.add(next.className);\n\t}\n\n\tsection.slide.appendChild(prevArrow);\n\tsection.slide.appendChild(nextArrow);\n\n\tif (loop) {\n\t\tprevArrow.addEventListener('click', () => {\n\t\t\tslidePrev(section);\n\t\t});\n\n\t\tnextArrow.addEventListener('click', () => {\n\t\t\tslideNext(section);\n\t\t});\n\t} else {\n\t\tif (prev.hiding) {\n\t\t\tprevArrow.style.display = 'none';\n\t\t}\n\n\t\tprevArrow.addEventListener('click', () => {\n\t\t\tif (section.index > 0) {\n\t\t\t\tslidePrev(section);\n\t\t\t}\n\t\t});\n\n\t\tif (next.hiding) {\n\t\t\tnextArrow.style.display = 'none';\n\t\t}\n\n\t\tnextArrow.addEventListener('click', () => {\n\t\t\tif (section.index < section.total - 1) {\n\t\t\t\tslideNext(section);\n\t\t\t}\n\t\t});\n\t}\n}", "CodeBleu_score": 19.96382340009926}]}
{"instance_id": "09898985b216", "generation_result": [{"code": "function slideArrowHandler(){\n\t\t// get the clicked arrow\n\tlet clickedArrow = document.getElementsByClassName(SLIDES_ARROW_CLASS);\n\n\t// get the closest section\n\tlet closestSection = getClosestSection(clickedArrow[0]);\n\n\t// if the clicked arrow has the class SLIDES_PREV\n\tif (clickedArrow[0].classList.contains(SLIDES_PREV)) {\n\t\t// if left scroll is allowed\n\t\tif (leftScrollAllowed()) {\n\t\t\t// update the state\n\t\t\tupdateState(closestSection, true);\n\n\t\t\t// trigger the moveSlideLeft event\n\t\t\tmoveSlideLeftEvent();\n\t\t}\n\t} else {\n\t\t// if right scroll is allowed\n\t\tif (rightScrollAllowed()) {\n\t\t\t// update the state\n\t\t\tupdateState(closestSection, false);\n\n\t\t\t// trigger the moveSlideRight event\n\t\t\tmoveSlideRightEvent();\n\t\t}\n\t}\n}", "CodeBleu_score": 32.995163545803905}, {"code": "function slideArrowHandler(){\n\t", "CodeBleu_score": 0.49318180067929485}, {"code": "function slideArrowHandler(){\n\t", "CodeBleu_score": 0.49318180067929485}]}
{"instance_id": "69ef3030fb15", "generation_result": [{"code": "export function addSlidesNavigation(section){\n\t", "CodeBleu_score": 0.2614893410616341}, {"code": "export function addSlidesNavigation(section){\n\t\t// Create the navigation container.\n\tconst navigation = document.createElement('div');\n\tnavigation.className = 'deck-navigation';\n\tsection.appendChild(navigation);\n\n\t// Create the navigation bullets.\n\tconst bullets = document.createElement('ol');\n\tbullets.className = 'deck-navigation-ol';\n\tnavigation.appendChild(bullets);\n\n\t// Get the slides.\n\tconst slides = section.querySelectorAll('section');\n\n\t// Add the bullets.\n\tlet bullet;\n\tlet i;\n\tfor (i = 0; i < slides.length; i++) {\n\t\tbullet = document.createElement('li');\n\t\tbullet.className = 'deck-navigation-li';\n\t\tbullet.setAttribute('data-slide-index', i);\n\t\tbullets.appendChild(bullet);\n\n\t\t// Add the click event.\n\t\tbullet.addEventListener('click', navigateToSlide);\n\t}\n\n\t// Position the navigation container.\n\tpositionNavigation(navigation);\n\n\t// Highlight the active slide.\n\tconst activeSlide = section.querySelector('.slide.active');\n\tif (activeSlide) {\n\t\tbullet = navigation.querySelector('[data-slide-index=\"' + activeSlide.getAttribute('data-slide-index') + '\"]');\n\t\tbullet.classList.add('deck-navigation-li-active');\n\t}\n}", "CodeBleu_score": 25.085884416540633}, {"code": "export function addSlidesNavigation(section){\n\t", "CodeBleu_score": 0.2614893410616341}]}
{"instance_id": "d86cd1fd918a", "generation_result": [{"code": "function menuItemsHandler(e){\n\t\tif (scrollTrigger.state() == 'menu') {\n\t\tvar anchor = $(this).attr('href');\n\t\tif (anchor) {\n\t\t\tif (anchor.charAt(0) == '#') {\n\t\t\t\tif (anchorsLocked) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else if (anchor == '#') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\tscrollTrigger.setState('anchor');\n\t\t\t\t\tscrollTrigger.setAnchor(anchor);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$(window).trigger('onMenuClick', [anchor]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 33.06679762710327}, {"code": "function menuItemsHandler(e){\n\t\tif (scrollTrigger.state() == 'menu') {\n\t\tif (typeof menu != 'undefined' && menu.anchorsLocked() == false && menu.anchors() != 'undefined') {\n\t\t\te.preventDefault();\n\t\t\tvar anchor = $(e.target).attr('href');\n\t\t\tscrollTrigger.setState('menu');\n\t\t\tscrollTrigger.emit('onMenuClick', anchor);\n\t\t}\n\t}\n}", "CodeBleu_score": 33.807304014373976}, {"code": "function menuItemsHandler(e){\n\t\tif(scrollTrigger.state == 'menu') {\n\t\tvar anchor = e.currentTarget.getAttribute('href');\n\t\tif(anchor && (anchors[anchor].locked || anchors[anchor].target == '_self')) {\n\t\t\te.preventDefault();\n\t\t\tscrollTrigger.state = 'menu';\n\t\t\tscrollTrigger.emit('onMenuClick', anchor);\n\t\t}\n\t}\n}", "CodeBleu_score": 30.080887450388584}]}
{"instance_id": "19fb16a46144", "generation_result": [{"code": "export function setScrolling(element, val){\n\t\tif (element.classList.contains(SLIDES_WRAPPER) || element === window) {\n\t\telement.scrollLeft = val;\n\t} else {\n\t\telement.scrollTo(0, val);\n\t}\n}", "CodeBleu_score": 25.896478116165266}, {"code": "export function setScrolling(element, val){\n\t\tif (element.classList.contains(SLIDES_WRAPPER)) {\n\t\telement.scrollLeft = val;\n\t} else if (element.classList.contains(SCROLLBAR_CLASS)) {\n\t\telement.scrollTo({ top: val, behavior: \"smooth\" });\n\t} else if (autoScroll) {\n\t\telement.style.top = val + \"px\";\n\t}\n}", "CodeBleu_score": 32.11009655834415}, {"code": "export function setScrolling(element, val){\n\t\tif (element === window) {\n\t\treturn;\n\t}\n\n\tif (element.classList.contains(SLIDES_WRAPPER)) {\n\t\telement.scrollLeft = val;\n\t} else if (isAutoScrollingEnabled() || hasVerticalScrollbar(element)) {\n\t\telement.scrollTo(element.scrollLeft, val);\n\t} else {\n\t\telement.style.top = `${val}px`;\n\t}\n}", "CodeBleu_score": 37.67359790502274}]}
{"instance_id": "09a10e1f1af9", "generation_result": [{"code": "function activateMenuElement(name){\n\t\tvar menuElements = document.querySelectorAll('a[data-menuanchor]');\n\tfor (var i = 0; i < menuElements.length; i++) {\n\t\tif (menuElements[i].getAttribute('data-menuanchor') === name) {\n\t\t\tif (menuElements[i].parentNode.className.indexOf('active') < 0) {\n\t\t\t\tmenuElements[i].parentNode.className += ' active';\n\t\t\t}\n\t\t} else {\n\t\t\tif (menuElements[i].parentNode.className.indexOf('active') >= 0) {\n\t\t\t\tmenuElements[i].parentNode.className = menuElements[i].parentNode.className.replace(' active', '');\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 20.48273568154994}, {"code": "function activateMenuElement(name){\n\t\tvar menuElements = document.querySelectorAll('.menu-element');\n\n\tfor (var i = 0; i < menuElements.length; i++) {\n\t\tvar element = menuElements[i];\n\n\t\tif (element.dataset.menuanchor == name) {\n\t\t\telement.classList.add('active');\n\t\t} else {\n\t\t\telement.classList.remove('active');\n\t\t}\n\t}\n}", "CodeBleu_score": 21.82245231008839}, {"code": "function activateMenuElement(name){\n\t\tif(name) {\n\t\tvar menuElements = document.querySelectorAll('[data-menuanchor]');\n\t\tfor(var i = 0; i < menuElements.length; i++) {\n\t\t\tvar menuElement = menuElements[i];\n\t\t\tvar menuAnchor = menuElement.getAttribute('data-menuanchor');\n\t\t\tif(menuAnchor === name) {\n\t\t\t\tmenuElement.classList.add('active');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmenuElement.classList.remove('active');\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 24.609024688933413}]}
{"instance_id": "4556a956fd7c", "generation_result": [{"code": "export function lazyLoadOthers(){\n\t\t//if the lazy loading is not enabled, or there's no section to lazy load, return\n    if (!state.lazyLoadingEnabled || !state.sectionsToLazyLoad.length) return;\n\n    //if the responsive mode is active, we need to check if there are any responsive auto-height sections to lazy load\n    if (state.responsiveMode) {\n        //if there are responsive auto-height sections to lazy load, proceed to lazy load them\n        if (state.responsiveSectionsToLazyLoad.length) {\n            //for each responsive auto-height section to lazy load, check if it's in the viewport\n            for (var i = 0; i < state.responsiveSectionsToLazyLoad.length; i++) {\n                var section = state.responsiveSectionsToLazyLoad[i];\n                if (isSectionInViewport(section)) {\n                    //if it's in the viewport, remove it from the list of responsive auto-height sections to lazy load and lazy load it\n                    state.responsiveSectionsToLazyLoad.splice(i, 1);\n                    lazyLoadSection(section);\n                    break;\n                }\n            }\n        }\n    }\n    //if the responsive mode is not active, we need to check if there are any auto-height sections to lazy load\n    else {\n        //if there are auto-height sections to lazy load, proceed to lazy load them\n        if (state.sectionsToLazyLoad.length) {\n            //for each auto-height section to lazy load, check if it's in the viewport\n            for (var i = 0; i < state.sectionsToLazyLoad.length; i++) {\n                var section = state.sectionsToLazyLoad[i];\n                if (isSectionInViewport(section)) {\n                    //if it's in the viewport, remove it from the list of auto-height sections to lazy load and lazy load it\n                    state.sectionsToLazyLoad.splice(i, 1);\n                    lazyLoadSection(section);\n                    break;\n                }\n            }\n        }\n    }\n}", "CodeBleu_score": 20.786831813446323}, {"code": "export function lazyLoadOthers(){\n\t\tif (state.lazyLoadingEnabled) {\n\t\tif (state.autoHeightSections.length > 0 || state.responsive) {\n\t\t\tvar lazyLoadSections = [];\n\t\t\tvar allSections = [].slice.call(document.querySelectorAll(config.sectionSelector));\n\t\t\tvar allSectionsLength = allSections.length;\n\n\t\t\tfor (var i = 0; i < allSectionsLength; i++) {\n\t\t\t\tvar section = allSections[i];\n\t\t\t\tvar isAlreadyActive = section.classList.contains(config.activeClass);\n\t\t\t\tvar isNotInViewport = !isSectionInViewport(section);\n\t\t\t\tvar isAutoHeightSection = state.autoHeightSections.indexOf(section) > -1;\n\t\t\t\tvar isResponsiveAutoHeightSection = state.responsive && section.classList.contains(config.responsiveAutoHeightClass);\n\n\t\t\t\tif (!isAlreadyActive && isNotInViewport && (isAutoHeightSection || isResponsiveAutoHeightSection)) {\n\t\t\t\t\tlazyLoadSections.push(section);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlazyLoadSections.forEach(function (section) {\n\t\t\t\tlazyLoadSection(section);\n\t\t\t});\n\t\t}\n\t}\n}", "CodeBleu_score": 28.760289944185047}, {"code": "export function lazyLoadOthers(){\n\t\t//lazy loading is enabled and there are auto-height sections\n\tif (state.lazyLoadingEnabled && state.autoHeightSections.length > 0) {\n\t\t//loop through all the auto-height sections\n\t\tfor (var i = 0; i < state.autoHeightSections.length; i++) {\n\t\t\tvar section = state.autoHeightSections[i];\n\t\t\t//check if the section is in the viewport\n\t\t\tif (isSectionInViewport(section)) {\n\t\t\t\t//check if the section is already active\n\t\t\t\tif (!section.isActive) {\n\t\t\t\t\t//if the section is not active, activate it\n\t\t\t\t\tactivateSection(section);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}", "CodeBleu_score": 21.71571840505311}]}
{"instance_id": "a4324e094376", "generation_result": [{"code": "function keepSlidesPosition(){\n\t\tvar activeSlides = getActiveSlides();\n\tfor (var i = 0; i < activeSlides.length; i++) {\n\t\tsilentLandscapeScroll(activeSlides[i], 'internal');\n\t}\n}", "CodeBleu_score": 51.01280300189256}, {"code": "function keepSlidesPosition(){\n\t\tvar activeSlides = getActiveSlides();\n\tfor (var i = 0; i < activeSlides.length; i++) {\n\t\tsilentLandscapeScroll(activeSlides[i], 'internal');\n\t}\n}", "CodeBleu_score": 51.01280300189256}, {"code": "function keepSlidesPosition(){\n\t\tvar activeSlides = getActiveSlides();\n\tfor (var i = 0; i < activeSlides.length; i++) {\n\t\tsilentLandscapeScroll(activeSlides[i], 'internal');\n\t}\n}", "CodeBleu_score": 51.01280300189256}]}
{"instance_id": "9eb664182655", "generation_result": [{"code": "export function updateStructuralState(){\n\t\t// Get all section items\n\tvar sectionItems = document.querySelectorAll(config.sectionSelector);\n\n\t// Filter section items to get visible ones\n\tvar visibleSectionItems = Array.prototype.filter.call(sectionItems, function(sectionItem) {\n\t\treturn sectionItem.matches(':not([data-visibility=\"hidden\"])');\n\t});\n\n\t// Create SectionPanel objects for each section item\n\tvar sectionPanels = Array.prototype.map.call(visibleSectionItems, function(sectionItem, index) {\n\t\treturn new SectionPanel(sectionItem, index);\n\t});\n\n\t// Filter section panels to get visible ones\n\tvar visibleSectionPanels = sectionPanels.filter(function(sectionPanel) {\n\t\treturn sectionPanel.isVisible();\n\t});\n\n\t// Get all slides from the visible sections\n\tvar slides = Array.prototype.reduce.call(visibleSectionPanels, function(slides, sectionPanel) {\n\t\treturn slides.concat(sectionPanel.getSlides());\n\t}, []);\n\n\t// Update state\n\tstate.sections = sectionPanels;\n\tstate.slides = slides;\n\tstate.panels = visibleSectionPanels;\n\tstate.activeSection = visibleSectionPanels[state.activeSectionIndex];\n\tstate.activeSlide = state.activeSection.slides[state.activeSlideIndex];\n\tstate.activePanel = state.activeSection.panels[state.activePanelIndex];\n\tstate.prevActiveSectionIndex = state.activeSectionIndex;\n\tstate.prevActiveSlideIndex = state.activeSlideIndex;\n\tstate.prevActivePanelIndex = state.activePanelIndex;\n}", "CodeBleu_score": 43.43509393980448}, {"code": "export function updateStructuralState(){\n\t", "CodeBleu_score": 0.27397006286914616}, {"code": "export function updateStructuralState(){\n\t\t// get all section items\n\tvar sectionItems = jQuery(\".section-item\");\n\t// filter to get only visible ones\n\tvar visibleSectionItems = jQuery(sectionItems).filter(function() {\n\t\treturn jQuery(this).css(\"display\") !== \"none\";\n\t});\n\t// create SectionPanel objects for each section item and filter by visibility\n\tvar visibleSections = visibleSectionItems.map(function(index, sectionItem) {\n\t\treturn new SectionPanel(sectionItem);\n\t});\n\t// get all slides\n\tvar slides = jQuery(\".slide\");\n\t// get all visible slides\n\tvar visibleSlides = jQuery(slides).filter(function() {\n\t\treturn jQuery(this).css(\"display\") !== \"none\";\n\t});\n\t// get all visible panels\n\tvar visiblePanels = jQuery(\".panel\").filter(function() {\n\t\treturn jQuery(this).css(\"display\") !== \"none\";\n\t});\n\t// update state\n\tstate.sections = visibleSections;\n\tstate.slides = visibleSlides;\n\tstate.panels = visiblePanels;\n\tstate.numSections = visibleSections.length;\n\tstate.numSlides = visibleSlides.length;\n\t// get the previously active section and slide indices\n\tstate.prevActiveSectionIndex = getPrevActiveSectionIndex();\n\tstate.prevActiveSlideIndex = getPrevActiveSlideIndex();\n\tstate.prevActivePanelIndex = getPrevActivePanelIndex();\n}", "CodeBleu_score": 35.97361752038548}]}
{"instance_id": "2b3c1077db45", "generation_result": [{"code": "function performHorizontalMove(slides, v, fireCallback){\n\t", "CodeBleu_score": 1.522250845899262}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\t", "CodeBleu_score": 1.522250845899262}, {"code": "function performHorizontalMove(slides, v, fireCallback){\n\t\t//if the site is not just resizing and readjusting the slides\n    if(!v.localIsResizing){\n        //preventing the user from scrolling while the transition is happening\n        setState({canScroll: false});\n\n        //updating the current slide index\n        setState({currentSlide: v.destiny});\n\n        //updating the slide navigation\n        updateNavigation(v.destiny);\n\n        //setting the scroll position\n        if(getOptions().useCSS3){\n            //applying the transition\n            slides.style[vendor('transition')] = 'transform ' + getOptions().scrollDuration + 'ms ' + getOptions().easing;\n\n            //applying the transform\n            slides.style[vendor('transform')] = 'translate3d(' + (-v.destiny * getOptions().slideWidth) + 'px, 0, 0)';\n\n            //after the transition ends, call the callback\n            setTimeout(function(){\n                afterSlideLoads(v);\n            }, getOptions().scrollDuration);\n        } else {\n            //moving the slides\n            slides.scrollLeft = -v.destiny * getOptions().slideWidth;\n\n            //after the transition ends, call the callback\n            setTimeout(function(){\n                afterSlideLoads(v);\n            }, getOptions().scrollDuration);\n        }\n\n        EventEmitter.emit(events.afterSlideMove, v);\n    }\n}", "CodeBleu_score": 35.07944411463437}]}
{"instance_id": "82491a251576", "generation_result": [{"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\tconst url = new URL(name, 'https://www.youtube.com');\n\tconst keys = Object.keys(params);\n\tkeys.sort();\n\tfor (const key of keys) {\n\t\tif (params[key] !== undefined) {\n\t\t\turl.searchParams.append(key, params[key]);\n\t\t}\n\t}\n\treturn url.toString().replace(/&$/, '');\n}", "CodeBleu_score": 30.040701177729044}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\tlet url = this.baseUrl + name + '?';\n\tconst keys = Object.keys(params).sort();\n\tfor (const key of keys) {\n\t\tif (params[key] !== undefined) {\n\t\t\turl += key + '=' + encodeURIComponent(params[key]) + '&';\n\t\t}\n\t}\n\treturn url.slice(0, -1);\n}", "CodeBleu_score": 44.39217949616497}, {"code": "buildLink (name: string, params: Record<string, any>): string{\n\t\tlet link = name;\n\tconst keys = Object.keys(params).sort();\n\tfor (const key of keys) {\n\t\tlink += `&${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`;\n\t}\n\treturn link.slice(0, -1);\n}", "CodeBleu_score": 41.39451006661251}]}
{"instance_id": "89f175570176", "generation_result": [{"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\treturn showToast({\n  ...options,\n  icon: 'loading',\n  duration: 0\n})\n}", "CodeBleu_score": 6.524933522502982}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\tconst isObject = shouldBeObject(options)\nif (!isObject.res) {\n  const res = { errMsg: `showLoading${isObject.msg}` }\n  console.error(res.errMsg)\n  return Promise.reject(res)\n}\n\nlet { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\nconst res = { errMsg: 'showLoading:ok' }\n\nconst maskStyle = mask ? styles.container : styles.noMaskContainer\n\nconst ToastView = <View style={maskStyle}>\n  <View style={styles.grayBlock}>\n    <View style={styles.toastView}>\n      <ActivityIndicator size=\"small\" color=\"#fff\" />\n      <Text style={styles.toastContent}>{title}</Text>\n    </View>\n  </View>\n</View>\n\nTaro.showToast({\n  icon: 'loading',\n  duration: 0,\n  mask,\n  success,\n  fail,\n  complete,\n  ...options\n})\n\nreturn Promise.resolve(res)\n}", "CodeBleu_score": 57.60152964162941}, {"code": "function showLoading (options: Taro.showLoading.Option): Promise<TaroGeneral.CallbackResult> {\n\tconst isObject = shouldBeObject(options)\nif (!isObject.res) {\n  const res = { errMsg: `showLoading${isObject.msg}` }\n  console.error(res.errMsg)\n  return Promise.reject(res)\n}\n\nconst { title = '', mask = false, success, fail, complete } = options || {} // eslint-disable-line\n\nreturn showToast({\n  title,\n  icon: 'loading',\n  duration: 0,\n  mask,\n  success,\n  fail,\n  complete\n})\n}", "CodeBleu_score": 87.98655809523844}]}
{"instance_id": "7d41757a0645", "generation_result": [{"code": "export function HomepageTweets(){\n\t\tconst [tweets, setTweets] = React.useState([]);\n\tconst [error, setError] = React.useState(false);\n\tconst [loading, setLoading] = React.useState(true);\n\n\tReact.useEffect(() => {\n\t\tconst fetchTweets = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\"/api/tweets\");\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetTweets(data);\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(true);\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t};\n\t\tfetchTweets();\n\t}, []);\n\n\tif (error) {\n\t\treturn <div>Something went wrong...</div>;\n\t} else if (loading) {\n\t\treturn <div>Loading...</div>;\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"homepage-tweets\">\n\t\t\t\t<h2 className=\"homepage-tweets-heading\">Latest Tweets</h2>\n\t\t\t\t<div className=\"homepage-tweets-row\">\n\t\t\t\t\t{tweets.map((tweet) => (\n\t\t\t\t\t\t<Tweet\n\t\t\t\t\t\t\tkey={tweet.id}\n\t\t\t\t\t\t\tid={tweet.id}\n\t\t\t\t\t\t\tusername={tweet.username}\n\t\t\t\t\t\t\tbody={tweet.body}\n\t\t\t\t\t\t\tcreatedAt={tweet.createdAt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}", "CodeBleu_score": 47.59107202811082}, {"code": "export function HomepageTweets(){\n\t\treturn (\n\t\t<div className=\"homepage-tweets\">\n\t\t\t<h1 className=\"centered-heading\">Latest Tweets</h1>\n\t\t\t<div className=\"row\">\n\t\t\t\t{TweetList.map((tweet) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"col-md-4\" key={tweet.id}>\n\t\t\t\t\t\t\t<Tweet\n\t\t\t\t\t\t\t\tusername={tweet.username}\n\t\t\t\t\t\t\t\thandle={tweet.handle}\n\t\t\t\t\t\t\t\tbody={tweet.body}\n\t\t\t\t\t\t\t\tdate={tweet.date}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 48.02985071167502}, {"code": "export function HomepageTweets(){\n\t\treturn (\n\t\t<div className=\"container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-sm\">\n\t\t\t\t\t<h2 className=\"text-center\">Tweets</h2>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t{TweetList.map((tweet) => (\n\t\t\t\t\t\t\t<Tweet\n\t\t\t\t\t\t\t\tkey={tweet.id}\n\t\t\t\t\t\t\t\tid={tweet.id}\n\t\t\t\t\t\t\t\tusername={tweet.username}\n\t\t\t\t\t\t\t\tbody={tweet.body}\n\t\t\t\t\t\t\t\tdate={tweet.date}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}", "CodeBleu_score": 53.48467382738489}]}
